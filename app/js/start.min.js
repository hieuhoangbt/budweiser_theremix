var $jscomp={scope:{},findInternal:function(f,c,g){f instanceof String&&(f=String(f));for(var d=f.length,b=0;b<d;b++){var h=f[b];if(c.call(g,h,b,f))return{i:b,v:h}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,c,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[c]=g.value)};
$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(f,c,g,d){if(c){g=$jscomp.global;f=f.split(".");for(d=0;d<f.length-1;d++){var b=f[d];b in g||(g[b]={});g=g[b]}f=f[f.length-1];d=g[f];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(g,f,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(c,g){return $jscomp.findInternal(this,c,g).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var c=0;return $jscomp.iteratorPrototype(function(){return c<f.length?{done:!1,value:f[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(f,c){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var g=0,d={next:function(){if(g<f.length){var b=g++;return{value:c(b,f[b]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(c,g){return g})}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(f){return f?f:function(c,g,d){var b=this.length||0;0>g&&(g=Math.max(0,b+g));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(g=Number(g||0);g<d;g++)this[g]=c;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(f,c,g){if(null==f)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return f+""};
$jscomp.polyfill("String.prototype.repeat",function(f){return f?f:function(c){var g=$jscomp.checkStringArgs(this,null,"repeat");if(0>c||1342177279<c)throw new RangeError("Invalid count value");c|=0;for(var d="";c;)if(c&1&&(d+=g),c>>>=1)g+=g;return d}},"es6-impl","es3");
(function(f,c){"object"===typeof module&&"object"===typeof module.exports?module.exports=f.document?c(f,!0):function(g){if(!g.document)throw Error("jQuery requires a window with a document");return c(g)}:c(f)})("undefined"!==typeof window?window:this,function(f,c){function g(a){var b=!!a&&"length"in a&&a.length,e=k.type(a);return"function"===e||k.isWindow(a)?!1:"array"===e||0===b||"number"===typeof b&&0<b&&b-1 in a}function d(a,b,e){if(k.isFunction(b))return k.grep(a,function(a,c){return!!b.call(a,
c,a)!==e});if(b.nodeType)return k.grep(a,function(a){return a===b!==e});if("string"===typeof b){if(Db.test(b))return k.filter(b,a,e);b=k.filter(b,a)}return k.grep(a,function(a){return-1<k.inArray(a,b)!==e})}function b(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function h(a){var b={};k.each(a.match(ba)||[],function(a,e){b[e]=!0});return b}function a(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",e),f.removeEventListener("load",e)):(H.detachEvent("onreadystatechange",e),f.detachEvent("onload",
e))}function e(){if(H.addEventListener||"load"===f.event.type||"complete"===H.readyState)a(),k.ready()}function l(a,b,e){if(void 0===e&&1===a.nodeType)if(e="data-"+b.replace(Eb,"-$1").toLowerCase(),e=a.getAttribute(e),"string"===typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:Fb.test(e)?k.parseJSON(e):e}catch(ia){}k.data(a,b,e)}else e=void 0;return e}function n(a){for(var b in a)if(("data"!==b||!k.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function m(a,b,e,c){if(ja(a)){var h=
k.expando,d=a.nodeType,r=d?k.cache:a,g=d?a[h]:a[h]&&h;if(g&&r[g]&&(c||r[g].data)||void 0!==e||"string"!==typeof b){g||(g=d?a[h]=V.pop()||k.guid++:h);r[g]||(r[g]=d?{}:{toJSON:k.noop});if("object"===typeof b||"function"===typeof b)c?r[g]=k.extend(r[g],b):r[g].data=k.extend(r[g].data,b);a=r[g];c||(a.data||(a.data={}),a=a.data);void 0!==e&&(a[k.camelCase(b)]=e);"string"===typeof b?(e=a[b],null==e&&(e=a[k.camelCase(b)])):e=a;return e}}}function p(a,b,e){if(ja(a)){var c,h,d=a.nodeType,r=d?k.cache:a,g=d?
a[k.expando]:k.expando;if(r[g]){if(b&&(c=e?r[g]:r[g].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in c?b=[b]:(b=k.camelCase(b),b=b in c?[b]:b.split(" "));for(h=b.length;h--;)delete c[b[h]];if(e?!n(c):!k.isEmptyObject(c))return}if(!e&&(delete r[g].data,!n(r[g])))return;d?k.cleanData([a],!0):G.deleteExpando||r!=r.window?delete r[g]:r[g]=void 0}}}function q(a,b,e,c){var h,d=1,r=20,g=c?function(){return c.cur()}:function(){return k.css(a,b,"")},f=g(),l=e&&e[3]||(k.cssNumber[b]?"":"px"),E=(k.cssNumber[b]||
"px"!==l&&+f)&&Ha.exec(k.css(a,b));if(E&&E[3]!==l){l=l||E[3];e=e||[];E=+f||1;do d=d||".5",E/=d,k.style(a,b,E+l);while(d!==(d=g()/f)&&1!==d&&--r)}e&&(E=+E||+f||0,h=e[1]?E+(e[1]+1)*e[2]:+e[2],c&&(c.unit=l,c.start=E,c.end=h));return h}function t(a){var b="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());
return a}function u(a,b){var e,c,h=0,d="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!d)for(d=[],e=a.childNodes||a;null!=(c=e[h]);h++)!b||k.nodeName(c,b)?d.push(c):k.merge(d,u(c,b));return void 0===b||b&&k.nodeName(a,b)?k.merge([a],d):d}function v(a,b){for(var e,c=0;null!=(e=a[c]);c++)k._data(e,"globalEval",!b||k._data(b[c],"globalEval"))}function x(a){Ia.test(a.type)&&(a.defaultChecked=a.checked)}
function w(a,b,e,c,h){for(var d,r,g,f,l,E,n=a.length,m=t(b),N=[],p=0;p<n;p++)if((r=a[p])||0===r)if("object"===k.type(r))k.merge(N,r.nodeType?[r]:r);else if(Ib.test(r)){g=g||m.appendChild(b.createElement("div"));f=(bb.exec(r)||["",""])[1].toLowerCase();E=U[f]||U._default;g.innerHTML=E[1]+k.htmlPrefilter(r)+E[2];for(d=E[0];d--;)g=g.lastChild;!G.leadingWhitespace&&Ja.test(r)&&N.push(b.createTextNode(Ja.exec(r)[0]));if(!G.tbody)for(d=(r="table"!==f||cb.test(r)?"\x3ctable\x3e"!==E[1]||cb.test(r)?0:g:g.firstChild)&&
r.childNodes.length;d--;)k.nodeName(l=r.childNodes[d],"tbody")&&!l.childNodes.length&&r.removeChild(l);k.merge(N,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=m.lastChild}else N.push(b.createTextNode(r));g&&m.removeChild(g);G.appendChecked||k.grep(u(N,"input"),x);for(p=0;r=N[p++];)if(c&&-1<k.inArray(r,c))h&&h.push(r);else if(a=k.contains(r.ownerDocument,r),g=u(m.appendChild(r),"script"),a&&v(g),e)for(d=0;r=g[d++];)db.test(r.type||"")&&e.push(r);return m}function B(){return!0}
function A(){return!1}function C(){try{return H.activeElement}catch(r){}}function y(a,b,e,c,h,d){var r,g;if("object"===typeof b){"string"!==typeof e&&(c=c||e,e=void 0);for(g in b)y(a,g,e,c,b[g],d);return a}null==c&&null==h?(h=e,c=e=void 0):null==h&&("string"===typeof e?(h=c,c=void 0):(h=c,c=e,e=void 0));if(!1===h)h=A;else if(!h)return a;1===d&&(r=h,h=function(a){k().off(a);return r.apply(this,arguments)},h.guid=r.guid||(r.guid=k.guid++));return a.each(function(){k.event.add(this,b,h,c,e)})}function I(a,
b){return k.nodeName(a,"table")&&k.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function z(a){a.type=(null!==k.find.attr(a,"type"))+"/"+a.type;return a}function D(a){var b=Jb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function K(a,b){if(1===b.nodeType&&k.hasData(a)){var e,c,h;c=k._data(a);a=k._data(b,c);var d=c.events;if(d)for(e in delete a.handle,a.events={},d)for(c=0,h=d[e].length;c<h;c++)k.event.add(b,
e,d[e][c]);a.data&&(a.data=k.extend({},a.data))}}function F(a,b,e,c){b=eb.apply([],b);var h,d,g,r,f=0,l=a.length,E=l-1,n=b[0],m=k.isFunction(n);if(m||1<l&&"string"===typeof n&&!G.checkClone&&Kb.test(n))return a.each(function(h){var d=a.eq(h);m&&(b[0]=n.call(this,h,d.html()));F(d,b,e,c)});if(l&&(r=w(b,a[0].ownerDocument,!1,a,c),h=r.firstChild,1===r.childNodes.length&&(r=h),h||c)){g=k.map(u(r,"script"),z);for(d=g.length;f<l;f++)h=r,f!==E&&(h=k.clone(h,!0,!0),d&&k.merge(g,u(h,"script"))),e.call(a[f],
h,f);if(d)for(r=g[g.length-1].ownerDocument,k.map(g,D),f=0;f<d;f++)h=g[f],db.test(h.type||"")&&!k._data(h,"globalEval")&&k.contains(r,h)&&(h.src?k._evalUrl&&k._evalUrl(h.src):k.globalEval((h.text||h.textContent||h.innerHTML||"").replace(Lb,"")));r=h=null}return a}function O(a,b,e){for(var c=b?k.filter(b,a):a,h=0;null!=(b=c[h]);h++)e||1!==b.nodeType||k.cleanData(u(b)),b.parentNode&&(e&&k.contains(b.ownerDocument,b)&&v(u(b,"script")),b.parentNode.removeChild(b));return a}function L(a,b){a=k(b.createElement(a)).appendTo(b.body);
b=k.css(a[0],"display");a.detach();return b}function J(a){var b=H,e=fb[a];e||(e=L(a,b),"none"!==e&&e||(va=(va||k("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(b.documentElement),b=(va[0].contentWindow||va[0].contentDocument).document,b.write(),b.close(),e=L(a,b),va.detach()),fb[a]=e);return e}function Q(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function R(a){if(a in gb)return a;for(var b=a.charAt(0).toUpperCase()+
a.slice(1),e=hb.length;e--;)if(a=hb[e]+b,a in gb)return a}function S(a,b){for(var e,c,h,d=[],g=0,r=a.length;g<r;g++)c=a[g],c.style&&(d[g]=k._data(c,"olddisplay"),e=c.style.display,b?(d[g]||"none"!==e||(c.style.display=""),""===c.style.display&&ra(c)&&(d[g]=k._data(c,"olddisplay",J(c.nodeName)))):(h=ra(c),(e&&"none"!==e||!h)&&k._data(c,"olddisplay",h?e:k.css(c,"display"))));for(g=0;g<r;g++)c=a[g],!c.style||b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?d[g]||"":"none");return a}
function T(a,b,e){return(a=Mb.exec(b))?Math.max(0,a[1]-(e||0))+(a[2]||"px"):b}function X(a,b,e,c,h){b=e===(c?"border":"content")?4:"width"===b?1:0;for(var d=0;4>b;b+=2)"margin"===e&&(d+=k.css(a,e+ka[b],!0,h)),c?("content"===e&&(d-=k.css(a,"padding"+ka[b],!0,h)),"margin"!==e&&(d-=k.css(a,"border"+ka[b]+"Width",!0,h))):(d+=k.css(a,"padding"+ka[b],!0,h),"padding"!==e&&(d+=k.css(a,"border"+ka[b]+"Width",!0,h)));return d}function Z(a,b,e){var c=!0,h="width"===b?a.offsetWidth:a.offsetHeight,d=la(a),g=G.boxSizing&&
"border-box"===k.css(a,"boxSizing",!1,d);if(0>=h||null==h){h=ga(a,b,d);if(0>h||null==h)h=a.style[b];if(Aa.test(h))return h;c=g&&(G.boxSizingReliable()||h===a.style[b]);h=parseFloat(h)||0}return h+X(a,b,e||(g?"border":"content"),c,d)+"px"}function M(a,b,e,c,h){return new M.prototype.init(a,b,e,c,h)}function P(){f.setTimeout(function(){ma=void 0});return ma=k.now()}function xa(a,b){var e,c={height:a},h=0;for(b=b?1:0;4>h;h+=2-b)e=ka[h],c["margin"+e]=c["padding"+e]=a;b&&(c.opacity=c.width=a);return c}
function wa(a,b,e){for(var c,h=(Y.tweeners[b]||[]).concat(Y.tweeners["*"]),d=0,g=h.length;d<g;d++)if(c=h[d].call(e,b,a))return c}function za(a,b){var e,c,h,d,g;for(e in a)if(c=k.camelCase(e),h=b[c],d=a[e],k.isArray(d)&&(h=d[1],d=a[e]=d[0]),e!==c&&(a[c]=d,delete a[e]),(g=k.cssHooks[c])&&"expand"in g)for(e in d=g.expand(d),delete a[c],d)e in a||(a[e]=d[e],b[e]=h);else b[c]=h}function Y(a,b,e){var c,h=0,d=Y.prefilters.length,g=k.Deferred().always(function(){delete r.elem}),r=function(){if(c)return!1;
for(var b=ma||P(),b=Math.max(0,f.startTime+f.duration-b),e=1-(b/f.duration||0),h=0,d=f.tweens.length;h<d;h++)f.tweens[h].run(e);g.notifyWith(a,[f,e,b]);if(1>e&&d)return b;g.resolveWith(a,[f]);return!1},f=g.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},e),originalProperties:b,originalOptions:e,startTime:ma||P(),duration:e.duration,tweens:[],createTween:function(b,e){b=k.Tween(a,f.opts,b,e,f.opts.specialEasing[b]||f.opts.easing);f.tweens.push(b);return b},
stop:function(b){var e=0,h=b?f.tweens.length:0;if(c)return this;for(c=!0;e<h;e++)f.tweens[e].run(1);b?(g.notifyWith(a,[f,1,0]),g.resolveWith(a,[f,b])):g.rejectWith(a,[f,b]);return this}});e=f.props;for(za(e,f.opts.specialEasing);h<d;h++)if(b=Y.prefilters[h].call(f,a,e,f.opts))return k.isFunction(b.stop)&&(k._queueHooks(f.elem,f.opts.queue).stop=k.proxy(b.stop,b)),b;k.map(e,wa,f);k.isFunction(f.opts.start)&&f.opts.start.call(a,f);k.fx.timer(k.extend(r,{elem:a,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,
f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function na(a){return k.attr(a,"class")||""}function ca(a){return function(b,e){"string"!==typeof b&&(e=b,b="*");var c=0,h=b.toLowerCase().match(ba)||[];if(k.isFunction(e))for(;b=h[c++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(e)):(a[b]=a[b]||[]).push(e)}}function da(a,b,e,c){function h(r){var f;d[r]=!0;k.each(a[r]||[],function(a,r){a=r(b,e,c);if("string"===typeof a&&!g&&!d[a])return b.dataTypes.unshift(a),h(a),!1;if(g)return!(f=
a)});return f}var d={},g=a===Ka;return h(b.dataTypes[0])||!d["*"]&&h("*")}function La(a,b){var e,c,h=k.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((h[c]?a:e||(e={}))[c]=b[c]);e&&k.extend(!0,a,e);return a}function Nb(a){if(!k.contains(a.ownerDocument||H,a))return!0;for(;a&&1===a.nodeType;){if("none"===(a.style&&a.style.display||k.css(a,"display"))||"hidden"===a.type)return!0;a=a.parentNode}return!1}function Ma(a,b,e,c){var h;if(k.isArray(b))k.each(b,function(b,h){e||Ob.test(a)?c(a,h):Ma(a+
"["+("object"===typeof h&&null!=h?b:"")+"]",h,e,c)});else if(e||"object"!==k.type(b))c(a,b);else for(h in b)Ma(a+"["+h+"]",b[h],e,c)}function Na(){try{return new f.XMLHttpRequest}catch(r){}}function ib(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(r){}}function jb(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var V=[],H=f.document,aa=V.slice,eb=V.concat,Oa=V.push,kb=V.indexOf,Ba={},Pb=Ba.toString,fa=Ba.hasOwnProperty,G={},k=function(a,b){return new k.fn.init(a,
b)},Qb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Rb=/^-ms-/,Sb=/-([\da-z])/gi,Tb=function(a,b){return b.toUpperCase()};k.fn=k.prototype={jquery:"1.12.4",constructor:k,selector:"",length:0,toArray:function(){return aa.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:aa.call(this)},pushStack:function(a){a=k.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a){return k.each(this,a)},map:function(a){return this.pushStack(k.map(this,function(b,
e){return a.call(b,e,b)}))},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Oa,sort:V.sort,splice:V.splice};k.extend=k.fn.extend=function(){var a,b,e,c,h,d=arguments[0]||{},g=1,f=arguments.length,l=!1;"boolean"===typeof d&&(l=d,d=arguments[g]||{},g++);
"object"===typeof d||k.isFunction(d)||(d={});g===f&&(d=this,g--);for(;g<f;g++)if(null!=(h=arguments[g]))for(c in h)a=d[c],e=h[c],d!==e&&(l&&e&&(k.isPlainObject(e)||(b=k.isArray(e)))?(b?(b=!1,a=a&&k.isArray(a)?a:[]):a=a&&k.isPlainObject(a)?a:{},d[c]=k.extend(l,a,e)):void 0!==e&&(d[c]=e));return d};k.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray||
function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!k.isArray(a)&&0<=b-parseFloat(b)+1},isEmptyObject:function(a){for(var b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!fa.call(a,"constructor")&&!fa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(N){return!1}if(!G.ownFirst)for(b in a)return fa.call(a,
b);for(b in a);return void 0===b||fa.call(a,b)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Ba[Pb.call(a)]||"object":typeof a},globalEval:function(a){a&&k.trim(a)&&(f.execScript||function(a){f.eval.call(f,a)})(a)},camelCase:function(a){return a.replace(Rb,"ms-").replace(Sb,Tb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var e,c=0;if(g(a))for(e=a.length;c<e&&!1!==b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===
b.call(a[c],c,a[c]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Qb,"")},makeArray:function(a,b){b=b||[];null!=a&&(g(Object(a))?k.merge(b,"string"===typeof a?[a]:a):Oa.call(b,a));return b},inArray:function(a,b,e){var c;if(b){if(kb)return kb.call(b,a,e);c=b.length;for(e=e?0>e?Math.max(0,c+e):e:0;e<c;e++)if(e in b&&b[e]===a)return e}return-1},merge:function(a,b){for(var e=+b.length,c=0,h=a.length;c<e;)a[h++]=b[c++];if(e!==e)for(;void 0!==b[c];)a[h++]=b[c++];a.length=h;return a},
grep:function(a,b,e){for(var c=[],h=0,d=a.length,g=!e;h<d;h++)e=!b(a[h],h),e!==g&&c.push(a[h]);return c},map:function(a,b,e){var c,h,d=0,f=[];if(g(a))for(c=a.length;d<c;d++)h=b(a[d],d,e),null!=h&&f.push(h);else for(d in a)h=b(a[d],d,e),null!=h&&f.push(h);return eb.apply([],f)},guid:1,proxy:function(a,b){var e,c;"string"===typeof b&&(c=a[b],b=a,a=c);if(k.isFunction(a))return e=aa.call(arguments,2),c=function(){return a.apply(b||this,e.concat(aa.call(arguments)))},c.guid=a.guid=a.guid||k.guid++,c},
now:function(){return+new Date},support:G});"function"===typeof Symbol&&(k.fn[Symbol.iterator]=V[Symbol.iterator]);k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ba["[object "+b+"]"]=b.toLowerCase()});var sa=function(a){function b(a,b,e,c){var h,d,g,f,l,r=b&&b.ownerDocument,m=b?b.nodeType:9;e=e||[];if("string"!==typeof a||!a||1!==m&&9!==m&&11!==m)return e;if(!c&&((b?b.ownerDocument||b:X)!==z&&R(b),b=b||z,T)){if(11!==m&&(f=ua.exec(a)))if(h=f[1])if(9===
m)if(d=b.getElementById(h)){if(d.id===h)return e.push(d),e}else return e;else{if(r&&(d=r.getElementById(h))&&Z(b,d)&&d.id===h)return e.push(d),e}else{if(f[2])return V.apply(e,b.getElementsByTagName(a)),e;if((h=f[3])&&w.getElementsByClassName&&b.getElementsByClassName)return V.apply(e,b.getElementsByClassName(h)),e}if(!(!w.qsa||wa[a+" "]||F&&F.test(a))){if(1!==m)r=b,l=a;else if("object"!==b.nodeName.toLowerCase()){(g=b.getAttribute("id"))?g=g.replace(va,"\\$\x26"):b.setAttribute("id",g=P);f=B(a);h=
f.length;for(d=ma.test(g)?"#"+g:"[id\x3d'"+g+"']";h--;)f[h]=d+" "+k(f[h]);l=f.join(",");r=ja.test(a)&&n(b.parentNode)||b}if(l)try{return V.apply(e,r.querySelectorAll(l)),e}catch(Ec){}finally{g===P&&b.removeAttribute("id")}}}return S(a.replace(aa,"$1"),b,e,c)}function e(){function a(e,c){b.push(e+" ")>J.cacheLength&&delete a[b.shift()];return a[e+" "]=c}var b=[];return a}function c(a){a[P]=!0;return a}function h(a){var b=z.createElement("div");try{return!!a(b)}catch(Cc){return!1}finally{b.parentNode&&
b.parentNode.removeChild(b)}}function d(a,b){a=a.split("|");for(var e=a.length;e--;)J.attrHandle[a[e]]=b}function g(a,b){var e=b&&a,c=e&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function l(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function r(a){return c(function(b){b=
+b;return c(function(e,c){for(var h,d=a([],e.length,b),g=d.length;g--;)e[h=d[g]]&&(e[h]=!(c[h]=e[h]))})})}function n(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function m(){}function k(a){for(var b=0,e=a.length,c="";b<e;b++)c+=a[b].value;return c}function p(a,b,e){var c=b.dir,h=e&&"parentNode"===c,d=xa++;return b.first?function(b,e,d){for(;b=b[c];)if(1===b.nodeType||h)return a(b,e,d)}:function(b,e,g){var f,l,r=[H,d];if(g)for(;b=b[c];){if((1===b.nodeType||h)&&a(b,e,g))return!0}else for(;b=
b[c];)if(1===b.nodeType||h){l=b[P]||(b[P]={});l=l[b.uniqueID]||(l[b.uniqueID]={});if((f=l[c])&&f[0]===H&&f[1]===d)return r[2]=f[2];l[c]=r;if(r[2]=a(b,e,g))return!0}}}function q(a){return 1<a.length?function(b,e,c){for(var h=a.length;h--;)if(!a[h](b,e,c))return!1;return!0}:a[0]}function t(a,b,e,c,h){for(var d,g=[],f=0,l=a.length,r=null!=b;f<l;f++)if(d=a[f])if(!e||e(d,c,h))g.push(d),r&&b.push(f);return g}function u(a,e,h,d,g,f){d&&!d[P]&&(d=u(d));g&&!g[P]&&(g=u(g,f));return c(function(c,f,l,r){var n,
m,k=[],E=[],p=f.length,N;if(!(N=c)){N=e||"*";for(var q=l.nodeType?[l]:l,ia=[],u=0,ya=q.length;u<ya;u++)b(N,q[u],ia);N=ia}N=!a||!c&&e?N:t(N,k,a,l,r);q=h?g||(c?a:p||d)?[]:f:N;h&&h(N,q,l,r);if(d)for(n=t(q,E),d(n,[],l,r),l=n.length;l--;)if(m=n[l])q[E[l]]=!(N[E[l]]=m);if(c){if(g||a){if(g){n=[];for(l=q.length;l--;)(m=q[l])&&n.push(N[l]=m);g(null,q=[],n,r)}for(l=q.length;l--;)(m=q[l])&&-1<(n=g?W(c,m):k[l])&&(c[n]=!(f[n]=m))}}else q=t(q===f?q.splice(p,q.length):q),g?g(null,f,q,r):V.apply(f,q)})}function v(a){var b,
e,c,h=a.length,d=J.relative[a[0].type];e=d||J.relative[" "];for(var g=d?1:0,f=p(function(a){return a===b},e,!0),l=p(function(a){return-1<W(b,a)},e,!0),r=[function(a,e,c){a=!d&&(c||e!==y)||((b=e).nodeType?f(a,e,c):l(a,e,c));b=null;return a}];g<h;g++)if(e=J.relative[a[g].type])r=[p(q(r),e)];else{e=J.filter[a[g].type].apply(null,a[g].matches);if(e[P]){for(c=++g;c<h&&!J.relative[a[c].type];c++);return u(1<g&&q(r),1<g&&k(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(aa,"$1"),e,g<c&&
v(a.slice(g,c)),c<h&&v(a=a.slice(c)),c<h&&k(a))}r.push(e)}return q(r)}function x(a,e){var h=0<e.length,d=0<a.length,g=function(c,g,f,l,r){var n,m,k,E=0,p="0",N=c&&[],q=[],ia=y,u=c||d&&J.find.TAG("*",r),ya=H+=null==ia?1:Math.random()||.1,ab=u.length;for(r&&(y=g===z||g||r);p!==ab&&null!=(n=u[p]);p++){if(d&&n){m=0;g||n.ownerDocument===z||(R(n),f=!T);for(;k=a[m++];)if(k(n,g||z,f)){l.push(n);break}r&&(H=ya)}h&&((n=!k&&n)&&E--,c&&N.push(n))}E+=p;if(h&&p!==E){for(m=0;k=e[m++];)k(N,q,g,f);if(c){if(0<E)for(;p--;)N[p]||
q[p]||(q[p]=ba.call(l));q=t(q)}V.apply(l,q);r&&!c&&0<q.length&&1<E+e.length&&b.uniqueSort(l)}r&&(H=ya,y=ia);return N};return h?c(g):g}var L,w,J,Q,I,B,D,S,y,C,A,R,z,M,T,F,K,G,Z,P="sizzle"+1*new Date,X=a.document,H=0,xa=0,O=e(),Y=e(),wa=e(),za=function(a,b){a===b&&(A=!0);return 0},na={}.hasOwnProperty,U=[],ba=U.pop,ca=U.push,V=U.push,da=U.slice,W=function(a,b){for(var e=0,c=a.length;e<c;e++)if(a[e]===b)return e;return-1},ga=/[\x20\t\r\n\f]+/g,aa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
ha=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ka=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,la=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,qa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,ma=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,fa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},sa=/^(?:input|select|textarea|button)$/i,ta=/^h\d$/i,ea=
/^[^{]+\{\s*\[native \w/,ua=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ja=/[+~]/,va=/'|\\/g,oa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,pa=function(a,b,e){a="0x"+b-65536;return a!==a||e?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},ra=function(){R()};try{V.apply(U=da.call(X.childNodes),X.childNodes),U[X.childNodes.length].nodeType}catch(Bc){V={apply:U.length?function(a,b){ca.apply(a,da.call(b))}:function(a,b){for(var e=a.length,c=0;a[e++]=b[c++];);a.length=
e-1}}}w=b.support={};I=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};R=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:X;if(a===z||9!==a.nodeType||!a.documentElement)return z;z=a;M=z.documentElement;T=!I(z);(b=z.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",ra,!1):b.attachEvent&&b.attachEvent("onunload",ra));w.attributes=h(function(a){a.className="i";return!a.getAttribute("className")});w.getElementsByTagName=h(function(a){a.appendChild(z.createComment(""));
return!a.getElementsByTagName("*").length});w.getElementsByClassName=ea.test(z.getElementsByClassName);w.getById=h(function(a){M.appendChild(a).id=P;return!z.getElementsByName||!z.getElementsByName(P).length});w.getById?(J.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&T)return(a=b.getElementById(a))?[a]:[]},J.filter.ID=function(a){var b=a.replace(oa,pa);return function(a){return a.getAttribute("id")===b}}):(delete J.find.ID,J.filter.ID=function(a){var b=a.replace(oa,pa);return function(a){return(a=
"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});J.find.TAG=w.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(w.qsa)return b.querySelectorAll(a)}:function(a,b){var e=[],c=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[c++];)1===a.nodeType&&e.push(a);return e}return b};J.find.CLASS=w.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&T)return b.getElementsByClassName(a)};
K=[];F=[];if(w.qsa=ea.test(z.querySelectorAll))h(function(a){M.appendChild(a).innerHTML="\x3ca id\x3d'"+P+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+P+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&F.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||F.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~\x3d"+P+"-]").length||F.push("~\x3d");a.querySelectorAll(":checked").length||F.push(":checked");a.querySelectorAll("a#"+P+"+*").length||F.push(".#.+[+~]")}),h(function(a){var b=z.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&F.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");a.querySelectorAll(":enabled").length||F.push(":enabled",":disabled");a.querySelectorAll("*,:x");F.push(",.*:")});
(w.matchesSelector=ea.test(G=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&h(function(a){w.disconnectedMatch=G.call(a,"div");G.call(a,"[s!\x3d'']:x");K.push("!\x3d",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
F=F.length&&new RegExp(F.join("|"));K=K.length&&new RegExp(K.join("|"));Z=(b=ea.test(M.compareDocumentPosition))||ea.test(M.contains)?function(a,b){var e=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(e.contains?e.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};za=b?function(a,b){if(a===b)return A=!0,0;var e=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(e)return e;e=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return e&1||!w.sortDetached&&b.compareDocumentPosition(a)===e?a===z||a.ownerDocument===X&&Z(X,a)?-1:b===z||b.ownerDocument===X&&Z(X,b)?1:C?W(C,a)-W(C,b):0:e&4?-1:1}:function(a,b){if(a===b)return A=!0,0;var e=0,c=a.parentNode,h=b.parentNode,d=[a],f=[b];if(!c||!h)return a===z?-1:b===z?1:c?-1:h?1:C?W(C,a)-W(C,b):0;if(c===h)return g(a,b);for(;a=a.parentNode;)d.unshift(a);for(a=b;a=a.parentNode;)f.unshift(a);for(;d[e]===
f[e];)e++;return e?g(d[e],f[e]):d[e]===X?-1:f[e]===X?1:0};return z};b.matches=function(a,e){return b(a,null,null,e)};b.matchesSelector=function(a,e){(a.ownerDocument||a)!==z&&R(a);e=e.replace(la,"\x3d'$1']");if(!(!w.matchesSelector||!T||wa[e+" "]||K&&K.test(e)||F&&F.test(e)))try{var c=G.call(a,e);if(c||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(Dc){}return 0<b(e,z,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==z&&R(a);return Z(a,b)};b.attr=function(a,
b){(a.ownerDocument||a)!==z&&R(a);var e=J.attrHandle[b.toLowerCase()],e=e&&na.call(J.attrHandle,b.toLowerCase())?e(a,b,!T):void 0;return void 0!==e?e:w.attributes||!T?a.getAttribute(b):(e=a.getAttributeNode(b))&&e.specified?e.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,e=[],c=0,h=0;A=!w.detectDuplicates;C=!w.sortStable&&a.slice(0);a.sort(za);if(A){for(;b=a[h++];)b===a[h]&&(c=e.push(h));for(;c--;)a.splice(e[c],1)}C=null;
return a};Q=b.getText=function(a){var b,e="",c=0;b=a.nodeType;if(!b)for(;b=a[c++];)e+=Q(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=Q(a)}else if(3===b||4===b)return a.nodeValue;return e};J=b.selectors={cacheLength:50,createPseudo:c,match:fa,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(oa,pa);a[3]=(a[3]||a[4]||a[5]||"").replace(oa,pa);"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,e=!a[6]&&a[2];if(fa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":e&&qa.test(e)&&(b=B(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(a[0]=
a[0].slice(0,b),a[2]=e.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(oa,pa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=O[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),O(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,e,c){return function(h){h=
b.attr(h,a);if(null==h)return"!\x3d"===e;if(!e)return!0;h+="";return"\x3d"===e?h===c:"!\x3d"===e?h!==c:"^\x3d"===e?c&&0===h.indexOf(c):"*\x3d"===e?c&&-1<h.indexOf(c):"$\x3d"===e?c&&h.slice(-c.length)===c:"~\x3d"===e?-1<(" "+h.replace(ga," ")+" ").indexOf(c):"|\x3d"===e?h===c||h.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,e,c,h){var d="nth"!==a.slice(0,3),g="last"!==a.slice(-4),f="of-type"===b;return 1===c&&0===h?function(a){return!!a.parentNode}:function(b,e,l){var r,n,m,k,E;e=d!==g?"nextSibling":
"previousSibling";var p=b.parentNode,N=f&&b.nodeName.toLowerCase();l=!l&&!f;r=!1;if(p){if(d){for(;e;){for(m=b;m=m[e];)if(f?m.nodeName.toLowerCase()===N:1===m.nodeType)return!1;E=e="only"===a&&!E&&"nextSibling"}return!0}E=[g?p.firstChild:p.lastChild];if(g&&l)for(m=p,n=m[P]||(m[P]={}),n=n[m.uniqueID]||(n[m.uniqueID]={}),r=n[a]||[],r=(k=r[0]===H&&r[1])&&r[2],m=k&&p.childNodes[k];m=++k&&m&&m[e]||(r=k=0)||E.pop();){if(1===m.nodeType&&++r&&m===b){n[a]=[H,k,r];break}}else if(l&&(m=b,n=m[P]||(m[P]={}),n=
n[m.uniqueID]||(n[m.uniqueID]={}),r=n[a]||[],r=k=r[0]===H&&r[1]),!1===r)for(;(m=++k&&m&&m[e]||(r=k=0)||E.pop())&&((f?m.nodeName.toLowerCase()!==N:1!==m.nodeType)||!++r||(l&&(n=m[P]||(m[P]={}),n=n[m.uniqueID]||(n[m.uniqueID]={}),n[a]=[H,r]),m!==b)););r-=h;return r===c||0===r%c&&0<=r/c}}},PSEUDO:function(a,e){var h,d=J.pseudos[a]||J.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return d[P]?d(e):1<d.length?(h=[a,a,"",e],J.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,b){for(var c,
h=d(a,e),g=h.length;g--;)c=W(a,h[g]),a[c]=!(b[c]=h[g])}):function(a){return d(a,0,h)}):d}},pseudos:{not:c(function(a){var b=[],e=[],h=D(a.replace(aa,"$1"));return h[P]?c(function(a,b,e,c){c=h(a,null,c,[]);for(var d=a.length;d--;)if(e=c[d])a[d]=!(b[d]=e)}):function(a,c,d){b[0]=a;h(b,null,d,e);b[0]=null;return!e.pop()}}),has:c(function(a){return function(e){return 0<b(a,e).length}}),contains:c(function(a){a=a.replace(oa,pa);return function(b){return-1<(b.textContent||b.innerText||Q(b)).indexOf(a)}}),
lang:c(function(a){ma.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(oa,pa).toLowerCase();return function(b){var e;do if(e=T?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===M},focus:function(a){return a===z.activeElement&&(!z.hasFocus||z.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!J.pseudos.empty(a)},header:function(a){return ta.test(a.nodeName)},input:function(a){return sa.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:r(function(){return[0]}),last:r(function(a,b){return[b-1]}),eq:r(function(a,b,e){return[0>e?e+b:e]}),even:r(function(a,b){for(var e=0;e<b;e+=2)a.push(e);return a}),odd:r(function(a,b){for(var e=1;e<b;e+=2)a.push(e);return a}),lt:r(function(a,b,e){for(b=
0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:r(function(a,b,e){for(e=0>e?e+b:e;++e<b;)a.push(e);return a})}};J.pseudos.nth=J.pseudos.eq;for(L in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})J.pseudos[L]=f(L);for(L in{submit:!0,reset:!0})J.pseudos[L]=l(L);m.prototype=J.filters=J.pseudos;J.setFilters=new m;B=b.tokenize=function(a,e){var c,h,d,g,f,l,r;if(f=Y[a+" "])return e?0:f.slice(0);f=a;l=[];for(r=J.preFilter;f;){if(!c||(h=ha.exec(f)))h&&(f=f.slice(h[0].length)||f),l.push(d=[]);c=!1;if(h=ka.exec(f))c=
h.shift(),d.push({value:c,type:h[0].replace(aa," ")}),f=f.slice(c.length);for(g in J.filter)!(h=fa[g].exec(f))||r[g]&&!(h=r[g](h))||(c=h.shift(),d.push({value:c,type:g,matches:h}),f=f.slice(c.length));if(!c)break}return e?f.length:f?b.error(a):Y(a,l).slice(0)};D=b.compile=function(a,b){var e,c=[],h=[],d=wa[a+" "];if(!d){b||(b=B(a));for(e=b.length;e--;)d=v(b[e]),d[P]?c.push(d):h.push(d);d=wa(a,x(h,c));d.selector=a}return d};S=b.select=function(a,b,e,c){var h,d,g,f,l="function"===typeof a&&a,r=!c&&
B(a=l.selector||a);e=e||[];if(1===r.length){d=r[0]=r[0].slice(0);if(2<d.length&&"ID"===(g=d[0]).type&&w.getById&&9===b.nodeType&&T&&J.relative[d[1].type]){b=(J.find.ID(g.matches[0].replace(oa,pa),b)||[])[0];if(!b)return e;l&&(b=b.parentNode);a=a.slice(d.shift().value.length)}for(h=fa.needsContext.test(a)?0:d.length;h--;){g=d[h];if(J.relative[f=g.type])break;if(f=J.find[f])if(c=f(g.matches[0].replace(oa,pa),ja.test(d[0].type)&&n(b.parentNode)||b)){d.splice(h,1);a=c.length&&k(d);if(!a)return V.apply(e,
c),e;break}}}(l||D(a,r))(c,b,!T,e,!b||ja.test(a)&&n(b.parentNode)||b);return e};w.sortStable=P.split("").sort(za).join("")===P;w.detectDuplicates=!!A;R();w.sortDetached=h(function(a){return a.compareDocumentPosition(z.createElement("div"))&1});h(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,b,e){if(!e)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});w.attributes&&h(function(a){a.innerHTML="\x3cinput/\x3e";
a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||d("value",function(a,b,e){if(!e&&"input"===a.nodeName.toLowerCase())return a.defaultValue});h(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,e){var c;if(!e)return!0===a[b]?b.toLowerCase():(c=a.getAttributeNode(b))&&c.specified?c.value:null});return b}(f);k.find=sa;k.expr=
sa.selectors;k.expr[":"]=k.expr.pseudos;k.uniqueSort=k.unique=sa.uniqueSort;k.text=sa.getText;k.isXMLDoc=sa.isXML;k.contains=sa.contains;var ta=function(a,b,e){for(var c=[],h=void 0!==e;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(h&&k(a).is(e))break;c.push(a)}return c},mb=function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e},nb=k.expr.match.needsContext,ob=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Db=/^.[^:#\[\.,]*$/;k.filter=function(a,b,e){var c=b[0];e&&(a=":not("+a+
")");return 1===b.length&&1===c.nodeType?k.find.matchesSelector(c,a)?[c]:[]:k.find.matches(a,k.grep(b,function(a){return 1===a.nodeType}))};k.fn.extend({find:function(a){var b,e=[],c=this,h=c.length;if("string"!==typeof a)return this.pushStack(k(a).filter(function(){for(b=0;b<h;b++)if(k.contains(c[b],this))return!0}));for(b=0;b<h;b++)k.find(a,c[b],e);e=this.pushStack(1<h?k.unique(e):e);e.selector=this.selector?this.selector+" "+a:a;return e},filter:function(a){return this.pushStack(d(this,a||[],!1))},
not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"===typeof a&&nb.test(a)?k(a):a||[],!1).length}});var Pa,Vb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(a,b,e){var c;if(!a)return this;e=e||Pa;if("string"===typeof a){c="\x3c"===a.charAt(0)&&"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Vb.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(c[1],
b&&b.nodeType?b.ownerDocument||b:H,!0)),ob.test(c[1])&&k.isPlainObject(b))for(c in b)if(k.isFunction(this[c]))this[c](b[c]);else this.attr(c,b[c])}else{if((b=H.getElementById(c[2]))&&b.parentNode){if(b.id!==c[2])return Pa.find(a);this.length=1;this[0]=b}this.context=H;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(k.isFunction(a))return"undefined"!==typeof e.ready?e.ready(a):a(k);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);
return k.makeArray(a,this)}).prototype=k.fn;Pa=k(H);var Wb=/^(?:parents|prev(?:Until|All))/,Xb={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({has:function(a){var b,e=k(a,this),c=e.length;return this.filter(function(){for(b=0;b<c;b++)if(k.contains(this,e[b]))return!0})},closest:function(a,b){for(var e,c=0,h=this.length,d=[],g=nb.test(a)||"string"!==typeof a?k(a,b||this.context):0;c<h;c++)for(e=this[c];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(g?-1<g.index(e):1===e.nodeType&&k.find.matchesSelector(e,
a))){d.push(e);break}return this.pushStack(1<d.length?k.uniqueSort(d):d)},index:function(a){return a?"string"===typeof a?k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return ta(a,
"parentNode")},parentsUntil:function(a,b,e){return ta(a,"parentNode",e)},next:function(a){return b(a,"nextSibling")},prev:function(a){return b(a,"previousSibling")},nextAll:function(a){return ta(a,"nextSibling")},prevAll:function(a){return ta(a,"previousSibling")},nextUntil:function(a,b,e){return ta(a,"nextSibling",e)},prevUntil:function(a,b,e){return ta(a,"previousSibling",e)},siblings:function(a){return mb((a.parentNode||{}).firstChild,a)},children:function(a){return mb(a.firstChild)},contents:function(a){return k.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(e,c){var h=k.map(this,b,e);"Until"!==a.slice(-5)&&(c=e);c&&"string"===typeof c&&(h=k.filter(c,h));1<this.length&&(Xb[a]||(h=k.uniqueSort(h)),Wb.test(a)&&(h=h.reverse()));return this.pushStack(h)}});var ba=/\S+/g;k.Callbacks=function(a){a="string"===typeof a?h(a):k.extend({},a);var b,e,c,d,g=[],f=[],l=-1,r=function(){d=a.once;for(c=b=!0;f.length;l=-1)for(e=f.shift();++l<g.length;)!1===g[l].apply(e[0],
e[1])&&a.stopOnFalse&&(l=g.length,e=!1);a.memory||(e=!1);b=!1;d&&(g=e?[]:"")},n={add:function(){g&&(e&&!b&&(l=g.length-1,f.push(e)),function Gb(b){k.each(b,function(b,e){k.isFunction(e)?a.unique&&n.has(e)||g.push(e):e&&e.length&&"string"!==k.type(e)&&Gb(e)})}(arguments),e&&!b&&r());return this},remove:function(){k.each(arguments,function(a,b){for(var e;-1<(e=k.inArray(b,g,e));)g.splice(e,1),e<=l&&l--});return this},has:function(a){return a?-1<k.inArray(a,g):0<g.length},empty:function(){g&&(g=[]);
return this},disable:function(){d=f=[];g=e="";return this},disabled:function(){return!g},lock:function(){d=!0;e||n.disable();return this},locked:function(){return!!d},fireWith:function(a,e){d||(e=e||[],e=[a,e.slice?e.slice():e],f.push(e),b||r());return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!c}};return n};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],
["notify","progress",k.Callbacks("memory")]],e="pending",c={state:function(){return e},always:function(){h.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return k.Deferred(function(e){k.each(b,function(b,d){var g=k.isFunction(a[b])&&a[b];h[d[1]](function(){var a=g&&g.apply(this,arguments);if(a&&k.isFunction(a.promise))a.promise().progress(e.notify).done(e.resolve).fail(e.reject);else e[d[0]+"With"](this===c?e.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=
a?k.extend(a,c):c}},h={};c.pipe=c.then;k.each(b,function(a,d){var g=d[2],f=d[3];c[d[1]]=g.add;f&&g.add(function(){e=f},b[a^1][2].disable,b[2][2].lock);h[d[0]]=function(){h[d[0]+"With"](this===h?c:this,arguments);return this};h[d[0]+"With"]=g.fireWith});c.promise(h);a&&a.call(h,h);return h},when:function(a){var b=0,e=aa.call(arguments),c=e.length,h=1!==c||a&&k.isFunction(a.promise)?c:0,d=1===h?a:k.Deferred(),g=function(a,b,e){return function(c){b[a]=this;e[a]=1<arguments.length?aa.call(arguments):
c;e===f?d.notifyWith(b,e):--h||d.resolveWith(b,e)}},f,l,r;if(1<c)for(f=Array(c),l=Array(c),r=Array(c);b<c;b++)e[b]&&k.isFunction(e[b].promise)?e[b].promise().progress(g(b,l,f)).done(g(b,r,e)).fail(d.reject):--h;h||d.resolveWith(r,e);return d.promise()}});var Ca;k.fn.ready=function(a){k.ready.promise().done(a);return this};k.extend({isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){(!0===a?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==a&&0<--k.readyWait||(Ca.resolveWith(H,
[k]),k.fn.triggerHandler&&(k(H).triggerHandler("ready"),k(H).off("ready"))))}});k.ready.promise=function(b){if(!Ca)if(Ca=k.Deferred(),"complete"===H.readyState||"loading"!==H.readyState&&!H.documentElement.doScroll)f.setTimeout(k.ready);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",e),f.addEventListener("load",e);else{H.attachEvent("onreadystatechange",e);f.attachEvent("onload",e);var c=!1;try{c=null==f.frameElement&&H.documentElement}catch(N){}c&&c.doScroll&&function ia(){if(!k.isReady){try{c.doScroll("left")}catch(ya){return f.setTimeout(ia,
50)}a();k.ready()}}()}return Ca.promise(b)};k.ready.promise();for(var Yb in k(G))break;G.ownFirst="0"===Yb;G.inlineBlockNeedsLayout=!1;k(function(){var a,b,e;(b=H.getElementsByTagName("body")[0])&&b.style&&(a=H.createElement("div"),e=H.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(e).appendChild(a),"undefined"!==typeof a.style.zoom&&(a.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",G.inlineBlockNeedsLayout=
a=3===a.offsetWidth)&&(b.style.zoom=1),b.removeChild(e))});(function(){var a=H.createElement("div");G.deleteExpando=!0;try{delete a.test}catch(E){G.deleteExpando=!1}})();var ja=function(a){var b=k.noData[(a.nodeName+" ").toLowerCase()],e=+a.nodeType||1;return 1!==e&&9!==e?!1:!b||!0!==b&&a.getAttribute("classid")===b},Fb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Eb=/([A-Z])/g;k.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?
k.cache[a[k.expando]]:a[k.expando];return!!a&&!n(a)},data:function(a,b,e){return m(a,b,e)},removeData:function(a,b){return p(a,b)},_data:function(a,b,e){return m(a,b,e,!0)},_removeData:function(a,b){return p(a,b,!0)}});k.fn.extend({data:function(a,b){var e,c,h,d=this[0],g=d&&d.attributes;if(void 0===a){if(this.length&&(h=k.data(d),1===d.nodeType&&!k._data(d,"parsedAttrs"))){for(e=g.length;e--;)g[e]&&(c=g[e].name,0===c.indexOf("data-")&&(c=k.camelCase(c.slice(5)),l(d,c,h[c])));k._data(d,"parsedAttrs",
!0)}return h}return"object"===typeof a?this.each(function(){k.data(this,a)}):1<arguments.length?this.each(function(){k.data(this,a,b)}):d?l(d,a,k.data(d,a)):void 0},removeData:function(a){return this.each(function(){k.removeData(this,a)})}});k.extend({queue:function(a,b,e){var c;if(a)return b=(b||"fx")+"queue",c=k._data(a,b),e&&(!c||k.isArray(e)?c=k._data(a,b,k.makeArray(e)):c.push(e)),c||[]},dequeue:function(a,b){b=b||"fx";var e=k.queue(a,b),c=e.length,h=e.shift(),d=k._queueHooks(a,b),g=function(){k.dequeue(a,
b)};"inprogress"===h&&(h=e.shift(),c--);h&&("fx"===b&&e.unshift("inprogress"),delete d.stop,h.call(a,g,d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return k._data(a,e)||k._data(a,e,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,b+"queue");k._removeData(a,e)})})}});k.fn.extend({queue:function(a,b){var e=2;"string"!==typeof a&&(b=a,a="fx",e--);return arguments.length<e?k.queue(this[0],a):void 0===b?this:this.each(function(){var e=k.queue(this,a,b);k._queueHooks(this,
a);"fx"===a&&"inprogress"!==e[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var e,c=1,h=k.Deferred(),d=this,g=this.length,f=function(){--c||h.resolveWith(d,[d])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";g--;)(e=k._data(d[g],a+"queueHooks"))&&e.empty&&(c++,e.empty.add(f));f();return h.promise(b)}});(function(){var a;G.shrinkWrapBlocks=function(){if(null!=a)return a;a=
!1;var b,e,c;if((e=H.getElementsByTagName("body")[0])&&e.style)return b=H.createElement("div"),c=H.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(c).appendChild(b),"undefined"!==typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(H.createElement("div")).style.width="5px",a=3!==b.offsetWidth),
e.removeChild(c),a}})();var Qa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ha=new RegExp("^(?:([+-])\x3d|)("+Qa+")([a-z%]*)$","i"),ka=["Top","Right","Bottom","Left"],ra=function(a,b){a=b||a;return"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)},ha=function(a,b,e,c,h,d,g){var f=0,l=a.length,r=null==e;if("object"===k.type(e))for(f in h=!0,e)ha(a,b,f,e[f],!0,d,g);else if(void 0!==c&&(h=!0,k.isFunction(c)||(g=!0),r&&(g?(b.call(a,c),b=null):(r=b,b=function(a,b,e){return r.call(k(a),e)})),
b))for(;f<l;f++)b(a[f],e,g?c:c.call(a[f],f,b(a[f],e)));return h?a:r?b.call(a):l?b(a[0],e):d},Ia=/^(?:checkbox|radio)$/i,bb=/<([\w:-]+)/,db=/^$|\/(?:java|ecma)script/i,Ja=/^\s+/;(function(){var a=H.createElement("div"),b=H.createDocumentFragment(),e=H.createElement("input");a.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";G.leadingWhitespace=3===a.firstChild.nodeType;G.tbody=!a.getElementsByTagName("tbody").length;G.htmlSerialize=
!!a.getElementsByTagName("link").length;G.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==H.createElement("nav").cloneNode(!0).outerHTML;e.type="checkbox";e.checked=!0;b.appendChild(e);G.appendChecked=e.checked;a.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";G.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;b.appendChild(a);e=H.createElement("input");e.setAttribute("type","radio");e.setAttribute("checked","checked");e.setAttribute("name","t");a.appendChild(e);G.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;
G.noCloneEvent=!!a.addEventListener;a[k.expando]=1;G.attributes=!a.getAttribute(k.expando)})();var U={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],
td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:G.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]};U.optgroup=U.option;U.tbody=U.tfoot=U.colgroup=U.caption=U.thead;U.th=U.td;var Ib=/<|&#?\w+;/,cb=/<tbody/i;(function(){var a,b,e=H.createElement("div");for(a in{submit:!0,change:!0,focusin:!0})b="on"+a,(G[a]=b in f)||(e.setAttribute(b,"t"),G[a]=!1===e.attributes[b].expando)})();var Ra=/^(?:input|select|textarea)$/i,Zb=/^key/,$b=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,
pb=/^(?:focusinfocus|focusoutblur)$/,qb=/^([^.]*)(?:\.(.+)|)/;k.event={global:{},add:function(a,b,e,c,h){var d,g,f,l,r,n,m,p,E;if(f=k._data(a)){e.handler&&(l=e,e=l.handler,h=l.selector);e.guid||(e.guid=k.guid++);(g=f.events)||(g=f.events={});(r=f.handle)||(r=f.handle=function(a){return"undefined"===typeof k||a&&k.event.triggered===a.type?void 0:k.event.dispatch.apply(r.elem,arguments)},r.elem=a);b=(b||"").match(ba)||[""];for(f=b.length;f--;)d=qb.exec(b[f])||[],p=n=d[1],E=(d[2]||"").split(".").sort(),
p&&(d=k.event.special[p]||{},p=(h?d.delegateType:d.bindType)||p,d=k.event.special[p]||{},n=k.extend({type:p,origType:n,data:c,handler:e,guid:e.guid,selector:h,needsContext:h&&k.expr.match.needsContext.test(h),namespace:E.join(".")},l),(m=g[p])||(m=g[p]=[],m.delegateCount=0,d.setup&&!1!==d.setup.call(a,c,E,r)||(a.addEventListener?a.addEventListener(p,r,!1):a.attachEvent&&a.attachEvent("on"+p,r))),d.add&&(d.add.call(a,n),n.handler.guid||(n.handler.guid=e.guid)),h?m.splice(m.delegateCount++,0,n):m.push(n),
k.event.global[p]=!0);a=null}},remove:function(a,b,e,c,h){var d,g,f,l,r,n,m,p,E,q,t,N=k.hasData(a)&&k._data(a);if(N&&(n=N.events)){b=(b||"").match(ba)||[""];for(r=b.length;r--;)if(f=qb.exec(b[r])||[],E=t=f[1],q=(f[2]||"").split(".").sort(),E){m=k.event.special[E]||{};E=(c?m.delegateType:m.bindType)||E;p=n[E]||[];f=f[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=d=p.length;d--;)g=p[d],!h&&t!==g.origType||e&&e.guid!==g.guid||f&&!f.test(g.namespace)||c&&c!==g.selector&&("**"!==c||
!g.selector)||(p.splice(d,1),g.selector&&p.delegateCount--,m.remove&&m.remove.call(a,g));l&&!p.length&&(m.teardown&&!1!==m.teardown.call(a,q,N.handle)||k.removeEvent(a,E,N.handle),delete n[E])}else for(E in n)k.event.remove(a,E+b[r],e,c,!0);k.isEmptyObject(n)&&(delete N.handle,k._removeData(a,"events"))}},trigger:function(a,b,e,c){var h,d,g,l,r,n,m=[e||H],p=fa.call(a,"type")?a.type:a;r=fa.call(a,"namespace")?a.namespace.split("."):[];g=h=e=e||H;if(3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+k.event.triggered)&&
(-1<p.indexOf(".")&&(r=p.split("."),p=r.shift(),r.sort()),d=0>p.indexOf(":")&&"on"+p,a=a[k.expando]?a:new k.Event(p,"object"===typeof a&&a),a.isTrigger=c?2:3,a.namespace=r.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=e),b=null==b?[a]:k.makeArray(b,[a]),r=k.event.special[p]||{},c||!r.trigger||!1!==r.trigger.apply(e,b))){if(!c&&!r.noBubble&&!k.isWindow(e)){l=r.delegateType||p;pb.test(l+p)||(g=g.parentNode);for(;g;g=
g.parentNode)m.push(g),h=g;h===(e.ownerDocument||H)&&m.push(h.defaultView||h.parentWindow||f)}for(n=0;(g=m[n++])&&!a.isPropagationStopped();)a.type=1<n?l:r.bindType||p,(h=(k._data(g,"events")||{})[a.type]&&k._data(g,"handle"))&&h.apply(g,b),(h=d&&g[d])&&h.apply&&ja(g)&&(a.result=h.apply(g,b),!1===a.result&&a.preventDefault());a.type=p;if(!(c||a.isDefaultPrevented()||r._default&&!1!==r._default.apply(m.pop(),b))&&ja(e)&&d&&e[p]&&!k.isWindow(e)){(h=e[d])&&(e[d]=null);k.event.triggered=p;try{e[p]()}catch(Hb){}k.event.triggered=
void 0;h&&(e[d]=h)}return a.result}},dispatch:function(a){a=k.event.fix(a);var b,e,c,h,d,g=aa.call(arguments);b=(k._data(this,"events")||{})[a.type]||[];var f=k.event.special[a.type]||{};g[0]=a;a.delegateTarget=this;if(!f.preDispatch||!1!==f.preDispatch.call(this,a)){d=k.event.handlers.call(this,a,b);for(b=0;(h=d[b++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,e=0;(c=h.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(c.namespace))a.handleObj=c,a.data=
c.data,c=((k.event.special[c.origType]||{}).handle||c.handler).apply(h.elem,g),void 0!==c&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation());f.postDispatch&&f.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var e,c,h,d,g=[],f=b.delegateCount,l=a.target;if(f&&l.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==a.type)){c=[];for(e=0;e<f;e++)d=b[e],h=d.selector+" ",void 0===c[h]&&(c[h]=
d.needsContext?-1<k(h,this).index(l):k.find(h,this,null,[l]).length),c[h]&&c.push(d);c.length&&g.push({elem:l,handlers:c})}f<b.length&&g.push({elem:this,handlers:b.slice(f)});return g},fix:function(a){if(a[k.expando])return a;var b,e,c;b=a.type;var h=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=$b.test(b)?this.mouseHooks:Zb.test(b)?this.keyHooks:{});c=d.props?this.props.concat(d.props):this.props;a=new k.Event(h);for(b=c.length;b--;)e=c[b],a[e]=h[e];a.target||(a.target=h.srcElement||H);3===a.target.nodeType&&
(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,h):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,b){var e,c,h=b.button,d=b.fromElement;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||H,c=e.documentElement,e=e.body,a.pageX=b.clientX+(c&&c.scrollLeft||e&&e.scrollLeft||0)-(c&&c.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||e&&e.scrollTop||0)-(c&&c.clientTop||e&&e.clientTop||0));!a.relatedTarget&&d&&(a.relatedTarget=d===a.target?b.toElement:d);a.which||void 0===h||(a.which=h&1?1:h&2?3:h&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
C()&&this.focus)try{return this.focus(),!1}catch(r){}},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(k.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,e){a=k.extend(new k.Event,
e,{type:a,isSimulated:!0});k.event.trigger(a,null,b);a.isDefaultPrevented()&&e.preventDefault()}};k.removeEvent=H.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e)}:function(a,b,e){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,e))};k.Event=function(a,b){if(!(this instanceof k.Event))return new k.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===
a.returnValue?B:A):this.type=a;b&&k.extend(this,b);this.timeStamp=a&&a.timeStamp||k.now();this[k.expando]=!0};k.Event.prototype={constructor:k.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=B;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=B;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),
a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=B;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,c=a.relatedTarget,h=a.handleObj;if(!c||c!==this&&!k.contains(this,c))a.type=h.origType,e=h.handler.apply(this,
arguments),a.type=b;return e}}});G.submit||(k.event.special.submit={setup:function(){if(k.nodeName(this,"form"))return!1;k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=k.nodeName(a,"input")||k.nodeName(a,"button")?k.prop(a,"form"):void 0)&&!k._data(a,"submit")&&(k.event.add(a,"submit._submit",function(a){a._submitBubble=!0}),k._data(a,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",
this.parentNode,a))},teardown:function(){if(k.nodeName(this,"form"))return!1;k.event.remove(this,"._submit")}});G.change||(k.event.special.change={setup:function(){if(Ra.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),k.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);k.event.simulate("change",this,a)});return!1}k.event.add(this,
"beforeactivate._change",function(a){a=a.target;Ra.test(a.nodeName)&&!k._data(a,"change")&&(k.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||k.event.simulate("change",this.parentNode,a)}),k._data(a,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){k.event.remove(this,"._change");return!Ra.test(this.nodeName)}});
G.focusin||k.each({focus:"focusin",blur:"focusout"},function(a,b){var e=function(a){k.event.simulate(b,a.target,k.event.fix(a))};k.event.special[b]={setup:function(){var c=this.ownerDocument||this,h=k._data(c,b);h||c.addEventListener(a,e,!0);k._data(c,b,(h||0)+1)},teardown:function(){var c=this.ownerDocument||this,h=k._data(c,b)-1;h?k._data(c,b,h):(c.removeEventListener(a,e,!0),k._removeData(c,b))}}});k.fn.extend({on:function(a,b,e,c){return y(this,a,b,e,c)},one:function(a,b,e,c){return y(this,a,
b,e,c,1)},off:function(a,b,e){var c;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,k(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"===typeof a){for(c in a)this.off(c,b,a[c]);return this}if(!1===b||"function"===typeof b)e=b,b=void 0;!1===e&&(e=A);return this.each(function(){k.event.remove(this,a,e,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var e=this[0];if(e)return k.event.trigger(a,
b,e,!0)}});var ac=/ jQuery\d+="(?:null|\d+)"/g,rb=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\s/>]/i,bc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,cc=/<script|<style|<link/i,Kb=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Sa=t(H).appendChild(H.createElement("div"));k.extend({htmlPrefilter:function(a){return a.replace(bc,
"\x3c$1\x3e\x3c/$2\x3e")},clone:function(a,b,e){var c,h,d,g,f,l=k.contains(a.ownerDocument,a);G.html5Clone||k.isXMLDoc(a)||!rb.test("\x3c"+a.nodeName+"\x3e")?d=a.cloneNode(!0):(Sa.innerHTML=a.outerHTML,Sa.removeChild(d=Sa.firstChild));if(!(G.noCloneEvent&&G.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a)))for(c=u(d),f=u(a),g=0;null!=(h=f[g]);++g)if(c[g]){var n=c[g],m,r=void 0,p;if(1===n.nodeType){m=n.nodeName.toLowerCase();if(!G.noCloneEvent&&n[k.expando]){p=k._data(n);for(r in p.events)k.removeEvent(n,
r,p.handle);n.removeAttribute(k.expando)}if("script"===m&&n.text!==h.text)z(n).text=h.text,D(n);else if("object"===m)n.parentNode&&(n.outerHTML=h.outerHTML),G.html5Clone&&h.innerHTML&&!k.trim(n.innerHTML)&&(n.innerHTML=h.innerHTML);else if("input"===m&&Ia.test(h.type))n.defaultChecked=n.checked=h.checked,n.value!==h.value&&(n.value=h.value);else if("option"===m)n.defaultSelected=n.selected=h.defaultSelected;else if("input"===m||"textarea"===m)n.defaultValue=h.defaultValue}}if(b)if(e)for(f=f||u(a),
c=c||u(d),g=0;null!=(h=f[g]);g++)K(h,c[g]);else K(a,d);c=u(d,"script");0<c.length&&v(c,!l&&u(a,"script"));return d},cleanData:function(a,b){for(var e,c,h,d,g=0,f=k.expando,l=k.cache,n=G.attributes,m=k.event.special;null!=(e=a[g]);g++)if(b||ja(e))if(d=(h=e[f])&&l[h]){if(d.events)for(c in d.events)m[c]?k.event.remove(e,c):k.removeEvent(e,c,d.handle);l[h]&&(delete l[h],n||"undefined"===typeof e.removeAttribute?e[f]=void 0:e.removeAttribute(f),V.push(h))}}});k.fn.extend({domManip:F,detach:function(a){return O(this,
a,!0)},remove:function(a){return O(this,a)},text:function(a){return ha(this,function(a){return void 0===a?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a))},null,a,arguments.length)},append:function(){return F(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,a).appendChild(a)})},prepend:function(){return F(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=I(this,a);b.insertBefore(a,
b.firstChild)}})},before:function(){return F(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return F(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?
a:b;return this.map(function(){return k.clone(this,a,b)})},html:function(a){return ha(this,function(a){var b=this[0]||{},e=0,c=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ac,""):void 0;if(!("string"!==typeof a||cc.test(a)||!G.htmlSerialize&&rb.test(a)||!G.leadingWhitespace&&Ja.test(a)||U[(bb.exec(a)||["",""])[1].toLowerCase()])){a=k.htmlPrefilter(a);try{for(;e<c;e++)b=this[e]||{},1===b.nodeType&&(k.cleanData(u(b,!1)),b.innerHTML=a);b=0}catch(ab){}}b&&this.empty().append(a)},
null,a,arguments.length)},replaceWith:function(){var a=[];return F(this,arguments,function(b){var e=this.parentNode;0>k.inArray(this,a)&&(k.cleanData(u(this)),e&&e.replaceChild(b,this))},a)}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var e=0,c=[],h=k(a),d=h.length-1;e<=d;e++)a=e===d?this:this.clone(!0),k(h[e])[b](a),Oa.apply(c,a.get());return this.pushStack(c)}});var va,fb={HTML:"block",
BODY:"block"},sb=/^margin/,Aa=new RegExp("^("+Qa+")(?!px)[a-z%]+$","i"),Ta=function(a,b,e,c){var h,d={};for(h in b)d[h]=a.style[h],a.style[h]=b[h];e=e.apply(a,c||[]);for(h in b)a.style[h]=d[h];return e},tb=H.documentElement;(function(){function a(){var a,m=H.documentElement;m.appendChild(l);n.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";b=c=g=!1;e=d=!0;f.getComputedStyle&&(a=f.getComputedStyle(n),
b="1%"!==(a||{}).top,g="2px"===(a||{}).marginLeft,c="4px"===(a||{width:"4px"}).width,n.style.marginRight="50%",e="4px"===(a||{marginRight:"4px"}).marginRight,a=n.appendChild(H.createElement("div")),a.style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",n.style.width="1px",d=!parseFloat((f.getComputedStyle(a)||{}).marginRight),n.removeChild(a));n.style.display=
"none";if(h=0===n.getClientRects().length)if(n.style.display="",n.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",n.childNodes[0].style.borderCollapse="separate",a=n.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===a[0].offsetHeight)a[0].style.display="",a[1].style.display="none",h=0===a[0].offsetHeight;m.removeChild(l)}var b,e,c,h,d,g,l=H.createElement("div"),n=H.createElement("div");n.style&&(n.style.cssText=
"float:left;opacity:.5",G.opacity="0.5"===n.style.opacity,G.cssFloat=!!n.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===n.style.backgroundClip,l=H.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",n.innerHTML="",l.appendChild(n),G.boxSizing=""===n.style.boxSizing||""===n.style.MozBoxSizing||""===n.style.WebkitBoxSizing,k.extend(G,{reliableHiddenOffsets:function(){null==
b&&a();return h},boxSizingReliable:function(){null==b&&a();return c},pixelMarginRight:function(){null==b&&a();return e},pixelPosition:function(){null==b&&a();return b},reliableMarginRight:function(){null==b&&a();return d},reliableMarginLeft:function(){null==b&&a();return g}}))})();var la,ga,dc=/^(top|right|bottom|left)$/;f.getComputedStyle?(la=function(a){var b=a.ownerDocument.defaultView;b&&b.opener||(b=f);return b.getComputedStyle(a)},ga=function(a,b,e){var c,h,d=a.style;h=(e=e||la(a))?e.getPropertyValue(b)||
e[b]:void 0;""!==h&&void 0!==h||k.contains(a.ownerDocument,a)||(h=k.style(a,b));e&&!G.pixelMarginRight()&&Aa.test(h)&&sb.test(b)&&(a=d.width,b=d.minWidth,c=d.maxWidth,d.minWidth=d.maxWidth=d.width=h,h=e.width,d.width=a,d.minWidth=b,d.maxWidth=c);return void 0===h?h:h+""}):tb.currentStyle&&(la=function(a){return a.currentStyle},ga=function(a,b,e){var c,h,d,g=a.style;d=(e=e||la(a))?e[b]:void 0;null==d&&g&&g[b]&&(d=g[b]);if(Aa.test(d)&&!dc.test(b)){e=g.left;if(h=(c=a.runtimeStyle)&&c.left)c.left=a.currentStyle.left;
g.left="fontSize"===b?"1em":d;d=g.pixelLeft+"px";g.left=e;h&&(c.left=h)}return void 0===d?d:d+""||"auto"});var Ua=/alpha\([^)]*\)/i,ec=/opacity\s*=\s*([^)]*)/i,fc=/^(none|table(?!-c[ea]).+)/,Mb=new RegExp("^("+Qa+")(.*)$","i"),gc={position:"absolute",visibility:"hidden",display:"block"},ub={letterSpacing:"0",fontWeight:"400"},hb=["Webkit","O","Moz","ms"],gb=H.createElement("div").style;k.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=ga(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,
columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":G.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,e,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var h,d,g,f=k.camelCase(b),l=a.style;b=k.cssProps[f]||(k.cssProps[f]=R(f)||f);g=k.cssHooks[b]||k.cssHooks[f];if(void 0!==e){if(d=typeof e,"string"===d&&(h=Ha.exec(e))&&h[1]&&(e=q(a,b,h),d="number"),null!=e&&e===e&&("number"===d&&(e+=
h&&h[3]||(k.cssNumber[f]?"":"px")),G.clearCloneStyle||""!==e||0!==b.indexOf("background")||(l[b]="inherit"),!(g&&"set"in g)||void 0!==(e=g.set(a,e,c))))try{l[b]=e}catch(Ac){}}else return g&&"get"in g&&void 0!==(h=g.get(a,!1,c))?h:l[b]}},css:function(a,b,e,c){var h,d;d=k.camelCase(b);b=k.cssProps[d]||(k.cssProps[d]=R(d)||d);(d=k.cssHooks[b]||k.cssHooks[d])&&"get"in d&&(h=d.get(a,!0,e));void 0===h&&(h=ga(a,b,c));"normal"===h&&b in ub&&(h=ub[b]);return""===e||e?(a=parseFloat(h),!0===e||isFinite(a)?a||
0:h):h}});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,e,c){if(e)return fc.test(k.css(a,"display"))&&0===a.offsetWidth?Ta(a,gc,function(){return Z(a,b,c)}):Z(a,b,c)},set:function(a,e,c){var h=c&&la(a);return T(a,e,c?X(a,b,c,G.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,h),h):0)}}});G.opacity||(k.cssHooks.opacity={get:function(a,b){return ec.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var e=
a.style;a=a.currentStyle;var c=k.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",h=a&&a.filter||e.filter||"";e.zoom=1;if((1<=b||""===b)&&""===k.trim(h.replace(Ua,""))&&e.removeAttribute&&(e.removeAttribute("filter"),""===b||a&&!a.filter))return;e.filter=Ua.test(h)?h.replace(Ua,c):h+" "+c}});k.cssHooks.marginRight=Q(G.reliableMarginRight,function(a,b){if(b)return Ta(a,{display:"inline-block"},ga,[a,"marginRight"])});k.cssHooks.marginLeft=Q(G.reliableMarginLeft,function(a,b){if(b)return(parseFloat(ga(a,
"marginLeft"))||(k.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Ta(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(e){var c=0,h={};for(e="string"===typeof e?e.split(" "):[e];4>c;c++)h[a+ka[c]+b]=e[c]||e[c-2]||e[0];return h}};sb.test(a)||(k.cssHooks[a+b].set=T)});k.fn.extend({css:function(a,b){return ha(this,function(a,b,e){var c,h={},d=0;if(k.isArray(b)){e=la(a);
for(c=b.length;d<c;d++)h[b[d]]=k.css(a,b[d],!1,e);return h}return void 0!==e?k.style(a,b,e):k.css(a,b)},a,b,1<arguments.length)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){ra(this)?k(this).show():k(this).hide()})}});k.Tween=M;M.prototype={constructor:M,init:function(a,b,e,c,h,d){this.elem=a;this.prop=e;this.easing=h||k.easing._default;this.options=b;this.start=this.now=this.cur();this.end=
c;this.unit=d||(k.cssNumber[e]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,e=M.propHooks[this.prop];this.pos=this.options.duration?b=k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);e&&e.set?e.set(this):M.propHooks._default.set(this);return this}};M.prototype.init.prototype=
M.prototype;M.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=k.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(k.fx.step[a.prop])k.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[k.cssProps[a.prop]]&&!k.cssHooks[a.prop]?a.elem[a.prop]=a.now:k.style(a.elem,a.prop,a.now+a.unit)}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=
a.now)}};k.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};k.fx=M.prototype.init;k.fx.step={};var ma,Da,hc=/^(?:toggle|show|hide)$/,ic=/queueHooks$/;k.Animation=k.extend(Y,{tweeners:{"*":[function(a,b){var e=this.createTween(a,b);q(e.elem,a,Ha.exec(b),e);return e}]},tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.match(ba);for(var e,c=0,h=a.length;c<h;c++)e=a[c],Y.tweeners[e]=Y.tweeners[e]||[],Y.tweeners[e].unshift(b)},prefilters:[function(a,
b,e){var c,h,d,g,f,l,n=this,m={},p=a.style,r=a.nodeType&&ra(a),q=k._data(a,"fxshow");e.queue||(g=k._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,f=g.empty.fire,g.empty.fire=function(){g.unqueued||f()}),g.unqueued++,n.always(function(){n.always(function(){g.unqueued--;k.queue(a,"fx").length||g.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(e.overflow=[p.overflow,p.overflowX,p.overflowY],l=k.css(a,"display"),h="none"===l?k._data(a,"olddisplay")||J(a.nodeName):l,"inline"===h&&
"none"===k.css(a,"float")&&(G.inlineBlockNeedsLayout&&"inline"!==J(a.nodeName)?p.zoom=1:p.display="inline-block"));e.overflow&&(p.overflow="hidden",G.shrinkWrapBlocks()||n.always(function(){p.overflow=e.overflow[0];p.overflowX=e.overflow[1];p.overflowY=e.overflow[2]}));for(c in b)if(h=b[c],hc.exec(h)){delete b[c];d=d||"toggle"===h;if(h===(r?"hide":"show"))if("show"===h&&q&&void 0!==q[c])r=!0;else continue;m[c]=q&&q[c]||k.style(a,c)}else l=void 0;if(k.isEmptyObject(m))"inline"===("none"===l?J(a.nodeName):
l)&&(p.display=l);else for(c in q?"hidden"in q&&(r=q.hidden):q=k._data(a,"fxshow",{}),d&&(q.hidden=!r),r?k(a).show():n.done(function(){k(a).hide()}),n.done(function(){var b;k._removeData(a,"fxshow");for(b in m)k.style(a,b,m[b])}),m)b=wa(r?q[c]:0,c,n),c in q||(q[c]=b.start,r&&(b.end=b.start,b.start="width"===c||"height"===c?1:0))}],prefilter:function(a,b){b?Y.prefilters.unshift(a):Y.prefilters.push(a)}});k.speed=function(a,b,e){var c=a&&"object"===typeof a?k.extend({},a):{complete:e||!e&&b||k.isFunction(a)&&
a,duration:a,easing:e&&b||b&&!k.isFunction(b)&&b};c.duration=k.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in k.fx.speeds?k.fx.speeds[c.duration]:k.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";c.old=c.complete;c.complete=function(){k.isFunction(c.old)&&c.old.call(this);c.queue&&k.dequeue(this,c.queue)};return c};k.fn.extend({fadeTo:function(a,b,e,c){return this.filter(ra).css("opacity",0).show().end().animate({opacity:b},a,e,c)},animate:function(a,b,e,c){var h=k.isEmptyObject(a),
d=k.speed(b,e,c);b=function(){var b=Y(this,k.extend({},a),d);(h||k._data(this,"finish"))&&b.stop(!0)};b.finish=b;return h||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,e){var c=function(a){var b=a.stop;delete a.stop;b(e)};"string"!==typeof a&&(e=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,h=null!=a&&a+"queueHooks",d=k.timers,g=k._data(this);if(h)g[h]&&g[h].stop&&c(g[h]);else for(h in g)g[h]&&g[h].stop&&ic.test(h)&&c(g[h]);for(h=d.length;h--;)d[h].elem!==
this||null!=a&&d[h].queue!==a||(d[h].anim.stop(e),b=!1,d.splice(h,1));!b&&e||k.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,e=k._data(this),c=e[a+"queue"];b=e[a+"queueHooks"];var h=k.timers,d=c?c.length:0;e.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=h.length;b--;)h[b].elem===this&&h[b].queue===a&&(h[b].anim.stop(!0),h.splice(b,1));for(b=0;b<d;b++)c[b]&&c[b].finish&&c[b].finish.call(this);delete e.finish})}});k.each(["toggle","show",
"hide"],function(a,b){var e=k.fn[b];k.fn[b]=function(a,c,h){return null==a||"boolean"===typeof a?e.apply(this,arguments):this.animate(xa(b,!0),a,c,h)}});k.each({slideDown:xa("show"),slideUp:xa("hide"),slideToggle:xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,e,c){return this.animate(b,a,e,c)}});k.timers=[];k.fx.tick=function(){var a,b=k.timers,e=0;for(ma=k.now();e<b.length;e++)a=b[e],a()||b[e]!==a||b.splice(e--,1);b.length||
k.fx.stop();ma=void 0};k.fx.timer=function(a){k.timers.push(a);a()?k.fx.start():k.timers.pop()};k.fx.interval=13;k.fx.start=function(){Da||(Da=f.setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){f.clearInterval(Da);Da=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(a,b){a=k.fx?k.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,e){var c=f.setTimeout(b,a);e.stop=function(){f.clearTimeout(c)}})};(function(){var a,b=H.createElement("input"),e;H.createElement("div");
var c=H.createElement("select"),h=c.appendChild(H.createElement("option"));e=H.createElement("div");e.setAttribute("className","t");e.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";e.getElementsByTagName("a");b.setAttribute("type","checkbox");e.appendChild(b);a=e.getElementsByTagName("a")[0];a.style.cssText="top:1px";G.getSetAttribute="t"!==e.className;G.style=/top/.test(a.getAttribute("style"));G.hrefNormalized="/a"===a.getAttribute("href");
G.checkOn=!!b.value;G.optSelected=h.selected;G.enctype=!!H.createElement("form").enctype;c.disabled=!0;G.optDisabled=!h.disabled;b=H.createElement("input");b.setAttribute("value","");G.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");G.radioValue="t"===b.value})();var jc=/\r/g,kc=/[\x20\t\r\n\f]+/g;k.fn.extend({val:function(a){var b,e,c,h=this[0];if(arguments.length)return c=k.isFunction(a),this.each(function(e){1===this.nodeType&&(e=c?a.call(this,e,k(this).val()):a,null==
e?e="":"number"===typeof e?e+="":k.isArray(e)&&(e=k.map(e,function(a){return null==a?"":a+""})),b=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(h){if((b=k.valHooks[h.type]||k.valHooks[h.nodeName.toLowerCase()])&&"get"in b&&void 0!==(e=b.get(h,"value")))return e;e=h.value;return"string"===typeof e?e.replace(jc,""):null==e?"":e}}});k.extend({valHooks:{option:{get:function(a){var b=k.find.attr(a,"value");return null!=
b?b:k.trim(k.text(a)).replace(kc," ")}},select:{get:function(a){for(var b,e=a.options,c=a.selectedIndex,h=(a="select-one"===a.type||0>c)?null:[],d=a?c+1:e.length,g=0>c?d:a?c:0;g<d;g++)if(b=e[g],!(!b.selected&&g!==c||(G.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){b=k(b).val();if(a)return b;h.push(b)}return h},set:function(a,b){for(var e,c=a.options,h=k.makeArray(b),d=c.length;d--;)if(b=c[d],-1<k.inArray(k.valHooks.option.get(b),
h))try{b.selected=e=!0}catch(zc){b.scrollHeight}else b.selected=!1;e||(a.selectedIndex=-1);return c}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){if(k.isArray(b))return a.checked=-1<k.inArray(k(a).val(),b)}};G.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ea,vb,W=k.expr.attrHandle,Va=/^(?:checked|selected)$/i,qa=G.getSetAttribute,Ea=G.input;k.fn.extend({attr:function(a,b){return ha(this,k.attr,a,b,1<arguments.length)},
removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})}});k.extend({attr:function(a,b,e){var c,h,d=a.nodeType;if(3!==d&&8!==d&&2!==d){if("undefined"===typeof a.getAttribute)return k.prop(a,b,e);1===d&&k.isXMLDoc(a)||(b=b.toLowerCase(),h=k.attrHooks[b]||(k.expr.match.bool.test(b)?vb:ea));if(void 0!==e){if(null===e){k.removeAttr(a,b);return}if(h&&"set"in h&&void 0!==(c=h.set(a,e,b)))return c;a.setAttribute(b,e+"");return e}if(h&&"get"in h&&null!==(c=h.get(a,b)))return c;c=k.find.attr(a,
b);return null==c?void 0:c}},attrHooks:{type:{set:function(a,b){if(!G.radioValue&&"radio"===b&&k.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);e&&(a.value=e);return b}}}},removeAttr:function(a,b){var e,c=0,h=b&&b.match(ba);if(h&&1===a.nodeType)for(;b=h[c++];)e=k.propFix[b]||b,k.expr.match.bool.test(b)?Ea&&qa||!Va.test(b)?a[e]=!1:a[k.camelCase("default-"+b)]=a[e]=!1:k.attr(a,b,""),a.removeAttribute(qa?b:e)}});vb={set:function(a,b,e){!1===b?k.removeAttr(a,e):Ea&&qa||!Va.test(e)?a.setAttribute(!qa&&
k.propFix[e]||e,e):a[k.camelCase("default-"+e)]=a[e]=!0;return e}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var e=W[b]||k.find.attr;Ea&&qa||!Va.test(b)?W[b]=function(a,b,c){var h,d;c||(d=W[b],W[b]=h,h=null!=e(a,b,c)?b.toLowerCase():null,W[b]=d);return h}:W[b]=function(a,b,e){if(!e)return a[k.camelCase("default-"+b)]?b.toLowerCase():null}});Ea&&qa||(k.attrHooks.value={set:function(a,b,e){if(k.nodeName(a,"input"))a.defaultValue=b;else return ea&&ea.set(a,b,e)}});qa||(ea={set:function(a,
b,e){var c=a.getAttributeNode(e);c||a.setAttributeNode(c=a.ownerDocument.createAttribute(e));c.value=b+="";if("value"===e||b===a.getAttribute(e))return b}},W.id=W.name=W.coords=function(a,b,e){var c;if(!e)return(c=a.getAttributeNode(b))&&""!==c.value?c.value:null},k.valHooks.button={get:function(a,b){if((a=a.getAttributeNode(b))&&a.specified)return a.value},set:ea.set},k.attrHooks.contenteditable={set:function(a,b,e){ea.set(a,""===b?!1:b,e)}},k.each(["width","height"],function(a,b){k.attrHooks[b]=
{set:function(a,e){if(""===e)return a.setAttribute(b,"auto"),e}}}));G.style||(k.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var lc=/^(?:input|select|textarea|button|object)$/i,mc=/^(?:a|area)$/i;k.fn.extend({prop:function(a,b){return ha(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){a=k.propFix[a]||a;return this.each(function(){try{this[a]=void 0,delete this[a]}catch(E){}})}});k.extend({prop:function(a,b,e){var c,h,
d=a.nodeType;if(3!==d&&8!==d&&2!==d)return 1===d&&k.isXMLDoc(a)||(b=k.propFix[b]||b,h=k.propHooks[b]),void 0!==e?h&&"set"in h&&void 0!==(c=h.set(a,e,b))?c:a[b]=e:h&&"get"in h&&null!==(c=h.get(a,b))?c:a[b]},propHooks:{tabIndex:{get:function(a){var b=k.find.attr(a,"tabindex");return b?parseInt(b,10):lc.test(a.nodeName)||mc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});G.hrefNormalized||k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,
4)}}});G.optSelected||(k.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});G.enctype||(k.propFix.enctype="encoding");var Wa=/[\t\r\n\f]/g;k.fn.extend({addClass:function(a){var b,
e,c,h,d,g,f=0;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,b,na(this)))});if("string"===typeof a&&a)for(b=a.match(ba)||[];e=this[f++];)if(h=na(e),c=1===e.nodeType&&(" "+h+" ").replace(Wa," ")){for(g=0;d=b[g++];)0>c.indexOf(" "+d+" ")&&(c+=d+" ");c=k.trim(c);h!==c&&k.attr(e,"class",c)}return this},removeClass:function(a){var b,e,c,h,d,g,f=0;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,na(this)))});if(!arguments.length)return this.attr("class",
"");if("string"===typeof a&&a)for(b=a.match(ba)||[];e=this[f++];)if(h=na(e),c=1===e.nodeType&&(" "+h+" ").replace(Wa," ")){for(g=0;d=b[g++];)for(;-1<c.indexOf(" "+d+" ");)c=c.replace(" "+d+" "," ");c=k.trim(c);h!==c&&k.attr(e,"class",c)}return this},toggleClass:function(a,b){var e=typeof a;return"boolean"===typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):k.isFunction(a)?this.each(function(e){k(this).toggleClass(a.call(this,e,na(this),b),b)}):this.each(function(){var b,c,h,d;if("string"===
e)for(c=0,h=k(this),d=a.match(ba)||[];b=d[c++];)h.hasClass(b)?h.removeClass(b):h.addClass(b);else if(void 0===a||"boolean"===e)(b=na(this))&&k._data(this,"__className__",b),k.attr(this,"class",b||!1===a?"":k._data(this,"__className__")||"")})},hasClass:function(a){var b,e=0;for(a=" "+a+" ";b=this[e++];)if(1===b.nodeType&&-1<(" "+na(b)+" ").replace(Wa," ").indexOf(a))return!0;return!1}});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){k.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var nc=f.location,Xa=k.now(),Ya=/\?/,oc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;k.parseJSON=function(a){if(f.JSON&&f.JSON.parse)return f.JSON.parse(a+"");var b,e=null,c=k.trim(a+"");return c&&!k.trim(c.replace(oc,function(a,c,h,d){b&&
c&&(e=0);if(0===e)return a;b=h||c;e+=!d-!h;return""}))?Function("return "+c)():k.error("Invalid JSON: "+a)};k.parseXML=function(a){var b,e;if(!a||"string"!==typeof a)return null;try{f.DOMParser?(e=new f.DOMParser,b=e.parseFromString(a,"text/xml")):(b=new f.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(ia){b=void 0}b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+a);return b};var pc=/#.*$/,wb=/([?&])_=[^&]*/,qc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
rc=/^(?:GET|HEAD)$/,sc=/^\/\//,xb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yb={},Ka={},zb="*/".concat("*"),Za=nc.href,ua=xb.exec(Za.toLowerCase())||[];k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Za,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ua[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":zb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?La(La(a,k.ajaxSettings),b):La(k.ajaxSettings,a)},ajaxPrefilter:ca(yb),ajaxTransport:ca(Ka),ajax:function(a,b){function e(a,b,e,c){var m,x,w,L;L=b;if(2!==J){J=2;g&&f.clearTimeout(g);
n=void 0;d=c||"";E.readyState=0<a?4:0;c=200<=a&&300>a||304===a;if(e){w=p;for(var Q=E,I,B,D,z,S=w.contents,C=w.dataTypes;"*"===C[0];)C.shift(),void 0===B&&(B=w.mimeType||Q.getResponseHeader("Content-Type"));if(B)for(z in S)if(S[z]&&S[z].test(B)){C.unshift(z);break}if(C[0]in e)D=C[0];else{for(z in e){if(!C[0]||w.converters[z+" "+C[0]]){D=z;break}I||(I=z)}D=D||I}D?(D!==C[0]&&C.unshift(D),w=e[D]):w=void 0}a:{e=p;I=w;B=E;D=c;var y,A,R,Q={},S=e.dataTypes.slice();if(S[1])for(A in e.converters)Q[A.toLowerCase()]=
e.converters[A];for(z=S.shift();z;)if(e.responseFields[z]&&(B[e.responseFields[z]]=I),!R&&D&&e.dataFilter&&(I=e.dataFilter(I,e.dataType)),R=z,z=S.shift())if("*"===z)z=R;else if("*"!==R&&R!==z){A=Q[R+" "+z]||Q["* "+z];if(!A)for(y in Q)if(w=y.split(" "),w[1]===z&&(A=Q[R+" "+w[0]]||Q["* "+w[0]])){!0===A?A=Q[y]:!0!==Q[y]&&(z=w[0],S.unshift(w[1]));break}if(!0!==A)if(A&&e["throws"])I=A(I);else try{I=A(I)}catch(Ub){w={state:"parsererror",error:A?Ub:"No conversion from "+R+" to "+z};break a}}w={state:"success",
data:I}}if(c)p.ifModified&&((L=E.getResponseHeader("Last-Modified"))&&(k.lastModified[h]=L),(L=E.getResponseHeader("etag"))&&(k.etag[h]=L)),204===a||"HEAD"===p.type?L="nocontent":304===a?L="notmodified":(L=w.state,m=w.data,x=w.error,c=!x);else if(x=L,a||!L)L="error",0>a&&(a=0);E.status=a;E.statusText=(b||L)+"";c?u.resolveWith(q,[m,L,E]):u.rejectWith(q,[E,L,x]);E.statusCode(v);v=void 0;l&&t.trigger(c?"ajaxSuccess":"ajaxError",[E,p,c?m:x]);r.fireWith(q,[E,L]);l&&(t.trigger("ajaxComplete",[E,p]),--k.active||
k.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var c,h,d,g,l,n,m,p=k.ajaxSetup({},b),q=p.context||p,t=p.context&&(q.nodeType||q.jquery)?k(q):k.event,u=k.Deferred(),r=k.Callbacks("once memory"),v=p.statusCode||{},x={},w={},J=0,L="canceled",E={readyState:0,getResponseHeader:function(a){var b;if(2===J){if(!m)for(m={};b=qc.exec(d);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===J?d:null},setRequestHeader:function(a,
b){var e=a.toLowerCase();J||(a=w[e]=w[e]||a,x[a]=b);return this},overrideMimeType:function(a){J||(p.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>J)for(b in a)v[b]=[v[b],a[b]];else E.always(a[E.status]);return this},abort:function(a){a=a||L;n&&n.abort(a);e(0,a);return this}};u.promise(E).complete=r.add;E.success=E.done;E.error=E.fail;p.url=((a||p.url||Za)+"").replace(pc,"").replace(sc,ua[1]+"//");p.type=b.method||b.type||p.method||p.type;p.dataTypes=k.trim(p.dataType||"*").toLowerCase().match(ba)||
[""];null==p.crossDomain&&(a=xb.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===ua[1]&&a[2]===ua[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(ua[3]||("http:"===ua[1]?"80":"443"))));p.data&&p.processData&&"string"!==typeof p.data&&(p.data=k.param(p.data,p.traditional));da(yb,p,b,E);if(2===J)return E;(l=k.event&&p.global)&&0===k.active++&&k.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!rc.test(p.type);h=p.url;p.hasContent||(p.data&&(h=p.url+=(Ya.test(h)?"\x26":"?")+p.data,
delete p.data),!1===p.cache&&(p.url=wb.test(h)?h.replace(wb,"$1_\x3d"+Xa++):h+(Ya.test(h)?"\x26":"?")+"_\x3d"+Xa++));p.ifModified&&(k.lastModified[h]&&E.setRequestHeader("If-Modified-Since",k.lastModified[h]),k.etag[h]&&E.setRequestHeader("If-None-Match",k.etag[h]));(p.data&&p.hasContent&&!1!==p.contentType||b.contentType)&&E.setRequestHeader("Content-Type",p.contentType);E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zb+
"; q\x3d0.01":""):p.accepts["*"]);for(c in p.headers)E.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(!1===p.beforeSend.call(q,E,p)||2===J))return E.abort();L="abort";for(c in{success:1,error:1,complete:1})E[c](p[c]);if(n=da(Ka,p,b,E)){E.readyState=1;l&&t.trigger("ajaxSend",[E,p]);if(2===J)return E;p.async&&0<p.timeout&&(g=f.setTimeout(function(){E.abort("timeout")},p.timeout));try{J=1,n.send(x,e)}catch(lb){if(2>J)e(-1,lb);else throw lb;}}else e(-1,"No Transport");return E},getJSON:function(a,
b,e){return k.get(a,b,e,"json")},getScript:function(a,b){return k.get(a,void 0,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,e,c,h){k.isFunction(e)&&(h=h||c,c=e,e=void 0);return k.ajax(k.extend({url:a,type:b,dataType:h,data:e,success:c},k.isPlainObject(a)&&a))}});k._evalUrl=function(a){return k.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};k.fn.extend({wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,
b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return k.isFunction(a)?this.each(function(b){k(this).wrapInner(a.call(this,b))}):this.each(function(){var b=k(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(e){k(this).wrapAll(b?
a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});k.expr.filters.hidden=function(a){return G.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:Nb(a)};k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)};var tc=/%20/g,Ob=/\[\]$/,Ab=/\r?\n/g,uc=/^(?:submit|button|image|reset|file)$/i,vc=/^(?:input|select|textarea|keygen)/i;k.param=function(a,b){var e,
c=[],h=function(a,b){b=k.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};void 0===b&&(b=k.ajaxSettings&&k.ajaxSettings.traditional);if(k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){h(this.name,this.value)});else for(e in a)Ma(e,a[e],b,h);return c.join("\x26").replace(tc,"+")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?
k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&vc.test(this.nodeName)&&!uc.test(a)&&(this.checked||!Ia.test(a))}).map(function(a,b){a=k(this).val();return null==a?null:k.isArray(a)?k.map(a,function(a){return{name:b.name,value:a.replace(Ab,"\r\n")}}):{name:b.name,value:a.replace(Ab,"\r\n")}}).get()}});k.ajaxSettings.xhr=void 0!==f.ActiveXObject?function(){return this.isLocal?ib():8<H.documentMode?Na():/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Na()||ib()}:Na;var wc=0,Fa={},Ga=k.ajaxSettings.xhr();f.attachEvent&&f.attachEvent("onunload",function(){for(var a in Fa)Fa[a](void 0,!0)});G.cors=!!Ga&&"withCredentials"in Ga;(Ga=G.ajax=!!Ga)&&k.ajaxTransport(function(a){if(!a.crossDomain||G.cors){var b;return{send:function(e,c){var h,d=a.xhr(),g=++wc;d.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(h in a.xhrFields)d[h]=a.xhrFields[h];a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);a.crossDomain||e["X-Requested-With"]||
(e["X-Requested-With"]="XMLHttpRequest");for(h in e)void 0!==e[h]&&d.setRequestHeader(h,e[h]+"");d.send(a.hasContent&&a.data||null);b=function(e,h){var f,l,n;if(b&&(h||4===d.readyState))if(delete Fa[g],b=void 0,d.onreadystatechange=k.noop,h)4!==d.readyState&&d.abort();else{n={};f=d.status;"string"===typeof d.responseText&&(n.text=d.responseText);try{l=d.statusText}catch(Hb){l=""}f||!a.isLocal||a.crossDomain?1223===f&&(f=204):f=n.text?200:404}n&&c(f,l,n,d.getAllResponseHeaders())};a.async?4===d.readyState?
f.setTimeout(b):d.onreadystatechange=Fa[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){k.globalEval(a);return a}}});k.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=H.head||
k("head")[0]||H.documentElement;return{send:function(c,h){b=H.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,e||h(200,"success")};e.insertBefore(b,e.firstChild)},abort:function(){if(b)b.onload(void 0,!0)}}}});var Bb=[],$a=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=Bb.pop()||k.expando+"_"+Xa++;this[a]=!0;return a}});k.ajaxPrefilter("json jsonp",function(a,b,e){var c,h,d,g=!1!==a.jsonp&&($a.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&$a.test(a.data)&&"data");if(g||"jsonp"===a.dataTypes[0])return c=a.jsonpCallback=k.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g?a[g]=a[g].replace($a,"$1"+c):!1!==a.jsonp&&(a.url+=(Ya.test(a.url)?"\x26":"?")+a.jsonp+
"\x3d"+c),a.converters["script json"]=function(){d||k.error(c+" was not called");return d[0]},a.dataTypes[0]="json",h=f[c],f[c]=function(){d=arguments},e.always(function(){void 0===h?k(f).removeProp(c):f[c]=h;a[c]&&(a.jsonpCallback=b.jsonpCallback,Bb.push(c));d&&k.isFunction(h)&&h(d[0]);d=h=void 0}),"script"});k.parseHTML=function(a,b,e){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(e=b,b=!1);b=b||H;var c=ob.exec(a);e=!e&&[];if(c)return[b.createElement(c[1])];c=w([a],b,e);e&&e.length&&
k(e).remove();return k.merge([],c.childNodes)};var Cb=k.fn.load;k.fn.load=function(a,b,e){if("string"!==typeof a&&Cb)return Cb.apply(this,arguments);var c,h,d,g=this,f=a.indexOf(" ");-1<f&&(c=k.trim(a.slice(f,a.length)),a=a.slice(0,f));k.isFunction(b)?(e=b,b=void 0):b&&"object"===typeof b&&(h="POST");0<g.length&&k.ajax({url:a,type:h||"GET",dataType:"html",data:b}).done(function(a){d=arguments;g.html(c?k("\x3cdiv\x3e").append(k.parseHTML(a)).find(c):a)}).always(e&&function(a,b){g.each(function(){e.apply(this,
d||[a.responseText,b,a])})});return this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length};k.offset={setOffset:function(a,b,e){var c,h,d,g=k.css(a,"position"),f=k(a),l={};"static"===g&&(a.style.position="relative");d=f.offset();h=k.css(a,"top");c=k.css(a,"left");("absolute"===g||"fixed"===g)&&-1<k.inArray("auto",
[h,c])?(c=f.position(),h=c.top,c=c.left):(h=parseFloat(h)||0,c=parseFloat(c)||0);k.isFunction(b)&&(b=b.call(a,e,k.extend({},d)));null!=b.top&&(l.top=b.top-d.top+h);null!=b.left&&(l.left=b.left-d.left+c);"using"in b?b.using.call(a,l):f.css(l)}};k.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,e,c={top:0,left:0},h=(e=this[0])&&e.ownerDocument;if(h){b=h.documentElement;if(!k.contains(b,e))return c;"undefined"!==typeof e.getBoundingClientRect&&
(c=e.getBoundingClientRect());e=jb(h);return{top:c.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0),left:c.left+(e.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}},position:function(){if(this[0]){var a,b,e={top:0,left:0},c=this[0];"fixed"===k.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(e=a.offset()),e.top+=k.css(a[0],"borderTopWidth",!0),e.left+=k.css(a[0],"borderLeftWidth",!0));return{top:b.top-e.top-k.css(c,"marginTop",!0),left:b.left-
e.left-k.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||tb})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e=/Y/.test(b);k.fn[a]=function(c){return ha(this,function(a,c,h){var d=jb(a);if(void 0===h)return d?b in d?d[b]:d.document.documentElement[c]:a[c];d?d.scrollTo(e?k(d).scrollLeft():h,e?h:k(d).scrollTop()):a[c]=h},a,c,arguments.length,
null)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=Q(G.pixelPosition,function(a,e){if(e)return e=ga(a,b),Aa.test(e)?k(a).position()[b]+"px":e})});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,c){k.fn[c]=function(c,h){var d=arguments.length&&(e||"boolean"!==typeof c),g=e||(!0===c||!0===h?"margin":"border");return ha(this,function(b,e,c){return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,
Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===c?k.css(b,e,g):k.style(b,e,c,g)},b,d?c:void 0,d,null)}})});k.fn.extend({bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,c){return this.on(b,a,e,c)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)}});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"function"===typeof define&&
define.amd&&define("jquery",[],function(){return k});var xc=f.jQuery,yc=f.$;k.noConflict=function(a){f.$===k&&(f.$=yc);a&&f.jQuery===k&&(f.jQuery=xc);return k};c||(f.jQuery=f.$=k);return k});
(function(f,c){"function"===typeof define&&define.amd?define([],c):"object"===typeof exports?module.exports=c():f.FontLoader=c()})(window,function(){function f(a){this._validateFontDescriptor(a);this.family=a.family;this.weight=a.weight;this.style=a.style;this.stretch=a.stretch}function c(a,b,c,h){this.delegate=b;this.timeout="undefined"!==typeof c?c:3E3;this._fontsArray=this._parseFonts(a);this._started=!1;this._adobeBlankSizeWatcher=this._testContainer=this._testDiv=null;this._sizeWatchers=[];this._intervalId=
this._timeoutId=null;this._intervalDelay=50;this._numberOfLoadedFonts=0;this._numberOfFonts=this._fontsArray.length;this._fontsMap={};this._finished=!1;this._document=h||document}function g(a,b){this.width=a;this.height=b}function d(a,b){this._element=a;this._delegate=b.delegate;this._size=null;this._continuous=!!b.continuous;this._direction=b.direction?b.direction:d.directions.both;this._dimension=b.dimension?b.dimension:d.dimensions.both;this._sizeIncreaseWatcherElm=this._sizeDecreaseWatcherElm=
this._sizeIncreaseWatcherContentElm=null;this._state=d.states.initialized;this._scrollAmount=2;this._document=b.document||document;this._generateScrollWatchers(b.size);this._appendScrollWatchersToElement(b.container)}var b=/MSIE/i.test(navigator.userAgent),h=null;if(b){var a;a=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);null!==a&&(h=parseFloat(a[1]))}f.prototype={constructor:f,variationKey:function(){return this.weight+this.style+this.stretch},fontKey:function(){return this.family+this.variationKey()},
toJSON:function(){return{family:this.family,weight:this.weight,style:this.style,stretch:this.stretch}},_validateFontDescriptor:function(a){var b,e;if(!a.family||!a.weight||!a.style)throw Error("Illegal font descriptor, family, weight and style properties are required.");if(!("possibleFontStyles"in c))for(b in c.possibleFontStyles=[],c.fontStyleAliasesMap)c.fontStyleAliasesMap.hasOwnProperty(b)&&c.possibleFontStyles.push(c.fontStyleAliasesMap[b]);if(-1===c.possibleFontStyles.indexOf(a.style))throw Error("Illegal font descriptor, style property must be one of the following: "+
c.possibleFontStyles.join(", "));if("stretch"in a){if(!("possibleFontStretches"in c))for(e in c.possibleFontStretches=[],c.fontStretchAliasesMap)c.fontStretchAliasesMap.hasOwnProperty(e)&&c.possibleFontStretches.push(c.fontStretchAliasesMap[e]);if(-1===c.possibleFontStretches.indexOf(a.stretch))throw Error("Illegal font descriptor, stretch property must be one of the following: "+c.possibleFontStretches.join(", "));}else a.stretch="normal"}};c.useAdobeBlank=!b||11<=h;c.useResizeEvent=b&&11>h&&"undefined"!==
typeof document.attachEvent;c.useIntervalChecking=window.opera||b&&11>h&&!c.useResizeEvent;c.referenceText=" !\"\\#$%\x26'()*+,-./0123456789:;\x3c\x3d\x3e?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~";c.referenceFontFamilies=c.useAdobeBlank?["AdobeBlank"]:["serif","cursive"];c.adobeBlankFontFaceStyleId="fontLoaderAdobeBlankFontFace";c.adobeBlankReferenceSize=null;c.referenceFontFamilyVariationSizes={};c.adobeBlankFontFaceRule="@font-face{ font-family:AdobeBlank; src:url('data:font/opentype;base64,T1RUTwAKAIAAAwAgQ0ZGIM6ZbkwAAEPEAAAZM0RTSUcAAAABAABtAAAAAAhPUy8yAR6vMwAAARAAAABgY21hcDqI98oAACjEAAAa4GhlYWT+BQILAAAArAAAADZoaGVhCCID7wAAAOQAAAAkaG10eAPoAHwAAFz4AAAQBm1heHAIAVAAAAABCAAAAAZuYW1lD/tWxwAAAXAAACdScG9zdP+4ADIAAEOkAAAAIAABAAAAAQj1Snw1O18PPPUAAwPoAAAAAM2C2p8AAAAAzYLanwB8/4gDbANwAAAAAwACAAAAAAAAAAEAAANw/4gAyAPoAHwAfANsAAEAAAAAAAAAAAAAAAAAAAACAABQAAgBAAAABAAAAZAABQAAAooCWAAAAEsCigJYAAABXgAyANwAAAAAAAAAAAAAAAD3/67/+9///w/gAD8AAAAAQURCRQHAAAD//wNw/4gAyANwAHhgLwH/AAAAAAAAAAAAAAAgAAAAAAARANIAAQAAAAAAAQALAAAAAQAAAAAAAgAHAAsAAQAAAAAAAwAbABIAAQAAAAAABAALAAAAAQAAAAAABQA5AC0AAQAAAAAABgAKAGYAAwABBAkAAABuAHAAAwABBAkAAQAWAN4AAwABBAkAAgAOAPQAAwABBAkAAwA2AQIAAwABBAkABAAWAN4AAwABBAkABQByATgAAwABBAkABgAUAaoAAwABBAkACAA0Ab4AAwABBAkACwA0AfIAAwABBAkADSQSAiYAAwABBAkADgBIJjhBZG9iZSBCbGFua1JlZ3VsYXIxLjAzNTtBREJFO0Fkb2JlQmxhbms7QURPQkVWZXJzaW9uIDEuMDM1O1BTIDEuMDAzO2hvdGNvbnYgMS4wLjcwO21ha2VvdGYubGliMi41LjU5MDBBZG9iZUJsYW5rAKkAIAAyADAAMQAzACAAQQBkAG8AYgBlACAAUwB5AHMAdABlAG0AcwAgAEkAbgBjAG8AcgBwAG8AcgBhAHQAZQBkAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4AQQBkAG8AYgBlACAAQgBsAGEAbgBrAFIAZQBnAHUAbABhAHIAMQAuADAAMwA1ADsAQQBEAEIARQA7AEEAZABvAGIAZQBCAGwAYQBuAGsAOwBBAEQATwBCAEUAVgBlAHIAcwBpAG8AbgAgADEALgAwADMANQA7AFAAUwAgADEALgAwADAAMwA7AGgAbwB0AGMAbwBuAHYAIAAxAC4AMAAuADcAMAA7AG0AYQBrAGUAbwB0AGYALgBsAGkAYgAyAC4ANQAuADUAOQAwADAAQQBkAG8AYgBlAEIAbABhAG4AawBBAGQAbwBiAGUAIABTAHkAcwB0AGUAbQBzACAASQBuAGMAbwByAHAAbwByAGEAdABlAGQAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AdAB5AHAAZQAvAEEAZABvAGIAZQAgAEIAbABhAG4AawAgAGkAcwAgAHIAZQBsAGUAYQBzAGUAZAAgAHUAbgBkAGUAcgAgAHQAaABlACAAUwBJAEwAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAtACAAcABsAGUAYQBzAGUAIAByAGUAYQBkACAAaQB0ACAAYwBhAHIAZQBmAHUAbABsAHkAIABhAG4AZAAgAGQAbwAgAG4AbwB0ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGUAIABmAG8AbgB0AHMAIAB1AG4AbABlAHMAcwAgAHkAbwB1ACAAYQBnAHIAZQBlACAAdABvACAAdABoAGUAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAHQAaABlACAAbABpAGMAZQBuAHMAZQA6AA0ACgANAAoAQwBvAHAAeQByAGkAZwBoAHQAIACpACAAMgAwADEAMwAgAEEAZABvAGIAZQAgAFMAeQBzAHQAZQBtAHMAIABJAG4AYwBvAHIAcABvAHIAYQB0AGUAZAAgACgAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AKQAsACAAdwBpAHQAaAAgAFIAZQBzAGUAcgB2AGUAZAAgAEYAbwBuAHQAIABOAGEAbQBlACAAQQBkAG8AYgBlACAAQgBsAGEAbgBrAA0ACgANAAoAVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgANAAoADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAaQBzACAAYwBvAHAAaQBlAGQAIABiAGUAbABvAHcALAAgAGEAbgBkACAAaQBzACAAYQBsAHMAbwAgAGEAdgBhAGkAbABhAGIAbABlACAAdwBpAHQAaAAgAGEAIABGAEEAUQAgAGEAdAA6ACAAaAB0AHQAcAA6AC8ALwBzAGMAcgBpAHAAdABzAC4AcwBpAGwALgBvAHIAZwAvAE8ARgBMAA0ACgANAAoALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAA0ACgBTAEkATAAgAE8AUABFAE4AIABGAE8ATgBUACAATABJAEMARQBOAFMARQAgAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAgAC0AIAAyADYAIABGAGUAYgByAHUAYQByAHkAIAAyADAAMAA3AA0ACgAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ADQAKAA0ACgBQAFIARQBBAE0AQgBMAEUADQAKAFQAaABlACAAZwBvAGEAbABzACAAbwBmACAAdABoAGUAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAoAE8ARgBMACkAIABhAHIAZQAgAHQAbwAgAHMAdABpAG0AdQBsAGEAdABlACAAdwBvAHIAbABkAHcAaQBkAGUAIABkAGUAdgBlAGwAbwBwAG0AZQBuAHQAIABvAGYAIABjAG8AbABsAGEAYgBvAHIAYQB0AGkAdgBlACAAZgBvAG4AdAAgAHAAcgBvAGoAZQBjAHQAcwAsACAAdABvACAAcwB1AHAAcABvAHIAdAAgAHQAaABlACAAZgBvAG4AdAAgAGMAcgBlAGEAdABpAG8AbgAgAGUAZgBmAG8AcgB0AHMAIABvAGYAIABhAGMAYQBkAGUAbQBpAGMAIABhAG4AZAAgAGwAaQBuAGcAdQBpAHMAdABpAGMAIABjAG8AbQBtAHUAbgBpAHQAaQBlAHMALAAgAGEAbgBkACAAdABvACAAcAByAG8AdgBpAGQAZQAgAGEAIABmAHIAZQBlACAAYQBuAGQAIABvAHAAZQBuACAAZgByAGEAbQBlAHcAbwByAGsAIABpAG4AIAB3AGgAaQBjAGgAIABmAG8AbgB0AHMAIABtAGEAeQAgAGIAZQAgAHMAaABhAHIAZQBkACAAYQBuAGQAIABpAG0AcAByAG8AdgBlAGQAIABpAG4AIABwAGEAcgB0AG4AZQByAHMAaABpAHAAIAB3AGkAdABoACAAbwB0AGgAZQByAHMALgANAAoADQAKAFQAaABlACAATwBGAEwAIABhAGwAbABvAHcAcwAgAHQAaABlACAAbABpAGMAZQBuAHMAZQBkACAAZgBvAG4AdABzACAAdABvACAAYgBlACAAdQBzAGUAZAAsACAAcwB0AHUAZABpAGUAZAAsACAAbQBvAGQAaQBmAGkAZQBkACAAYQBuAGQAIAByAGUAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAZgByAGUAZQBsAHkAIABhAHMAIABsAG8AbgBnACAAYQBzACAAdABoAGUAeQAgAGEAcgBlACAAbgBvAHQAIABzAG8AbABkACAAYgB5ACAAdABoAGUAbQBzAGUAbAB2AGUAcwAuACAAVABoAGUAIABmAG8AbgB0AHMALAAgAGkAbgBjAGwAdQBkAGkAbgBnACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAdwBvAHIAawBzACwAIABjAGEAbgAgAGIAZQAgAGIAdQBuAGQAbABlAGQALAAgAGUAbQBiAGUAZABkAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAgAHAAcgBvAHYAaQBkAGUAZAAgAHQAaABhAHQAIABhAG4AeQAgAHIAZQBzAGUAcgB2AGUAZAAgAG4AYQBtAGUAcwAgAGEAcgBlACAAbgBvAHQAIAB1AHMAZQBkACAAYgB5ACAAZABlAHIAaQB2AGEAdABpAHYAZQAgAHcAbwByAGsAcwAuACAAVABoAGUAIABmAG8AbgB0AHMAIABhAG4AZAAgAGQAZQByAGkAdgBhAHQAaQB2AGUAcwAsACAAaABvAHcAZQB2AGUAcgAsACAAYwBhAG4AbgBvAHQAIABiAGUAIAByAGUAbABlAGEAcwBlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAHQAeQBwAGUAIABvAGYAIABsAGkAYwBlAG4AcwBlAC4AIABUAGgAZQAgAHIAZQBxAHUAaQByAGUAbQBlAG4AdAAgAGYAbwByACAAZgBvAG4AdABzACAAdABvACAAcgBlAG0AYQBpAG4AIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAgAGQAbwBlAHMAIABuAG8AdAAgAGEAcABwAGwAeQAgAHQAbwAgAGEAbgB5ACAAZABvAGMAdQBtAGUAbgB0ACAAYwByAGUAYQB0AGUAZAAgAHUAcwBpAG4AZwAgAHQAaABlACAAZgBvAG4AdABzACAAbwByACAAdABoAGUAaQByACAAZABlAHIAaQB2AGEAdABpAHYAZQBzAC4ADQAKAA0ACgBEAEUARgBJAE4ASQBUAEkATwBOAFMADQAKACIARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIAB0AGgAZQAgAHMAZQB0ACAAbwBmACAAZgBpAGwAZQBzACAAcgBlAGwAZQBhAHMAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAdQBuAGQAZQByACAAdABoAGkAcwAgAGwAaQBjAGUAbgBzAGUAIABhAG4AZAAgAGMAbABlAGEAcgBsAHkAIABtAGEAcgBrAGUAZAAgAGEAcwAgAHMAdQBjAGgALgAgAFQAaABpAHMAIABtAGEAeQAgAGkAbgBjAGwAdQBkAGUAIABzAG8AdQByAGMAZQAgAGYAaQBsAGUAcwAsACAAYgB1AGkAbABkACAAcwBjAHIAaQBwAHQAcwAgAGEAbgBkACAAZABvAGMAdQBtAGUAbgB0AGEAdABpAG8AbgAuAA0ACgANAAoAIgBSAGUAcwBlAHIAdgBlAGQAIABGAG8AbgB0ACAATgBhAG0AZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAG4AYQBtAGUAcwAgAHMAcABlAGMAaQBmAGkAZQBkACAAYQBzACAAcwB1AGMAaAAgAGEAZgB0AGUAcgAgAHQAaABlACAAYwBvAHAAeQByAGkAZwBoAHQAIABzAHQAYQB0AGUAbQBlAG4AdAAoAHMAKQAuAA0ACgANAAoAIgBPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACIAIAByAGUAZgBlAHIAcwAgAHQAbwAgAHQAaABlACAAYwBvAGwAbABlAGMAdABpAG8AbgAgAG8AZgAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAYQBzACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApAC4ADQAKAA0ACgAiAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AIgAgAHIAZQBmAGUAcgBzACAAdABvACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAbQBhAGQAZQAgAGIAeQAgAGEAZABkAGkAbgBnACAAdABvACwAIABkAGUAbABlAHQAaQBuAGcALAAgAG8AcgAgAHMAdQBiAHMAdABpAHQAdQB0AGkAbgBnACAALQAtACAAaQBuACAAcABhAHIAdAAgAG8AcgAgAGkAbgAgAHcAaABvAGwAZQAgAC0ALQAgAGEAbgB5ACAAbwBmACAAdABoAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAbwBmACAAdABoAGUAIABPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACwAIABiAHkAIABjAGgAYQBuAGcAaQBuAGcAIABmAG8AcgBtAGEAdABzACAAbwByACAAYgB5ACAAcABvAHIAdABpAG4AZwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHQAbwAgAGEAIABuAGUAdwAgAGUAbgB2AGkAcgBvAG4AbQBlAG4AdAAuAA0ACgANAAoAIgBBAHUAdABoAG8AcgAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAGQAZQBzAGkAZwBuAGUAcgAsACAAZQBuAGcAaQBuAGUAZQByACwAIABwAHIAbwBnAHIAYQBtAG0AZQByACwAIAB0AGUAYwBoAG4AaQBjAGEAbAAgAHcAcgBpAHQAZQByACAAbwByACAAbwB0AGgAZQByACAAcABlAHIAcwBvAG4AIAB3AGgAbwAgAGMAbwBuAHQAcgBpAGIAdQB0AGUAZAAgAHQAbwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAuAA0ACgANAAoAUABFAFIATQBJAFMAUwBJAE8ATgAgACYAIABDAE8ATgBEAEkAVABJAE8ATgBTAA0ACgBQAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAaABlAHIAZQBiAHkAIABnAHIAYQBuAHQAZQBkACwAIABmAHIAZQBlACAAbwBmACAAYwBoAGEAcgBnAGUALAAgAHQAbwAgAGEAbgB5ACAAcABlAHIAcwBvAG4AIABvAGIAdABhAGkAbgBpAG4AZwAgAGEAIABjAG8AcAB5ACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACwAIAB0AG8AIAB1AHMAZQAsACAAcwB0AHUAZAB5ACwAIABjAG8AcAB5ACwAIABtAGUAcgBnAGUALAAgAGUAbQBiAGUAZAAsACAAbQBvAGQAaQBmAHkALAAgAHIAZQBkAGkAcwB0AHIAaQBiAHUAdABlACwAIABhAG4AZAAgAHMAZQBsAGwAIABtAG8AZABpAGYAaQBlAGQAIABhAG4AZAAgAHUAbgBtAG8AZABpAGYAaQBlAGQAIABjAG8AcABpAGUAcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAsACAAcwB1AGIAagBlAGMAdAAgAHQAbwAgAHQAaABlACAAZgBvAGwAbABvAHcAaQBuAGcAIABjAG8AbgBkAGkAdABpAG8AbgBzADoADQAKAA0ACgAxACkAIABOAGUAaQB0AGgAZQByACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbgBvAHIAIABhAG4AeQAgAG8AZgAgAGkAdABzACAAaQBuAGQAaQB2AGkAZAB1AGEAbAAgAGMAbwBtAHAAbwBuAGUAbgB0AHMALAAgAGkAbgAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAsACAAbQBhAHkAIABiAGUAIABzAG8AbABkACAAYgB5ACAAaQB0AHMAZQBsAGYALgANAAoADQAKADIAKQAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAG0AYQB5ACAAYgBlACAAYgB1AG4AZABsAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAsACAAcAByAG8AdgBpAGQAZQBkACAAdABoAGEAdAAgAGUAYQBjAGgAIABjAG8AcAB5ACAAYwBvAG4AdABhAGkAbgBzACAAdABoAGUAIABhAGIAbwB2AGUAIABjAG8AcAB5AHIAaQBnAGgAdAAgAG4AbwB0AGkAYwBlACAAYQBuAGQAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAuACAAVABoAGUAcwBlACAAYwBhAG4AIABiAGUAIABpAG4AYwBsAHUAZABlAGQAIABlAGkAdABoAGUAcgAgAGEAcwAgAHMAdABhAG4AZAAtAGEAbABvAG4AZQAgAHQAZQB4AHQAIABmAGkAbABlAHMALAAgAGgAdQBtAGEAbgAtAHIAZQBhAGQAYQBiAGwAZQAgAGgAZQBhAGQAZQByAHMAIABvAHIAIABpAG4AIAB0AGgAZQAgAGEAcABwAHIAbwBwAHIAaQBhAHQAZQAgAG0AYQBjAGgAaQBuAGUALQByAGUAYQBkAGEAYgBsAGUAIABtAGUAdABhAGQAYQB0AGEAIABmAGkAZQBsAGQAcwAgAHcAaQB0AGgAaQBuACAAdABlAHgAdAAgAG8AcgAgAGIAaQBuAGEAcgB5ACAAZgBpAGwAZQBzACAAYQBzACAAbABvAG4AZwAgAGEAcwAgAHQAaABvAHMAZQAgAGYAaQBlAGwAZABzACAAYwBhAG4AIABiAGUAIABlAGEAcwBpAGwAeQAgAHYAaQBlAHcAZQBkACAAYgB5ACAAdABoAGUAIAB1AHMAZQByAC4ADQAKAA0ACgAzACkAIABOAG8AIABNAG8AZABpAGYAaQBlAGQAIABWAGUAcgBzAGkAbwBuACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbQBhAHkAIAB1AHMAZQAgAHQAaABlACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAKABzACkAIAB1AG4AbABlAHMAcwAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAZwByAGEAbgB0AGUAZAAgAGIAeQAgAHQAaABlACAAYwBvAHIAcgBlAHMAcABvAG4AZABpAG4AZwAgAEMAbwBwAHkAcgBpAGcAaAB0ACAASABvAGwAZABlAHIALgAgAFQAaABpAHMAIAByAGUAcwB0AHIAaQBjAHQAaQBvAG4AIABvAG4AbAB5ACAAYQBwAHAAbABpAGUAcwAgAHQAbwAgAHQAaABlACAAcAByAGkAbQBhAHIAeQAgAGYAbwBuAHQAIABuAGEAbQBlACAAYQBzACAAcAByAGUAcwBlAG4AdABlAGQAIAB0AG8AIAB0AGgAZQAgAHUAcwBlAHIAcwAuAA0ACgANAAoANAApACAAVABoAGUAIABuAGEAbQBlACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAbwByACAAdABoAGUAIABBAHUAdABoAG8AcgAoAHMAKQAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHMAaABhAGwAbAAgAG4AbwB0ACAAYgBlACAAdQBzAGUAZAAgAHQAbwAgAHAAcgBvAG0AbwB0AGUALAAgAGUAbgBkAG8AcgBzAGUAIABvAHIAIABhAGQAdgBlAHIAdABpAHMAZQAgAGEAbgB5ACAATQBvAGQAaQBmAGkAZQBkACAAVgBlAHIAcwBpAG8AbgAsACAAZQB4AGMAZQBwAHQAIAB0AG8AIABhAGMAawBuAG8AdwBsAGUAZABnAGUAIAB0AGgAZQAgAGMAbwBuAHQAcgBpAGIAdQB0AGkAbwBuACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAYQBuAGQAIAB0AGgAZQAgAEEAdQB0AGgAbwByACgAcwApACAAbwByACAAdwBpAHQAaAAgAHQAaABlAGkAcgAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuAC4ADQAKAA0ACgA1ACkAIABUAGgAZQAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUALAAgAG0AbwBkAGkAZgBpAGUAZAAgAG8AcgAgAHUAbgBtAG8AZABpAGYAaQBlAGQALAAgAGkAbgAgAHAAYQByAHQAIABvAHIAIABpAG4AIAB3AGgAbwBsAGUALAAgAG0AdQBzAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIABlAG4AdABpAHIAZQBsAHkAIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAsACAAYQBuAGQAIABtAHUAcwB0ACAAbgBvAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAGwAaQBjAGUAbgBzAGUALgAgAFQAaABlACAAcgBlAHEAdQBpAHIAZQBtAGUAbgB0ACAAZgBvAHIAIABmAG8AbgB0AHMAIAB0AG8AIAByAGUAbQBhAGkAbgAgAHUAbgBkAGUAcgAgAHQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAZABvAGUAcwAgAG4AbwB0ACAAYQBwAHAAbAB5ACAAdABvACAAYQBuAHkAIABkAG8AYwB1AG0AZQBuAHQAIABjAHIAZQBhAHQAZQBkACAAdQBzAGkAbgBnACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBUAEUAUgBNAEkATgBBAFQASQBPAE4ADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAYgBlAGMAbwBtAGUAcwAgAG4AdQBsAGwAIABhAG4AZAAgAHYAbwBpAGQAIABpAGYAIABhAG4AeQAgAG8AZgAgAHQAaABlACAAYQBiAG8AdgBlACAAYwBvAG4AZABpAHQAaQBvAG4AcwAgAGEAcgBlACAAbgBvAHQAIABtAGUAdAAuAA0ACgANAAoARABJAFMAQwBMAEEASQBNAEUAUgANAAoAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFACAASQBTACAAUABSAE8AVgBJAEQARQBEACAAIgBBAFMAIABJAFMAIgAsACAAVwBJAFQASABPAFUAVAAgAFcAQQBSAFIAQQBOAFQAWQAgAE8ARgAgAEEATgBZACAASwBJAE4ARAAsACAARQBYAFAAUgBFAFMAUwAgAE8AUgAgAEkATQBQAEwASQBFAEQALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQgBVAFQAIABOAE8AVAAgAEwASQBNAEkAVABFAEQAIABUAE8AIABBAE4AWQAgAFcAQQBSAFIAQQBOAFQASQBFAFMAIABPAEYAIABNAEUAUgBDAEgAQQBOAFQAQQBCAEkATABJAFQAWQAsACAARgBJAFQATgBFAFMAUwAgAEYATwBSACAAQQAgAFAAQQBSAFQASQBDAFUATABBAFIAIABQAFUAUgBQAE8AUwBFACAAQQBOAEQAIABOAE8ATgBJAE4ARgBSAEkATgBHAEUATQBFAE4AVAAgAE8ARgAgAEMATwBQAFkAUgBJAEcASABUACwAIABQAEEAVABFAE4AVAAsACAAVABSAEEARABFAE0AQQBSAEsALAAgAE8AUgAgAE8AVABIAEUAUgAgAFIASQBHAEgAVAAuACAASQBOACAATgBPACAARQBWAEUATgBUACAAUwBIAEEATABMACAAVABIAEUAIABDAE8AUABZAFIASQBHAEgAVAAgAEgATwBMAEQARQBSACAAQgBFACAATABJAEEAQgBMAEUAIABGAE8AUgAgAEEATgBZACAAQwBMAEEASQBNACwAIABEAEEATQBBAEcARQBTACAATwBSACAATwBUAEgARQBSACAATABJAEEAQgBJAEwASQBUAFkALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQQBOAFkAIABHAEUATgBFAFIAQQBMACwAIABTAFAARQBDAEkAQQBMACwAIABJAE4ARABJAFIARQBDAFQALAAgAEkATgBDAEkARABFAE4AVABBAEwALAAgAE8AUgAgAEMATwBOAFMARQBRAFUARQBOAFQASQBBAEwAIABEAEEATQBBAEcARQBTACwAIABXAEgARQBUAEgARQBSACAASQBOACAAQQBOACAAQQBDAFQASQBPAE4AIABPAEYAIABDAE8ATgBUAFIAQQBDAFQALAAgAFQATwBSAFQAIABPAFIAIABPAFQASABFAFIAVwBJAFMARQAsACAAQQBSAEkAUwBJAE4ARwAgAEYAUgBPAE0ALAAgAE8AVQBUACAATwBGACAAVABIAEUAIABVAFMARQAgAE8AUgAgAEkATgBBAEIASQBMAEkAVABZACAAVABPACAAVQBTAEUAIABUAEgARQAgAEYATwBOAFQAIABTAE8ARgBUAFcAQQBSAEUAIABPAFIAIABGAFIATwBNACAATwBUAEgARQBSACAARABFAEEATABJAE4ARwBTACAASQBOACAAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFAC4ADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBhAGQAbwBiAGUALgBjAG8AbQAvAHQAeQBwAGUALwBsAGUAZwBhAGwALgBoAHQAbQBsAAAAAAAFAAAAAwAAADgAAAAEAAABUAABAAAAAAAsAAMAAQAAADgAAwAKAAABUAAGAAwAAAAAAAEAAAAEARgAAABCAEAABQACB/8P/xf/H/8n/y//N/8//0f/T/9X/1//Z/9v/3f/f/+H/4//l/+f/6f/r/+3/7//x//P/9f/5//v//f//c///f//AAAAAAgAEAAYACAAKAAwADgAQABIAFAAWABgAGgAcAB4AIAAiACQAJgAoACoALAAuADAAMgA0ADgAOgA8AD4AP3w//8AAfgB8AHoAeAB2AHQAcgBwAG4AbABqAGgAZgBkAGIAYABeAFwAWgBYAFYAVABSAFAATgBMAEgARgBEAEIAQgBAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAZkAAAAAAAAAIgAAAAAAAAB/8AAAABAAAIAAAAD/8AAAABAAAQAAAAF/8AAAABAAAYAAAAH/8AAAABAAAgAAAAJ/8AAAABAAAoAAAAL/8AAAABAAAwAAAAN/8AAAABAAA4AAAAP/8AAAABAABAAAAAR/8AAAABAABIAAAAT/8AAAABAABQAAAAV/8AAAABAABYAAAAX/8AAAABAABgAAAAZ/8AAAABAABoAAAAb/8AAAABAABwAAAAd/8AAAABAAB4AAAAf/8AAAABAACAAAAAh/8AAAABAACIAAAAj/8AAAABAACQAAAAl/8AAAABAACYAAAAn/8AAAABAACgAAAAp/8AAAABAACoAAAAr/8AAAABAACwAAAAt/8AAAABAAC4AAAAv/8AAAABAADAAAAAx/8AAAABAADIAAAAz/8AAAABAADQAAAA1/8AAAABAADgAAAA5/8AAAABAADoAAAA7/8AAAABAADwAAAA9/8AAAABAAD4AAAA/c8AAAABAAD98AAA//0AAAXxAAEAAAABB/8AAAABAAEIAAABD/8AAAABAAEQAAABF/8AAAABAAEYAAABH/8AAAABAAEgAAABJ/8AAAABAAEoAAABL/8AAAABAAEwAAABN/8AAAABAAE4AAABP/8AAAABAAFAAAABR/8AAAABAAFIAAABT/8AAAABAAFQAAABV/8AAAABAAFYAAABX/8AAAABAAFgAAABZ/8AAAABAAFoAAABb/8AAAABAAFwAAABd/8AAAABAAF4AAABf/8AAAABAAGAAAABh/8AAAABAAGIAAABj/8AAAABAAGQAAABl/8AAAABAAGYAAABn/8AAAABAAGgAAABp/8AAAABAAGoAAABr/8AAAABAAGwAAABt/8AAAABAAG4AAABv/8AAAABAAHAAAABx/8AAAABAAHIAAABz/8AAAABAAHQAAAB1/8AAAABAAHYAAAB3/8AAAABAAHgAAAB5/8AAAABAAHoAAAB7/8AAAABAAHwAAAB9/8AAAABAAH4AAAB//0AAAABAAIAAAACB/8AAAABAAIIAAACD/8AAAABAAIQAAACF/8AAAABAAIYAAACH/8AAAABAAIgAAACJ/8AAAABAAIoAAACL/8AAAABAAIwAAACN/8AAAABAAI4AAACP/8AAAABAAJAAAACR/8AAAABAAJIAAACT/8AAAABAAJQAAACV/8AAAABAAJYAAACX/8AAAABAAJgAAACZ/8AAAABAAJoAAACb/8AAAABAAJwAAACd/8AAAABAAJ4AAACf/8AAAABAAKAAAACh/8AAAABAAKIAAACj/8AAAABAAKQAAACl/8AAAABAAKYAAACn/8AAAABAAKgAAACp/8AAAABAAKoAAACr/8AAAABAAKwAAACt/8AAAABAAK4AAACv/8AAAABAALAAAACx/8AAAABAALIAAACz/8AAAABAALQAAAC1/8AAAABAALYAAAC3/8AAAABAALgAAAC5/8AAAABAALoAAAC7/8AAAABAALwAAAC9/8AAAABAAL4AAAC//0AAAABAAMAAAADB/8AAAABAAMIAAADD/8AAAABAAMQAAADF/8AAAABAAMYAAADH/8AAAABAAMgAAADJ/8AAAABAAMoAAADL/8AAAABAAMwAAADN/8AAAABAAM4AAADP/8AAAABAANAAAADR/8AAAABAANIAAADT/8AAAABAANQAAADV/8AAAABAANYAAADX/8AAAABAANgAAADZ/8AAAABAANoAAADb/8AAAABAANwAAADd/8AAAABAAN4AAADf/8AAAABAAOAAAADh/8AAAABAAOIAAADj/8AAAABAAOQAAADl/8AAAABAAOYAAADn/8AAAABAAOgAAADp/8AAAABAAOoAAADr/8AAAABAAOwAAADt/8AAAABAAO4AAADv/8AAAABAAPAAAADx/8AAAABAAPIAAADz/8AAAABAAPQAAAD1/8AAAABAAPYAAAD3/8AAAABAAPgAAAD5/8AAAABAAPoAAAD7/8AAAABAAPwAAAD9/8AAAABAAP4AAAD//0AAAABAAQAAAAEB/8AAAABAAQIAAAED/8AAAABAAQQAAAEF/8AAAABAAQYAAAEH/8AAAABAAQgAAAEJ/8AAAABAAQoAAAEL/8AAAABAAQwAAAEN/8AAAABAAQ4AAAEP/8AAAABAARAAAAER/8AAAABAARIAAAET/8AAAABAARQAAAEV/8AAAABAARYAAAEX/8AAAABAARgAAAEZ/8AAAABAARoAAAEb/8AAAABAARwAAAEd/8AAAABAAR4AAAEf/8AAAABAASAAAAEh/8AAAABAASIAAAEj/8AAAABAASQAAAEl/8AAAABAASYAAAEn/8AAAABAASgAAAEp/8AAAABAASoAAAEr/8AAAABAASwAAAEt/8AAAABAAS4AAAEv/8AAAABAATAAAAEx/8AAAABAATIAAAEz/8AAAABAATQAAAE1/8AAAABAATYAAAE3/8AAAABAATgAAAE5/8AAAABAAToAAAE7/8AAAABAATwAAAE9/8AAAABAAT4AAAE//0AAAABAAUAAAAFB/8AAAABAAUIAAAFD/8AAAABAAUQAAAFF/8AAAABAAUYAAAFH/8AAAABAAUgAAAFJ/8AAAABAAUoAAAFL/8AAAABAAUwAAAFN/8AAAABAAU4AAAFP/8AAAABAAVAAAAFR/8AAAABAAVIAAAFT/8AAAABAAVQAAAFV/8AAAABAAVYAAAFX/8AAAABAAVgAAAFZ/8AAAABAAVoAAAFb/8AAAABAAVwAAAFd/8AAAABAAV4AAAFf/8AAAABAAWAAAAFh/8AAAABAAWIAAAFj/8AAAABAAWQAAAFl/8AAAABAAWYAAAFn/8AAAABAAWgAAAFp/8AAAABAAWoAAAFr/8AAAABAAWwAAAFt/8AAAABAAW4AAAFv/8AAAABAAXAAAAFx/8AAAABAAXIAAAFz/8AAAABAAXQAAAF1/8AAAABAAXYAAAF3/8AAAABAAXgAAAF5/8AAAABAAXoAAAF7/8AAAABAAXwAAAF9/8AAAABAAX4AAAF//0AAAABAAYAAAAGB/8AAAABAAYIAAAGD/8AAAABAAYQAAAGF/8AAAABAAYYAAAGH/8AAAABAAYgAAAGJ/8AAAABAAYoAAAGL/8AAAABAAYwAAAGN/8AAAABAAY4AAAGP/8AAAABAAZAAAAGR/8AAAABAAZIAAAGT/8AAAABAAZQAAAGV/8AAAABAAZYAAAGX/8AAAABAAZgAAAGZ/8AAAABAAZoAAAGb/8AAAABAAZwAAAGd/8AAAABAAZ4AAAGf/8AAAABAAaAAAAGh/8AAAABAAaIAAAGj/8AAAABAAaQAAAGl/8AAAABAAaYAAAGn/8AAAABAAagAAAGp/8AAAABAAaoAAAGr/8AAAABAAawAAAGt/8AAAABAAa4AAAGv/8AAAABAAbAAAAGx/8AAAABAAbIAAAGz/8AAAABAAbQAAAG1/8AAAABAAbYAAAG3/8AAAABAAbgAAAG5/8AAAABAAboAAAG7/8AAAABAAbwAAAG9/8AAAABAAb4AAAG//0AAAABAAcAAAAHB/8AAAABAAcIAAAHD/8AAAABAAcQAAAHF/8AAAABAAcYAAAHH/8AAAABAAcgAAAHJ/8AAAABAAcoAAAHL/8AAAABAAcwAAAHN/8AAAABAAc4AAAHP/8AAAABAAdAAAAHR/8AAAABAAdIAAAHT/8AAAABAAdQAAAHV/8AAAABAAdYAAAHX/8AAAABAAdgAAAHZ/8AAAABAAdoAAAHb/8AAAABAAdwAAAHd/8AAAABAAd4AAAHf/8AAAABAAeAAAAHh/8AAAABAAeIAAAHj/8AAAABAAeQAAAHl/8AAAABAAeYAAAHn/8AAAABAAegAAAHp/8AAAABAAeoAAAHr/8AAAABAAewAAAHt/8AAAABAAe4AAAHv/8AAAABAAfAAAAHx/8AAAABAAfIAAAHz/8AAAABAAfQAAAH1/8AAAABAAfYAAAH3/8AAAABAAfgAAAH5/8AAAABAAfoAAAH7/8AAAABAAfwAAAH9/8AAAABAAf4AAAH//0AAAABAAgAAAAIB/8AAAABAAgIAAAID/8AAAABAAgQAAAIF/8AAAABAAgYAAAIH/8AAAABAAggAAAIJ/8AAAABAAgoAAAIL/8AAAABAAgwAAAIN/8AAAABAAg4AAAIP/8AAAABAAhAAAAIR/8AAAABAAhIAAAIT/8AAAABAAhQAAAIV/8AAAABAAhYAAAIX/8AAAABAAhgAAAIZ/8AAAABAAhoAAAIb/8AAAABAAhwAAAId/8AAAABAAh4AAAIf/8AAAABAAiAAAAIh/8AAAABAAiIAAAIj/8AAAABAAiQAAAIl/8AAAABAAiYAAAIn/8AAAABAAigAAAIp/8AAAABAAioAAAIr/8AAAABAAiwAAAIt/8AAAABAAi4AAAIv/8AAAABAAjAAAAIx/8AAAABAAjIAAAIz/8AAAABAAjQAAAI1/8AAAABAAjYAAAI3/8AAAABAAjgAAAI5/8AAAABAAjoAAAI7/8AAAABAAjwAAAI9/8AAAABAAj4AAAI//0AAAABAAkAAAAJB/8AAAABAAkIAAAJD/8AAAABAAkQAAAJF/8AAAABAAkYAAAJH/8AAAABAAkgAAAJJ/8AAAABAAkoAAAJL/8AAAABAAkwAAAJN/8AAAABAAk4AAAJP/8AAAABAAlAAAAJR/8AAAABAAlIAAAJT/8AAAABAAlQAAAJV/8AAAABAAlYAAAJX/8AAAABAAlgAAAJZ/8AAAABAAloAAAJb/8AAAABAAlwAAAJd/8AAAABAAl4AAAJf/8AAAABAAmAAAAJh/8AAAABAAmIAAAJj/8AAAABAAmQAAAJl/8AAAABAAmYAAAJn/8AAAABAAmgAAAJp/8AAAABAAmoAAAJr/8AAAABAAmwAAAJt/8AAAABAAm4AAAJv/8AAAABAAnAAAAJx/8AAAABAAnIAAAJz/8AAAABAAnQAAAJ1/8AAAABAAnYAAAJ3/8AAAABAAngAAAJ5/8AAAABAAnoAAAJ7/8AAAABAAnwAAAJ9/8AAAABAAn4AAAJ//0AAAABAAoAAAAKB/8AAAABAAoIAAAKD/8AAAABAAoQAAAKF/8AAAABAAoYAAAKH/8AAAABAAogAAAKJ/8AAAABAAooAAAKL/8AAAABAAowAAAKN/8AAAABAAo4AAAKP/8AAAABAApAAAAKR/8AAAABAApIAAAKT/8AAAABAApQAAAKV/8AAAABAApYAAAKX/8AAAABAApgAAAKZ/8AAAABAApoAAAKb/8AAAABAApwAAAKd/8AAAABAAp4AAAKf/8AAAABAAqAAAAKh/8AAAABAAqIAAAKj/8AAAABAAqQAAAKl/8AAAABAAqYAAAKn/8AAAABAAqgAAAKp/8AAAABAAqoAAAKr/8AAAABAAqwAAAKt/8AAAABAAq4AAAKv/8AAAABAArAAAAKx/8AAAABAArIAAAKz/8AAAABAArQAAAK1/8AAAABAArYAAAK3/8AAAABAArgAAAK5/8AAAABAAroAAAK7/8AAAABAArwAAAK9/8AAAABAAr4AAAK//0AAAABAAsAAAALB/8AAAABAAsIAAALD/8AAAABAAsQAAALF/8AAAABAAsYAAALH/8AAAABAAsgAAALJ/8AAAABAAsoAAALL/8AAAABAAswAAALN/8AAAABAAs4AAALP/8AAAABAAtAAAALR/8AAAABAAtIAAALT/8AAAABAAtQAAALV/8AAAABAAtYAAALX/8AAAABAAtgAAALZ/8AAAABAAtoAAALb/8AAAABAAtwAAALd/8AAAABAAt4AAALf/8AAAABAAuAAAALh/8AAAABAAuIAAALj/8AAAABAAuQAAALl/8AAAABAAuYAAALn/8AAAABAAugAAALp/8AAAABAAuoAAALr/8AAAABAAuwAAALt/8AAAABAAu4AAALv/8AAAABAAvAAAALx/8AAAABAAvIAAALz/8AAAABAAvQAAAL1/8AAAABAAvYAAAL3/8AAAABAAvgAAAL5/8AAAABAAvoAAAL7/8AAAABAAvwAAAL9/8AAAABAAv4AAAL//0AAAABAAwAAAAMB/8AAAABAAwIAAAMD/8AAAABAAwQAAAMF/8AAAABAAwYAAAMH/8AAAABAAwgAAAMJ/8AAAABAAwoAAAML/8AAAABAAwwAAAMN/8AAAABAAw4AAAMP/8AAAABAAxAAAAMR/8AAAABAAxIAAAMT/8AAAABAAxQAAAMV/8AAAABAAxYAAAMX/8AAAABAAxgAAAMZ/8AAAABAAxoAAAMb/8AAAABAAxwAAAMd/8AAAABAAx4AAAMf/8AAAABAAyAAAAMh/8AAAABAAyIAAAMj/8AAAABAAyQAAAMl/8AAAABAAyYAAAMn/8AAAABAAygAAAMp/8AAAABAAyoAAAMr/8AAAABAAywAAAMt/8AAAABAAy4AAAMv/8AAAABAAzAAAAMx/8AAAABAAzIAAAMz/8AAAABAAzQAAAM1/8AAAABAAzYAAAM3/8AAAABAAzgAAAM5/8AAAABAAzoAAAM7/8AAAABAAzwAAAM9/8AAAABAAz4AAAM//0AAAABAA0AAAANB/8AAAABAA0IAAAND/8AAAABAA0QAAANF/8AAAABAA0YAAANH/8AAAABAA0gAAANJ/8AAAABAA0oAAANL/8AAAABAA0wAAANN/8AAAABAA04AAANP/8AAAABAA1AAAANR/8AAAABAA1IAAANT/8AAAABAA1QAAANV/8AAAABAA1YAAANX/8AAAABAA1gAAANZ/8AAAABAA1oAAANb/8AAAABAA1wAAANd/8AAAABAA14AAANf/8AAAABAA2AAAANh/8AAAABAA2IAAANj/8AAAABAA2QAAANl/8AAAABAA2YAAANn/8AAAABAA2gAAANp/8AAAABAA2oAAANr/8AAAABAA2wAAANt/8AAAABAA24AAANv/8AAAABAA3AAAANx/8AAAABAA3IAAANz/8AAAABAA3QAAAN1/8AAAABAA3YAAAN3/8AAAABAA3gAAAN5/8AAAABAA3oAAAN7/8AAAABAA3wAAAN9/8AAAABAA34AAAN//0AAAABAA4AAAAOB/8AAAABAA4IAAAOD/8AAAABAA4QAAAOF/8AAAABAA4YAAAOH/8AAAABAA4gAAAOJ/8AAAABAA4oAAAOL/8AAAABAA4wAAAON/8AAAABAA44AAAOP/8AAAABAA5AAAAOR/8AAAABAA5IAAAOT/8AAAABAA5QAAAOV/8AAAABAA5YAAAOX/8AAAABAA5gAAAOZ/8AAAABAA5oAAAOb/8AAAABAA5wAAAOd/8AAAABAA54AAAOf/8AAAABAA6AAAAOh/8AAAABAA6IAAAOj/8AAAABAA6QAAAOl/8AAAABAA6YAAAOn/8AAAABAA6gAAAOp/8AAAABAA6oAAAOr/8AAAABAA6wAAAOt/8AAAABAA64AAAOv/8AAAABAA7AAAAOx/8AAAABAA7IAAAOz/8AAAABAA7QAAAO1/8AAAABAA7YAAAO3/8AAAABAA7gAAAO5/8AAAABAA7oAAAO7/8AAAABAA7wAAAO9/8AAAABAA74AAAO//0AAAABAA8AAAAPB/8AAAABAA8IAAAPD/8AAAABAA8QAAAPF/8AAAABAA8YAAAPH/8AAAABAA8gAAAPJ/8AAAABAA8oAAAPL/8AAAABAA8wAAAPN/8AAAABAA84AAAPP/8AAAABAA9AAAAPR/8AAAABAA9IAAAPT/8AAAABAA9QAAAPV/8AAAABAA9YAAAPX/8AAAABAA9gAAAPZ/8AAAABAA9oAAAPb/8AAAABAA9wAAAPd/8AAAABAA94AAAPf/8AAAABAA+AAAAPh/8AAAABAA+IAAAPj/8AAAABAA+QAAAPl/8AAAABAA+YAAAPn/8AAAABAA+gAAAPp/8AAAABAA+oAAAPr/8AAAABAA+wAAAPt/8AAAABAA+4AAAPv/8AAAABAA/AAAAPx/8AAAABAA/IAAAPz/8AAAABAA/QAAAP1/8AAAABAA/YAAAP3/8AAAABAA/gAAAP5/8AAAABAA/oAAAP7/8AAAABAA/wAAAP9/8AAAABAA/4AAAP//0AAAABABAAAAAQB/8AAAABABAIAAAQD/8AAAABABAQAAAQF/8AAAABABAYAAAQH/8AAAABABAgAAAQJ/8AAAABABAoAAAQL/8AAAABABAwAAAQN/8AAAABABA4AAAQP/8AAAABABBAAAAQR/8AAAABABBIAAAQT/8AAAABABBQAAAQV/8AAAABABBYAAAQX/8AAAABABBgAAAQZ/8AAAABABBoAAAQb/8AAAABABBwAAAQd/8AAAABABB4AAAQf/8AAAABABCAAAAQh/8AAAABABCIAAAQj/8AAAABABCQAAAQl/8AAAABABCYAAAQn/8AAAABABCgAAAQp/8AAAABABCoAAAQr/8AAAABABCwAAAQt/8AAAABABC4AAAQv/8AAAABABDAAAAQx/8AAAABABDIAAAQz/8AAAABABDQAAAQ1/8AAAABABDYAAAQ3/8AAAABABDgAAAQ5/8AAAABABDoAAAQ7/8AAAABABDwAAAQ9/8AAAABABD4AAAQ//0AAAABAAMAAAAAAAD/tQAyAAAAAAAAAAAAAAAAAAAAAAAAAAABAAQCAAEBAQtBZG9iZUJsYW5rAAEBATD4G/gciwwe+B0B+B4Ci/sM+gD6BAUeGgA/DB8cCAEMIvdMD/dZEfdRDCUcGRYMJAAFAQEGDk1YZ0Fkb2JlSWRlbnRpdHlDb3B5cmlnaHQgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5BZG9iZSBCbGFua0Fkb2JlQmxhbmstMjA0OQAAAgABB/8DAAEAAAAIAQgBAgABAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYAlwCYAJkAmgCbAJwAnQCeAJ8AoAChAKIAowCkAKUApgCnAKgAqQCqAKsArACtAK4ArwCwALEAsgCzALQAtQC2ALcAuAC5ALoAuwC8AL0AvgC/AMAAwQDCAMMAxADFAMYAxwDIAMkAygDLAMwAzQDOAM8A0ADRANIA0wDUANUA1gDXANgA2QDaANsA3ADdAN4A3wDgAOEA4gDjAOQA5QDmAOcA6ADpAOoA6wDsAO0A7gDvAPAA8QDyAPMA9AD1APYA9wD4APkA+gD7APwA/QD+AP8BAAEBAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MDlAOVA5YDlwOYA5kDmgObA5wDnQOeA58DoAOhA6IDowOkA6UDpgOnA6gDqQOqA6sDrAOtA64DrwOwA7EDsgOzA7QDtQO2A7cDuAO5A7oDuwO8A70DvgO/A8ADwQPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQPOA88D0APRA9ID0wPUA9UD1gPXA9gD2QPaA9sD3APdA94D3wPgA+ED4gPjA+QD5QPmA+cD6APpA+oD6wPsA+0D7gPvA/AD8QPyA/MD9AP1A/YD9wP4A/kD+gP7A/wD/QP+A/8EAAQBBAIEAwQEBAUEBgQHBAgECQQKBAsEDAQNBA4EDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwELQQuBC8EMAQxBDIEMwQ0BDUENgQ3BDgEOQQ6BDsEPAQ9BD4EPwRABEEEQgRDBEQERQRGBEcESARJBEoESwRMBE0ETgRPBFAEUQRSBFMEVARVBFYEVwRYBFkEWgRbBFwEXQReBF8EYARhBGIEYwRkBGUEZgRnBGgEaQRqBGsEbARtBG4EbwRwBHEEcgRzBHQEdQR2BHcEeAR5BHoEewR8BH0EfgR/BIAEgQSCBIMEhASFBIYEhwSIBIkEigSLBIwEjQSOBI8EkASRBJIEkwSUBJUElgSXBJgEmQSaBJsEnASdBJ4EnwSgBKEEogSjBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUE9gT3BPgE+QT6BPsE/AT9BP4E/wUABQEFAgUDBQQFBQUGBQcFCAUJBQoFCwUMBQ0FDgUPBRAFEQUSBRMFFAUVBRYFFwUYBRkFGgUbBRwFHQUeBR8FIAUhBSIFIwUkBSUFJgUnBSgFKQUqBSsFLAUtBS4FLwUwBTEFMgUzBTQFNQU2BTcFOAU5BToFOwU8BT0FPgU/BUAFQQVCBUMFRAVFBUYFRwVIBUkFSgVLBUwFTQVOBU8FUAVRBVIFUwVUBVUFVgVXBVgFWQVaBVsFXAVdBV4FXwVgBWEFYgVjBWQFZQVmBWcFaAVpBWoFawVsBW0FbgVvBXAFcQVyBXMFdAV1BXYFdwV4BXkFegV7BXwFfQV+BX8FgAWBBYIFgwWEBYUFhgWHBYgFiQWKBYsFjAWNBY4FjwWQBZEFkgWTBZQFlQWWBZcFmAWZBZoFmwWcBZ0FngWfBaAFoQWiBaMFpAWlBaYFpwWoBakFqgWrBawFrQWuBa8FsAWxBbIFswW0BbUFtgW3BbgFuQW6BbsFvAW9Bb4FvwXABcEFwgXDBcQFxQXGBccFyAXJBcoFywXMBc0FzgXPBdAF0QXSBdMF1AXVBdYF1wXYBdkF2gXbBdwF3QXeBd8F4AXhBeIF4wXkBeUF5gXnBegF6QXqBesF7AXtBe4F7wXwBfEF8gXzBfQF9QX2BfcF+AX5BfoF+wX8Bf0F/gX/BgAGAQYCBgMGBAYFBgYGBwYIBgkGCgYLBgwGDQYOBg8GEAYRBhIGEwYUBhUGFgYXBhgGGQYaBhsGHAYdBh4GHwYgBiEGIgYjBiQGJQYmBicGKAYpBioGKwYsBi0GLgYvBjAGMQYyBjMGNAY1BjYGNwY4BjkGOgY7BjwGPQY+Bj8GQAZBBkIGQwZEBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGWwZcBl0GXgZfBmAGYQZiBmMGZAZlBmYGZwZoBmkGagZrBmwGbQZuBm8GcAZxBnIGcwZ0BnUGdgZ3BngGeQZ6BnsGfAZ9Bn4GfwaABoEGggaDBoQGhQaGBocGiAaJBooGiwaMBo0GjgaPBpAGkQaSBpMGlAaVBpYGlwaYBpkGmgabBpwGnQaeBp8GoAahBqIGowakBqUGpganBqgGqQaqBqsGrAatBq4GrwawBrEGsgazBrQGtQa2BrcGuAa5BroGuwa8Br0Gvga/BsAGwQbCBsMGxAbFBsYGxwbIBskGygbLBswGzQbOBs8G0AbRBtIG0wbUBtUG1gbXBtgG2QbaBtsG3AbdBt4G3wbgBuEG4gbjBuQG5QbmBucG6AbpBuoG6wbsBu0G7gbvBvAG8QbyBvMG9Ab1BvYG9wb4BvkG+gb7BvwG/Qb+Bv8HAAcBBwIHAwcEBwUHBgcHBwgHCQcKBwsHDAcNBw4HDwcQBxEHEgcTBxQHFQcWBxcHGAcZBxoHGwccBx0HHgcfByAHIQciByMHJAclByYHJwcoBykHKgcrBywHLQcuBy8HMAcxBzIHMwc0BzUHNgc3BzgHOQc6BzsHPAc9Bz4HPwdAB0EHQgdDB0QHRQdGB0cHSAdJB0oHSwdMB00HTgdPB1AHUQdSB1MHVAdVB1YHVwdYB1kHWgdbB1wHXQdeB18HYAdhB2IHYwdkB2UHZgdnB2gHaQdqB2sHbAdtB24HbwdwB3EHcgdzB3QHdQd2B3cHeAd5B3oHewd8B30Hfgd/B4AHgQeCB4MHhAeFB4YHhweIB4kHigeLB4wHjQeOB48HkAeRB5IHkweUB5UHlgeXB5gHmQeaB5sHnAedB54HnwegB6EHogejB6QHpQemB6cHqAepB6oHqwesB60HrgevB7AHsQeyB7MHtAe1B7YHtwe4B7kHuge7B7wHvQe+B78HwAfBB8IHwwfEB8UHxgfHB8gHyQfKB8sHzAfNB84HzwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wfoB+kH6gfrB+wH7QfuB+8H8AfxB/IH8wf0B/UH9gf3B/gH+Qf6B/sH/Af9B/4H/wgACAEIAggDCAQIBQgGCAcICAgJCAoICwgMCA0IDggPCBAIEQgSCBMIFAgVCBYIFwgYCBkIGggbCBwIHQgeCB8IIAghCCIIIwgkCCUIJggnCCgIKQgqCCsILAgtCC4ILwgwCDEIMggzCDQINQg2CDcIOAg5CDoIOwg8CD0IPgg/CEAIQQhCCEMIRAhFCEYIRwhICEkISghLIPsMt/oktwH3ELf5LLcD9xD6BBX+fPmE+nwH/Vj+JxX50gf3xfwzBaawFfvF+DcF+PYGpmIV/dIH+8X4MwVwZhX3xfw3Bfz2Bg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgABAQEK+B8MJpocGSQS+46LHAVGiwa9Cr0L+ucVAAPoAHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA') format('truetype'); }";
c.fontStyleAliasesMap={n:"normal",b:"bold",i:"italic",o:"oblique"};c.fontStretchAliasesMap={a:"ultra-condensed",b:"extra-condensed",c:"condensed",d:"semi-condensed",n:"normal",e:"semi-expanded",f:"expanded",g:"extra-expanded",h:"ultra-expanded"};c.prototype={constructor:c,loadFonts:function(){var a=this,b;if(this._started)throw Error("FontLoader: loadFonts can not be called twice. Create new FontLoader to load different fonts.");this._started=!0;0===this._numberOfFonts?this._finish():(null!==this.timeout&&
(this._timeoutId=window.setTimeout(function(){a._finish()},this.timeout)),this._testContainer=this._document.createElement("div"),this._testContainer.style.cssText="position:absolute; left:-10000px; top:-10000px; white-space:nowrap; font-size:20px; line-height:20px; visibility:hidden;",this._testDiv=this._document.createElement("div"),this._testDiv.style.position="absolute",this._testDiv.appendChild(this._document.createTextNode(c.referenceText)),c.useAdobeBlank?c.adobeBlankReferenceSize?this._loadFonts():
this._loadAdobeBlankFont():(b=this._getNewFontVariationsFromFonts(this._fontsArray),b.length&&this._extractReferenceFontSizes(b),this._loadFonts()))},_extractReferenceFontSizes:function(a){var b,e,h,d,f,t;b=this._testDiv.cloneNode(!0);this._testContainer.appendChild(b);this._document.body.appendChild(this._testContainer);for(h=0;h<a.length;h++)for(t=a[h],d=t.key,c.referenceFontFamilyVariationSizes[d]=[],e=0;e<c.referenceFontFamilies.length;e++)b.style.fontFamily=c.referenceFontFamilies[e],b.style.fontWeight=
t.weight,b.style.fontStyle=t.style,b.style.fontStretch=t.stretch,f=new g(b.offsetWidth,b.offsetHeight),c.referenceFontFamilyVariationSizes[d].push(f);this._testContainer.parentNode.removeChild(this._testContainer);b.parentNode.removeChild(b)},_loadAdobeBlankFont:function(){var a=this,b;this._addAdobeBlankFontFaceIfNeeded();b=this._testDiv.cloneNode(!0);this._testContainer.appendChild(b);this._document.body.appendChild(this._testContainer);c.useIntervalChecking?(b.style.fontFamily=c.referenceFontFamilies[0]+
", serif",this._testContainer.appendChild(b),this._intervalId=window.setInterval(function(){a._checkAdobeBlankSize()},this._intervalDelay),this._checkAdobeBlankSize()):(b.style.fontFamily="serif",this._adobeBlankSizeWatcher=new d(b,{container:this._testContainer,delegate:this,continuous:!0,direction:d.directions.decrease,dimension:d.dimensions.horizontal,document:this._document}),this._adobeBlankSizeWatcher.prepareForWatch(),this._adobeBlankSizeWatcher.beginWatching(),b.style.fontFamily=c.referenceFontFamilies[0]+
", serif")},_getNewFontVariationsFromFonts:function(a){var b,e,h,d=[],g={};for(h=0;h<a.length;h++)b=a[h],e=b.variationKey(),e in g||e in c.referenceFontFamilyVariationSizes||(g[e]=!0,d.push({key:e,weight:b.weight,style:b.style,stretch:b.stretch}));return d},_parseFonts:function(a){var b=[],e,c,h={};for(e=0;e<a.length;e++)c=a[e],"string"===typeof c?-1<c.indexOf(":")?b=b.concat(this._parseFVD(c)):b.push(new f({family:c,weight:400,style:"normal",stretch:"normal"})):b.push(new f(c));a=[];for(e=0;e<b.length;e++)c=
b[e].fontKey(),c in h||(h[c]=!0,a.push(b[e]));return a},_parseFVD:function(a){var b=[],e=a.split(":"),h,d,g,t,u,v;h=e[0];e=e[1].split(",");for(d=0;d<e.length;d++){g=e[d];if(2>g.length||3<g.length)throw Error("Invalid Font Variation Description: '"+a+"', number of variation characters must be 2 or 3");t=g[0];u=g[1];v="n";3===g.length&&(v=g[2]);if(t in c.fontStyleAliasesMap)g=c.fontStyleAliasesMap[t];else throw Error("Invalid Font Variation Description: '"+a+"', the first variant character is not complying to FVD font-style specification");
u=parseInt(u,10);if(isNaN(u))throw Error("Invalid Font Variation Description: '"+a+"', the second variant character is not complying to FVD font-weight specification");u*=100;if(v in c.fontStretchAliasesMap)v=c.fontStretchAliasesMap[v];else throw Error("Invalid Font Variation Description: '"+a+"', the third variant character is not complying to FVD font-stretch specification");b.push(new f({family:h,weight:u,style:g,stretch:v}))}return b},_addAdobeBlankFontFaceIfNeeded:function(){var a;this._document.getElementById(c.adobeBlankFontFaceStyleId)||
(a=this._document.createElement("style"),a.setAttribute("type","text/css"),a.setAttribute("id",c.adobeBlankFontFaceStyleId),a.appendChild(this._document.createTextNode(c.adobeBlankFontFaceRule)),this._document.getElementsByTagName("head")[0].appendChild(a))},_checkAdobeBlankSize:function(){this._adobeBlankLoaded(this._testContainer.firstChild)},_adobeBlankLoaded:function(a){0===a.offsetWidth&&(c.adobeBlankReferenceSize=new g(a.offsetWidth,a.offsetHeight),null!==this._adobeBlankSizeWatcher?(this._adobeBlankSizeWatcher.endWatching(),
this._adobeBlankSizeWatcher.removeScrollWatchers(),this._adobeBlankSizeWatcher=null):(window.clearInterval(this._intervalId),a.parentNode.removeChild(a)),this._testContainer.parentNode.removeChild(this._testContainer),this._loadFonts())},_cloneNodeSetStyleAndAttributes:function(a,b,c){var e=this._testDiv.cloneNode(!0);e.style.fontWeight=a.weight;e.style.fontStyle=a.style;e.style.fontStretch=a.stretch;e.setAttribute("data-font-map-key",b);e.setAttribute("data-ref-font-family-index",String(c));return e},
_getFontMapKeyFromElement:function(a){return a.getAttribute("data-font-map-key")},_getFontFromElement:function(a){a=this._getFontMapKeyFromElement(a);return this._fontsMap[a]},_getFontFamilyFromElement:function(a){return this._getFontFromElement(a).family},_getReferenceFontFamilyIndexFromElement:function(a){return a.getAttribute("data-ref-font-family-index")},_getReferenceFontFamilyFromElement:function(a){a=this._getReferenceFontFamilyIndexFromElement(a);return c.referenceFontFamilies[a]},_loadFonts:function(){var a,
b,h,g,f,q,t,u,v=this;for(a=0;a<this._numberOfFonts;a++)for(f=this._fontsArray[a],q=f.fontKey(),this._fontsMap[q]=f,b=0;b<c.referenceFontFamilies.length;b++)h=this._cloneNodeSetStyleAndAttributes(f,q,b),c.useResizeEvent?(h.style.fontFamily=c.referenceFontFamilies[b],this._testContainer.appendChild(h)):c.useIntervalChecking?(h.style.fontFamily="'"+f.family+"', "+c.referenceFontFamilies[b],this._testContainer.appendChild(h)):(h.style.fontFamily=c.referenceFontFamilies[b],c.useAdobeBlank?(g=c.adobeBlankReferenceSize,
t=d.directions.increase,u=d.dimensions.horizontal):(g=f.variationKey(),g=c.referenceFontFamilyVariationSizes[g][b],t=d.directions.both,u=d.dimensions.both),g=new d(h,{container:this._testContainer,delegate:this,size:g,direction:t,dimension:u,document:this._document}),this._sizeWatchers.push(g));this._document.body.appendChild(this._testContainer);if(c.useResizeEvent){for(b=0;b<this._testContainer.childNodes.length;b++)h=this._testContainer.childNodes[b],h.attachEvent("onresize",function(a,b){return function(){a._elementSizeChanged(b)}}(this,
h));window.setTimeout(function(){for(b=0;b<v._testContainer.childNodes.length;b++)h=v._testContainer.childNodes[b],h.style.fontFamily="'"+v._getFontFamilyFromElement(h)+"', "+v._getReferenceFontFamilyFromElement(h)},0)}else if(c.useIntervalChecking)this._intervalId=window.setInterval(function(){v._checkSizes()},this._intervalDelay),this._checkSizes();else{for(a=0;a<this._sizeWatchers.length;a++)g=this._sizeWatchers[a],g.prepareForWatch();for(a=0;a<this._sizeWatchers.length;a++)g=this._sizeWatchers[a],
g.beginWatching(),h=g.getWatchedElement(),h.style.fontFamily="'"+this._getFontFamilyFromElement(h)+"', "+v._getReferenceFontFamilyFromElement(h)}},_checkSizes:function(){var a,b,h,d,f;for(a=this._testContainer.childNodes.length-1;0<=a;a--)b=this._testContainer.childNodes[a],d=new g(b.offsetWidth,b.offsetHeight),c.useAdobeBlank?h=c.adobeBlankReferenceSize:(h=this._getFontFromElement(b),h=h.variationKey(),f=this._getReferenceFontFamilyIndexFromElement(b),h=c.referenceFontFamilyVariationSizes[h][f]),
h.isEqual(d)||(b.parentNode.removeChild(b),this._elementSizeChanged(b))},_elementSizeChanged:function(a){var b;this._finished||(b=this._getFontMapKeyFromElement(a),"undefined"!==typeof this._fontsMap[b]&&(a=this._fontsMap[b],this._numberOfLoadedFonts++,delete this._fontsMap[b],this.delegate&&"function"===typeof this.delegate.fontLoaded&&this.delegate.fontLoaded(a.toJSON()),this._numberOfLoadedFonts===this._numberOfFonts&&this._finish()))},_finish:function(){var a,b,c,h=[];if(!this._finished){this._finished=
!0;null!==this._adobeBlankSizeWatcher&&(this._adobeBlankSizeWatcher.getState()===d.states.watchingForSizeChange&&this._adobeBlankSizeWatcher.endWatching(),this._adobeBlankSizeWatcher=null);for(a=0;a<this._sizeWatchers.length;a++)b=this._sizeWatchers[a],b.getState()===d.states.watchingForSizeChange&&b.endWatching();this._sizeWatchers=[];null!==this._testContainer&&this._testContainer.parentNode.removeChild(this._testContainer);null!==this._timeoutId&&window.clearTimeout(this._timeoutId);null!==this._intervalId&&
window.clearInterval(this._intervalId);if(this.delegate){if(this._numberOfLoadedFonts<this._numberOfFonts){for(c in this._fontsMap)this._fontsMap.hasOwnProperty(c)&&h.push(this._fontsMap[c].toJSON());a={message:"Not all fonts were loaded ("+this._numberOfLoadedFonts+"/"+this._numberOfFonts+")",notLoadedFonts:h}}else a=null;"function"===typeof this.delegate.complete?this.delegate.complete(a):"function"===typeof this.delegate.fontsLoaded&&this.delegate.fontsLoaded(a)}}},sizeWatcherChangedSize:function(a){var b=
a.getWatchedElement();a===this._adobeBlankSizeWatcher?this._adobeBlankLoaded(b):this._elementSizeChanged(b)}};g.sizeFromString=function(a){a=a.split(",");return 2!==a.length?null:new g(a[0],a[1])};g.prototype.isEqual=function(a){return this.width===a.width&&this.height===a.height};g.prototype.toString=function(){return this.width+","+this.height};d.states={initialized:0,generatedScrollWatchers:1,appendedScrollWatchers:2,preparedScrollWatchers:3,watchingForSizeChange:4};d.directions={decrease:1,increase:2,
both:3};d.dimensions={horizontal:1,vertical:2,both:3};d.prototype={constructor:d,getWatchedElement:function(){return this._element},getState:function(){return this._state},setSize:function(a){this._size=a;this._direction&d.directions.increase&&(this._sizeIncreaseWatcherContentElm.style.cssText="width: "+(a.width+this._scrollAmount)+"px; height: "+(a.height+this._scrollAmount)+"px;");this._direction&d.directions.decrease&&(this._sizeDecreaseWatcherElm.style.cssText="position:absolute; left: 0px; top: 0px; overflow: hidden; width: "+
(a.width-this._scrollAmount)+"px; height: "+(a.height-this._scrollAmount)+"px;")},_generateScrollWatchers:function(a){this._element.style.position="absolute";this._direction&d.directions.increase&&(this._sizeIncreaseWatcherContentElm=this._document.createElement("div"),this._sizeIncreaseWatcherElm=this._document.createElement("div"),this._sizeIncreaseWatcherElm.style.cssText="position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden;",this._sizeIncreaseWatcherElm.appendChild(this._sizeIncreaseWatcherContentElm),
this._element.appendChild(this._sizeIncreaseWatcherElm));this._direction&d.directions.decrease&&(this._sizeDecreaseWatcherElm=this._document.createElement("div"),this._sizeDecreaseWatcherElm.appendChild(this._element));a&&this.setSize(a);this._state=d.states.generatedScrollWatchers},_appendScrollWatchersToElement:function(a){if(this._state!==d.states.generatedScrollWatchers)throw Error("SizeWatcher._appendScrollWatchersToElement() was invoked before SizeWatcher._generateScrollWatchers()");this._direction&
d.directions.decrease?a.appendChild(this._sizeDecreaseWatcherElm):a.appendChild(this._element);this._state=d.states.appendedScrollWatchers},removeScrollWatchers:function(){this._direction&d.directions.decrease?this._sizeDecreaseWatcherElm.parentNode&&this._sizeDecreaseWatcherElm.parentNode.removeChild(this._sizeDecreaseWatcherElm):this._element.parentNode&&this._element.parentNode.removeChild(this._element)},prepareForWatch:function(){var a,b=a=!0;if(this._state!==d.states.appendedScrollWatchers)throw Error("SizeWatcher.prepareForWatch() invoked before SizeWatcher._appendScrollWatchersToElement()");
null===this._size&&this.setSize(new g(this._element.offsetWidth,this._element.offsetHeight));this._direction&d.directions.decrease&&(a=this._scrollElementToBottomRight(this._sizeDecreaseWatcherElm));this._direction&d.directions.increase&&(b=this._scrollElementToBottomRight(this._sizeIncreaseWatcherElm));if(!a||!b){for(a=this._element.parentNode;a!==this._document&&null!==a;)a=a.parentNode;if(null===a)throw Error("Can't set scroll position of scroll watchers. SizeWatcher is not in the DOM tree.");
console&&"function"===typeof console.warn&&console.warn("SizeWatcher can't set scroll position of scroll watchers.")}this._state=d.states.preparedScrollWatchers},_scrollElementToBottomRight:function(a){var b=!0;this._dimension&d.dimensions.vertical&&(a.scrollTop=this._scrollAmount,b=b&&0<a.scrollTop);this._dimension&d.dimensions.horizontal&&(a.scrollLeft=this._scrollAmount,b=b&&0<a.scrollLeft);return b},beginWatching:function(){if(this._state!==d.states.preparedScrollWatchers)throw Error("SizeWatcher.beginWatching() invoked before SizeWatcher.prepareForWatch()");
this._direction&d.directions.decrease&&this._sizeDecreaseWatcherElm.addEventListener("scroll",this,!1);this._direction&d.directions.increase&&this._sizeIncreaseWatcherElm.addEventListener("scroll",this,!1);this._state=d.states.watchingForSizeChange},endWatching:function(){if(this._state!==d.states.watchingForSizeChange)throw Error("SizeWatcher.endWatching() invoked before SizeWatcher.beginWatching()");this._direction&d.directions.decrease&&this._sizeDecreaseWatcherElm.removeEventListener("scroll",
this,!1);this._direction&d.directions.increase&&this._sizeIncreaseWatcherElm.removeEventListener("scroll",this,!1);this._state=d.states.appendedScrollWatchers},handleEvent:function(a){if(this._state===d.states.watchingForSizeChange&&(a=new g(this._element.offsetWidth,this._element.offsetHeight),!this._size.isEqual(a))){if(this._delegate&&"function"===typeof this._delegate.sizeWatcherChangedSize&&(this._delegate.sizeWatcherChangedSize(this),this._state!==d.states.watchingForSizeChange))return;this._continuous?
(this.setSize(a),this._state=d.states.appendedScrollWatchers,this.prepareForWatch(),this._state=d.states.watchingForSizeChange):this.endWatching()}}};return c});"use strict";var BudWeiser=window.BudWeiser||{};BudWeiser.beforeStart=function(){};BudWeiser.getDataBeforeAjax=function(){};BudWeiser.beforeUploadFile=function(){};BudWeiser.beforeGetBase64=function(){};BudWeiser.afterGetBase64=function(f){};BudWeiser.beforeCounTime=function(){};
(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):"object"===typeof exports?module.exports=f:f(jQuery)})(function(f){function c(b){var c=b?b.originalEvent||b:window.event,h=a.call(arguments,1);b=m._fix(c);h.unshift(b);e&&clearTimeout(e);e=setTimeout(g,200);return f.event.dispatch.apply(this,h)}function g(){l=null}function d(a,b){!0===a.preventDefault&&b.preventDefault();!0===a.stopPropagation&&b.stopPropagation()}var b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],
h="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice,e,l,n=b.length;for(;n;)f.event.fixHooks[b[--n]]=f.event.mouseHooks;var m=f.event.special.mousewheel={version:"4.0.0-pre",setup:function(){if(this.addEventListener)for(var a=h.length;a;)this.addEventListener(h[--a],c,!1);else this.onmousewheel=c;f.data(this,"mousewheel-line-height",m._getLineHeight(this));f.data(this,"mousewheel-page-height",m._getPageHeight(this))},
add:function(a){var b=a.data;if(b=b&&b.mousewheel)("throttle"in b||"debounce"in b)&&m._delayHandler.call(this,a),"intent"in b&&m._intentHandler.call(this,a)},trigger:function(a,b){b||(b=a);c.call(this,b);return!1},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],c,!1);else this.onmousewheel=null;f.removeData(this,"mousewheel-line-height");f.removeData(this,"mousewheel-page-height")},settings:{adjustOldDeltas:!0,normalizeOffset:!0},_getPageHeight:function(a){return f(a).height()},
_getLineHeight:function(a){a=f(a);var b=a["offsetParent"in f.fn?"offsetParent":"parent"]();b.length||(b=f("body"));return parseInt(b.css("fontSize"),10)||parseInt(a.css("fontSize"),10)||16},_fix:function(a){var b=0,e=0,c,h=0,d=0;event=f.event.fix(a);"detail"in a&&(e=a.detail);"wheelDelta"in a&&(e=-1*a.wheelDelta);"wheelDeltaY"in a&&(e=-1*a.wheelDeltaY);"wheelDeltaX"in a&&(b=-1*a.wheelDeltaX);"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=e,e=0);"deltaY"in a&&(e=a.deltaY);"deltaX"in a&&(b=a.deltaX);if(0!==
e||0!==b){1===a.deltaMode?(c=f.data(this,"mousewheel-line-height"),e*=c,b*=c):2===a.deltaMode&&(c=f.data(this,"mousewheel-page-height"),e*=c,b*=c);c=Math.max(Math.abs(e),Math.abs(b));if(!l||c<l)l=c,m.settings.adjustOldDeltas&&"mousewheel"===a.type&&0===c%120&&(l/=40);m.settings.adjustOldDeltas&&"mousewheel"===a.type&&0===c%120&&(b/=40,e/=40);b=Math[1<=b?"floor":"ceil"](b/l);e=Math[1<=e?"floor":"ceil"](e/l);m.settings.normalizeOffset&&this.getBoundingClientRect&&(a=this.getBoundingClientRect(),h=event.clientX-
a.left,d=event.clientY-a.top);event.deltaX=b;event.deltaY=e;event.deltaFactor=l;event.offsetX=h;event.offsetY=d;event.deltaMode=0;event.type="mousewheel";return event}},_intentHandler:function(a){var b,e,c,h,g,l=!1,n=this,m=a.data.mousewheel.intent,p=m.interval||100,y=m.sensitivity||7,I=a.handler,z=function(a){h=a.pageX;g=a.pageY},D=function(){Math.abs(e-h)+Math.abs(c-g)<y?(f(n).off("mousemove",z),l=!0):(e=h,c=g,b=setTimeout(D,p))};f(n).on("mouseenter",function(){e=event.pageX;c=event.pageY;f(n).on("mousemove",
z);b=setTimeout(D,p)}).on("mouseleave",function(){b&&clearTimeout(b);f(n).off("mousemove",z);l=!1});a.handler=function(a){if(l)return I.apply(n,arguments);d(m,a)}},_delayHandler:function(a){var b,e,c,h=this,g="throttle"in a.data.mousewheel?"throttle":"debounce",f=a.data.mousewheel[g],l="leading"in f?f.leading:"debounce"===g?!1:!0,n="trailing"in f?f.trailing:!0,m=f.delay||100,p="throttle"===g?m:f.maxDelay,I=a.handler;a.handler=function(a){var q=arguments,t=function(){c=+new Date;return I.apply(h,q)},
u=function(){e=null;return t()},v;b?clearTimeout(b):l&&(v=t());b=setTimeout(function(){e&&clearTimeout(e);c=e=b=null;if(n)return t()},m);"throttle"===g?p&&+new Date-c>=p&&(v=u()):p&&!e&&(e=setTimeout(u,p));d(f,a);return v}}}});
(function(f){"function"==typeof define&&define.amd?define(["jquery"],f):f(jQuery)})(function(f){f.ui=f.ui||{};f.ui.version="1.12.1";var c=0,g=Array.prototype.slice;f.cleanData=function(b){return function(c){var a,e,h;for(h=0;null!=(e=c[h]);h++)try{(a=f._data(e,"events"))&&a.remove&&f(e).triggerHandler("remove")}catch(n){}b(c)}}(f.cleanData);f.widget=function(b,c,a){var e,h,d,g={},p=b.split(".")[0];b=b.split(".")[1];var q=p+"-"+b;return a||(a=c,c=f.Widget),f.isArray(a)&&(a=f.extend.apply(null,[{}].concat(a))),
f.expr[":"][q.toLowerCase()]=function(a){return!!f.data(a,q)},f[p]=f[p]||{},e=f[p][b],h=f[p][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new h(a,b)},f.extend(h,e,{version:a.version,_proto:f.extend({},a),_childConstructors:[]}),d=new c,d.options=f.widget.extend({},d.options),f.each(a,function(a,b){return f.isFunction(b)?(g[a]=function(){function e(){return c.prototype[a].apply(this,arguments)}function h(b){return c.prototype[a].apply(this,b)}return function(){var a,
c=this._super,d=this._superApply;return this._super=e,this._superApply=h,a=b.apply(this,arguments),this._super=c,this._superApply=d,a}}(),void 0):(g[a]=b,void 0)}),h.prototype=f.widget.extend(d,{widgetEventPrefix:e?d.widgetEventPrefix||b:b},g,{constructor:h,namespace:p,widgetName:b,widgetFullName:q}),e?(f.each(e._childConstructors,function(a,b){a=b.prototype;f.widget(a.namespace+"."+a.widgetName,h,b._proto)}),delete e._childConstructors):c._childConstructors.push(h),f.widget.bridge(b,h),h};f.widget.extend=
function(b){for(var c,a,e=g.call(arguments,1),d=0,n=e.length;n>d;d++)for(c in e[d])a=e[d][c],e[d].hasOwnProperty(c)&&void 0!==a&&(b[c]=f.isPlainObject(a)?f.isPlainObject(b[c])?f.widget.extend({},b[c],a):f.widget.extend({},a):a);return b};f.widget.bridge=function(b,c){var a=c.prototype.widgetFullName||b;f.fn[b]=function(e){var h="string"==typeof e,d=g.call(arguments,1),m=this;return h?this.length||"instance"!==e?this.each(function(){var c,h=f.data(this,a);return"instance"===e?(m=h,!1):h?f.isFunction(h[e])&&
"_"!==e.charAt(0)?(c=h[e].apply(h,d),c!==h&&void 0!==c?(m=c&&c.jquery?m.pushStack(c.get()):c,!1):void 0):f.error("no such method '"+e+"' for "+b+" widget instance"):f.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+e+"'")}):m=void 0:(d.length&&(e=f.widget.extend.apply(null,[e].concat(d))),this.each(function(){var b=f.data(this,a);b?(b.option(e||{}),b._init&&b._init()):f.data(this,a,new c(e,this))})),m}};f.Widget=function(){};f.Widget._childConstructors=[];
f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{classes:{},disabled:!1,create:null},_createWidget:function(b,h){h=f(h||this.defaultElement||this)[0];this.element=f(h);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=f();this.hoverable=f();this.focusable=f();this.classesElementLookup={};h!==this&&(f.data(h,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===h&&this.destroy()}}),this.document=
f(h.style?h.ownerDocument:h.document||h),this.window=f(this.document[0].defaultView||this.document[0].parentWindow));this.options=f.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:f.noop,_create:f.noop,_init:f.noop,destroy:function(){var b=this;this._destroy();f.each(this.classesElementLookup,
function(c,a){b._removeClass(a,c)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:f.noop,widget:function(){return this.element},option:function(b,c){var a,e,h,d=b;if(0===arguments.length)return f.widget.extend({},this.options);if("string"==typeof b)if(d={},a=b.split("."),b=a.shift(),a.length){e=d[b]=f.widget.extend({},this.options[b]);for(h=0;a.length-1>h;h++)e[a[h]]=
e[a[h]]||{},e=e[a[h]];if(b=a.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];d[b]=c}return this._setOptions(d),this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,c){return"classes"===b&&this._setOptionClasses(c),this.options[b]=c,"disabled"===b&&this._setOptionDisabled(c),this},_setOptionClasses:function(b){var c,a,e;for(c in b)e=this.classesElementLookup[c],
b[c]!==this.options.classes[c]&&e&&e.length&&(a=f(e.get()),this._removeClass(e,c),a.addClass(this._classes({element:a,keys:c,classes:b,add:!0})))},_setOptionDisabled:function(b){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!b);b&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function c(c,
h){var d,g;for(g=0;c.length>g;g++)d=e.classesElementLookup[c[g]]||f(),d=b.add?f(f.unique(d.get().concat(b.element.get()))):f(d.not(b.element).get()),e.classesElementLookup[c[g]]=d,a.push(c[g]),h&&b.classes[c[g]]&&a.push(b.classes[c[g]])}var a=[],e=this;return b=f.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&c(b.keys.match(/\S+/g)||[],!0),b.extra&&c(b.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(b){var c=
this;f.each(c.classesElementLookup,function(a,e){-1!==f.inArray(b.target,e)&&(c.classesElementLookup[a]=f(e.not(b.target).get()))})},_removeClass:function(b,c,a){return this._toggleClass(b,c,a,!1)},_addClass:function(b,c,a){return this._toggleClass(b,c,a,!0)},_toggleClass:function(b,c,a,e){e="boolean"==typeof e?e:a;var h="string"==typeof b||null===b;b={extra:h?c:a,keys:h?b:c,element:h?this.element:b,add:e};return b.element.toggleClass(this._classes(b),e),this},_on:function(b,c,a){var e,h=this;"boolean"!=
typeof b&&(a=c,c=b,b=!1);a?(c=e=f(c),this.bindings=this.bindings.add(c)):(a=c,c=this.element,e=this.widget());f.each(a,function(a,d){function g(){return b||!0!==h.options.disabled&&!f(this).hasClass("ui-state-disabled")?("string"==typeof d?h[d]:d).apply(h,arguments):void 0}"string"!=typeof d&&(g.guid=d.guid=d.guid||g.guid||f.guid++);var l=a.match(/^([\w:-]*)\s*(.*)$/);a=l[1]+h.eventNamespace;(l=l[2])?e.on(a,l,g):c.on(a,g)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;
b.off(c).off(c);this.bindings=f(this.bindings.not(b).get());this.focusable=f(this.focusable.not(b).get());this.hoverable=f(this.hoverable.not(b).get())},_delay:function(b,c){var a=this;return setTimeout(function(){return("string"==typeof b?a[b]:b).apply(a,arguments)},c||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){this._addClass(f(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(f(b.currentTarget),null,"ui-state-hover")}})},
_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){this._addClass(f(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(f(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,a){var e,h=this.options[b];if(a=a||{},c=f.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);return this.element.trigger(c,a),!(f.isFunction(h)&&
!1===h.apply(this.element[0],[c].concat(a))||c.isDefaultPrevented())}};f.each({show:"fadeIn",hide:"fadeOut"},function(b,c){f.Widget.prototype["_"+b]=function(a,e,h){"string"==typeof e&&(e={effect:e});var d,g=e?!0===e||"number"==typeof e?c:e.effect||c:b;e=e||{};"number"==typeof e&&(e={duration:e});d=!f.isEmptyObject(e);e.complete=h;e.delay&&a.delay(e.delay);d&&f.effects&&f.effects.effect[g]?a[b](e):g!==b&&a[g]?a[g](e.duration,e.easing,h):a.queue(function(e){f(this)[b]();h&&h.call(a[0]);e()})}});f.widget;
f.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};f.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var d=!1;f(document).on("mouseup",function(){d=!1});f.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).on("click."+
this.widgetName,function(c){return!0===f.data(c.target,b.widgetName+".preventClickEvent")?(f.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!d){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);
this._mouseDownEvent=b;var c=this,a=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?f(b.target).closest(this.options.cancel).length:!1;return a&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===f.data(b.target,
this.widgetName+".preventClickEvent")&&f.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(b){if(this._mouseMoved){if(f.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button)return this._mouseUp(b);
if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},
_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&f.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);d=this.ignoreMissingWhich=!1;b.preventDefault()},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-
b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});f.widget("ui.slider",f.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",
range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,
c;b=this.options;var a=this.element.find(".ui-slider-handle"),e=[];c=b.values&&b.values.length||1;a.length>c&&(a.slice(c).remove(),a=a.slice(0,c));for(b=a.length;c>b;b++)e.push("\x3cspan tabindex\x3d'0'\x3e\x3c/span\x3e");this.handles=a.add(f(e.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(a){f(this).data("ui-slider-handle-index",a).attr("tabIndex",0)})},_createRange:function(){var b=this.options;
b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:f.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=f("\x3cdiv\x3e").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===b.range||"max"===b.range)&&this._addClass(this.range,
"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(b){var c,a,e,d,g,m,p,q,t=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},
this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},a=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(a-t.values(b));(e>c||e===c&&(b===t._lastChangedValue||t.values(b)===u.min))&&(e=c,d=f(this),g=b)}),m=this._start(b,g),!1===m?!1:(this._mouseSliding=!0,this._handleIndex=g,this._addClass(d,null,"ui-state-active"),d.trigger("focus"),p=d.offset(),q=!f(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=q?
{left:0,top:0}:{left:b.pageX-p.left-d.width()/2,top:b.pageY-p.top-d.height()/2-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,a),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(b){var c=this._normValueFromMouse({x:b.pageX,y:b.pageY});return this._slide(b,this._handleIndex,c),!1},_mouseStop:function(b){return this._removeClass(this.handles,
null,"ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(b){var c,a,e,d,g;return"horizontal"===this.orientation?(c=this.elementSize.width,a=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,
a=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=a/c,1<e&&(e=1),0>e&&(e=0),"vertical"===this.orientation&&(e=1-e),d=this._valueMax()-this._valueMin(),g=this._valueMin()+e*d,this._trimAlignValue(g)},_uiHash:function(b,c,a){var e={handle:this.handles[b],handleIndex:b,value:void 0!==c?c:this.value()};return this._hasMultipleValues()&&(e.value=void 0!==c?c:this.values(b),e.values=a||this.values()),e},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},
_start:function(b,c){return this._trigger("start",b,this._uiHash(c))},_slide:function(b,c,a){var e,h,d=this.value(),g=this.values();this._hasMultipleValues()&&(h=this.values(c?0:1),d=this.values(c),2===this.options.values.length&&!0===this.options.range&&(a=0===c?Math.min(h,a):Math.max(h,a)),g[c]=a);a!==d&&(e=this._trigger("slide",b,this._uiHash(c,a,g)),!1!==e&&(this._hasMultipleValues()?this.values(c,a):this.value(a)))},_stop:function(b,c){this._trigger("stop",b,this._uiHash(c))},_change:function(b,
c){this._keySliding||this._mouseSliding||(this._lastChangedValue=c,this._trigger("change",b,this._uiHash(c)))},value:function(b){return arguments.length?(this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(b,c){var a,e,h;if(1<arguments.length)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b),void 0;if(!arguments.length)return this._values();if(!f.isArray(arguments[0]))return this._hasMultipleValues()?
this._values(b):this.value();a=this.options.values;e=arguments[0];for(h=0;a.length>h;h+=1)a[h]=this._trimAlignValue(e[h]),this._change(null,h);this._refreshValue()},_setOption:function(b,c){var a=0;switch("range"===b&&!0===this.options.range&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),f.isArray(this.options.values)&&(a=this.options.values.length),this._super(b,c),b){case "orientation":this._detectOrientation();
this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(c);this.handles.css("horizontal"===c?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=a-1;0<=b;b--)this._change(null,b);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;
this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(b){this._super(b);this._toggleClass(null,"ui-state-disabled",!!b)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(b){var c,a;if(arguments.length)return c=this.options.values[b],this._trimAlignValue(c);if(this._hasMultipleValues()){c=this.options.values.slice();for(a=0;c.length>a;a+=1)c[a]=this._trimAlignValue(c[a]);
return c}return[]},_trimAlignValue:function(b){if(this._valueMin()>=b)return this._valueMin();if(b>=this._valueMax())return this._valueMax();var c=0<this.options.step?this.options.step:1,a=(b-this._valueMin())%c;b-=a;return 2*Math.abs(a)>=c&&(b+=0<a?c:-c),parseFloat(b.toFixed(5))},_calculateNewMax:function(){var b=this.options.max,c=this._valueMin(),a=this.options.step,b=Math.round((b-c)/a)*a+c;b>this.options.max&&(b-=a);this.max=parseFloat(b.toFixed(this._precision()))},_precision:function(){var b=
this._precisionOf(this.options.step);return null!==this.options.min&&(b=Math.max(b,this._precisionOf(this.options.min))),b},_precisionOf:function(b){b=""+b;var c=b.indexOf(".");return-1===c?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(b){"vertical"===b&&this.range.css({width:"",left:""});"horizontal"===b&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,c,a,e,d,g=this.options.range,m=this.options,p=
this,q=this._animateOff?!1:m.animate,t={};this._hasMultipleValues()?this.handles.each(function(a){c=100*((p.values(a)-p._valueMin())/(p._valueMax()-p._valueMin()));t["horizontal"===p.orientation?"left":"bottom"]=c+"%";f(this).stop(1,1)[q?"animate":"css"](t,m.animate);!0===p.options.range&&("horizontal"===p.orientation?(0===a&&p.range.stop(1,1)[q?"animate":"css"]({left:c+"%"},m.animate),1===a&&p.range[q?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:m.animate})):(0===a&&p.range.stop(1,1)[q?"animate":
"css"]({bottom:c+"%"},m.animate),1===a&&p.range[q?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:m.animate})));b=c}):(a=this.value(),e=this._valueMin(),d=this._valueMax(),c=d!==e?(a-e)/(d-e)*100:0,t["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[q?"animate":"css"](t,m.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({width:c+"%"},m.animate),"max"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({width:100-
c+"%"},m.animate),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({height:c+"%"},m.animate),"max"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[q?"animate":"css"]({height:100-c+"%"},m.animate))},_handleEvents:{keydown:function(b){var c,a,e,d=f(b.target).data("ui-slider-handle-index");switch(b.keyCode){case f.ui.keyCode.HOME:case f.ui.keyCode.END:case f.ui.keyCode.PAGE_UP:case f.ui.keyCode.PAGE_DOWN:case f.ui.keyCode.UP:case f.ui.keyCode.RIGHT:case f.ui.keyCode.DOWN:case f.ui.keyCode.LEFT:if(b.preventDefault(),
!this._keySliding&&(this._keySliding=!0,this._addClass(f(b.target),null,"ui-state-active"),c=this._start(b,d),!1===c))return}switch(e=this.options.step,c=a=this._hasMultipleValues()?this.values(d):this.value(),b.keyCode){case f.ui.keyCode.HOME:a=this._valueMin();break;case f.ui.keyCode.END:a=this._valueMax();break;case f.ui.keyCode.PAGE_UP:a=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/this.numPages);break;case f.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/
this.numPages);break;case f.ui.keyCode.UP:case f.ui.keyCode.RIGHT:if(c===this._valueMax())return;a=this._trimAlignValue(c+e);break;case f.ui.keyCode.DOWN:case f.ui.keyCode.LEFT:if(c===this._valueMin())return;a=this._trimAlignValue(c-e)}this._slide(b,d,a)},keyup:function(b){var c=f(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),this._removeClass(f(b.target),null,"ui-state-active"))}}})});var fabric=fabric||{version:"1.7.1"};
"undefined"!==typeof exports&&(exports.fabric=fabric);"undefined"!==typeof document&&"undefined"!==typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=require("jsdom").jsdom("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e"),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow);fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement;
fabric.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window;fabric.SHARED_ATTRIBUTES="display transform fill fill-opacity fill-rule opacity stroke stroke-dasharray stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width id".split(" ");fabric.DPI=96;fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)";fabric.fontPaths={};fabric.charWidthsCache={};
fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1;
(function(){function f(b,c){this.__eventListeners[b]&&(b=this.__eventListeners[b],c?b[b.indexOf(c)]=!1:fabric.util.array.fill(b,!1))}function c(b,c){this.__eventListeners||(this.__eventListeners={});if(1===arguments.length)for(var a in b)this.on(a,b[a]);else this.__eventListeners[b]||(this.__eventListeners[b]=[]),this.__eventListeners[b].push(c);return this}function g(b,c){if(this.__eventListeners){if(0===arguments.length)for(b in this.__eventListeners)f.call(this,b);else if(1===arguments.length&&
"object"===typeof arguments[0])for(var a in b)f.call(this,a,b[a]);else f.call(this,b,c);return this}}function d(b,c){if(this.__eventListeners){var a=this.__eventListeners[b];if(a){for(var e=0,d=a.length;e<d;e++)a[e]&&a[e].call(this,c||{});this.__eventListeners[b]=a.filter(function(a){return!1!==a});return this}}}fabric.Observable={observe:c,stopObserving:g,fire:d,on:c,off:g,trigger:d}})();
fabric.Collection={_objects:[],add:function(){this._objects.push.apply(this._objects,arguments);if(this._onObjectAdded)for(var f=0,c=arguments.length;f<c;f++)this._onObjectAdded(arguments[f]);this.renderOnAddRemove&&this.renderAll();return this},insertAt:function(f,c,g){var d=this.getObjects();g?d[c]=f:d.splice(c,0,f);this._onObjectAdded&&this._onObjectAdded(f);this.renderOnAddRemove&&this.renderAll();return this},remove:function(){for(var f=this.getObjects(),c,g=!1,d=0,b=arguments.length;d<b;d++)c=
f.indexOf(arguments[d]),-1!==c&&(g=!0,f.splice(c,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));this.renderOnAddRemove&&g&&this.renderAll();return this},forEachObject:function(f,c){for(var g=this.getObjects(),d=0,b=g.length;d<b;d++)f.call(c,g[d],d,g);return this},getObjects:function(f){return"undefined"===typeof f?this._objects:this._objects.filter(function(c){return c.type===f})},item:function(f){return this.getObjects()[f]},isEmpty:function(){return 0===this.getObjects().length},
size:function(){return this.getObjects().length},contains:function(f){return-1<this.getObjects().indexOf(f)},complexity:function(){return this.getObjects().reduce(function(f,c){return f+=c.complexity?c.complexity():0},0)}};
(function(f){var c=Math.sqrt,g=Math.atan2,d=Math.pow,b=Math.abs,h=Math.PI/180;fabric.util={removeFromArray:function(a,b){b=a.indexOf(b);-1!==b&&a.splice(b,1);return a},getRandomInt:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},degreesToRadians:function(a){return a*h},radiansToDegrees:function(a){return a/h},rotatePoint:function(a,b,c){a.subtractEquals(b);a=fabric.util.rotateVector(a,c);return(new fabric.Point(a.x,a.y)).addEquals(b)},rotateVector:function(a,b){var e=Math.sin(b);b=Math.cos(b);
return{x:a.x*b-a.y*e,y:a.x*e+a.y*b}},transformPoint:function(a,b,c){return c?new fabric.Point(b[0]*a.x+b[2]*a.y,b[1]*a.x+b[3]*a.y):new fabric.Point(b[0]*a.x+b[2]*a.y+b[4],b[1]*a.x+b[3]*a.y+b[5])},makeBoundingBoxFromPoints:function(a){var b=[a[0].x,a[1].x,a[2].x,a[3].x],c=fabric.util.array.min(b),b=fabric.util.array.max(b),b=Math.abs(c-b),d=[a[0].y,a[1].y,a[2].y,a[3].y];a=fabric.util.array.min(d);d=fabric.util.array.max(d);return{left:c,top:a,width:b,height:Math.abs(a-d)}},invertTransform:function(a){var b=
1/(a[0]*a[3]-a[1]*a[2]),b=[b*a[3],-b*a[1],-b*a[2],b*a[0]];a=fabric.util.transformPoint({x:a[4],y:a[5]},b,!0);b[4]=-a.x;b[5]=-a.y;return b},toFixed:function(a,b){return parseFloat(Number(a).toFixed(b))},parseUnit:function(a,b){var e=/\D{0,2}$/.exec(a);a=parseFloat(a);b||(b=fabric.Text.DEFAULT_SVG_FONT_SIZE);switch(e[0]){case "mm":return a*fabric.DPI/25.4;case "cm":return a*fabric.DPI/2.54;case "in":return a*fabric.DPI;case "pt":return a*fabric.DPI/72;case "pc":return a*fabric.DPI/72*12;case "em":return a*
b;default:return a}},falseFunction:function(){return!1},getKlass:function(a,b){a=fabric.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1));return fabric.util.resolveNamespace(b)[a]},resolveNamespace:function(a){if(!a)return fabric;a=a.split(".");var b=a.length,c,d=f||fabric.window;for(c=0;c<b;++c)d=d[a[c]];return d},loadImage:function(a,b,c,d){if(a){var e=fabric.util.createImage();e.onload=function(){b&&b.call(c,e);e=e.onload=e.onerror=null};e.onerror=function(){fabric.log("Error loading "+
e.src);b&&b.call(c,null,!0);e=e.onload=e.onerror=null};0!==a.indexOf("data")&&d&&(e.crossOrigin=d);e.src=a}else b&&b.call(c,a)},enlivenObjects:function(a,b,c,d){function e(){++g===f&&b&&b(h)}a=a||[];var h=[],g=0,f=a.length;f?a.forEach(function(a,b){if(a&&a.type){var g=fabric.util.getKlass(a.type,c);g.async?g.fromObject(a,function(c,g){g||(h[b]=c,d&&d(a,h[b]));e()}):(h[b]=g.fromObject(a),d&&d(a,h[b]),e())}else e()}):b&&b(h)},groupSVGElements:function(a,b,c){a=new fabric.PathGroup(a,b);"undefined"!==
typeof c&&a.setSourcePath(c);return a},populateWithProperties:function(a,b,c){if(c&&"[object Array]"===Object.prototype.toString.call(c))for(var e=0,d=c.length;e<d;e++)c[e]in a&&(b[c[e]]=a[c[e]])},drawDashedLine:function(a,b,d,h,f,p){h-=b;var e=f-d;f=c(h*h+e*e);h=g(e,h);var e=p.length,l=0,n=!0;a.save();a.translate(b,d);a.moveTo(0,0);a.rotate(h);for(b=0;f>b;)b+=p[l++%e],b>f&&(b=f),a[n?"lineTo":"moveTo"](b,0),n=!n;a.restore()},createCanvasElement:function(a){a||(a=fabric.document.createElement("canvas"));
a.getContext||"undefined"===typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(a);return a},createImage:function(){return fabric.isLikelyNode?new (require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(a){a=a.prototype;var b,c,d,h;for(b=a.stateProperties.length;b--;)c=a.stateProperties[b],d=c.charAt(0).toUpperCase()+c.slice(1),h="set"+d,d="get"+d,a[d]||(a[d]=new Function('return this.get("'+c+'")')),a[h]||(a[h]=new Function("value",'return this.set("'+c+'", value)'))},
clipContext:function(a,b){b.save();b.beginPath();a.clipTo(b);b.clip()},multiplyTransformMatrices:function(a,b,c){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],c?0:a[0]*b[4]+a[2]*b[5]+a[4],c?0:a[1]*b[4]+a[3]*b[5]+a[5]]},qrDecompose:function(a){var b=g(a[1],a[0]),f=d(a[0],2)+d(a[1],2),n=c(f),m=(a[0]*a[3]-a[2]*a[1])/n,f=g(a[0]*a[2]+a[1]*a[3],f);return{angle:b/h,scaleX:n,scaleY:m,skewX:f/h,skewY:0,translateX:a[4],translateY:a[5]}},customTransformMatrix:function(a,
e,c){c=[1,0,b(Math.tan(c*h)),1];a=[b(a),0,0,b(e)];return fabric.util.multiplyTransformMatrices(a,c,!0)},resetObjectTransform:function(a){a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.flipX=!1;a.flipY=!1;a.setAngle(0)},getFunctionBody:function(a){return(String(a).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(a,b,c,d){0<d&&(b=b>d?b-d:0,c=c>d?c-d:0);var e=!0;b=a.getImageData(b,c,2*d||1,2*d||1);c=b.data.length;for(a=3;a<c&&(e=b.data[a],e=0>=e,!1!==e);a+=4);return e},parsePreserveAspectRatioAttribute:function(a){var b=
"meet",c;(a=a.split(" "))&&a.length&&(b=a.pop(),"meet"!==b&&"slice"!==b?(c=b,b="meet"):a.length&&(c=a.pop()));a="none"!==c?c.slice(1,4):"none";c="none"!==c?c.slice(5,8):"none";return{meetOrSlice:b,alignX:a,alignY:c}},clearFabricFontCache:function(a){a?fabric.charWidthsCache[a]&&delete fabric.charWidthsCache[a]:fabric.charWidthsCache={}}}})("undefined"!==typeof exports?exports:this);
(function(){function f(a,d,h,f,q,t,u){var l=e.call(arguments);if(b[l])return b[l];var n=Math.PI,m=u*n/180,p=Math.sin(m),m=Math.cos(m),A=0,C=0;h=Math.abs(h);f=Math.abs(f);var y=-m*a*.5-p*d*.5,I=-m*d*.5+p*a*.5,z=h*h,D=f*f,K=I*I,F=y*y,O=z*D-z*K-D*F,L=0;0>O?(z=Math.sqrt(1-O/(z*D)),h*=z,f*=z):L=(q===t?-1:1)*Math.sqrt(O/(z*K+D*F));K=L*h*I/f;F=-L*f*y/h;L=m*K-p*F+.5*a;z=p*K+m*F+.5*d;D=g(1,0,(y-K)/h,(I-F)/f);I=g((y-K)/h,(I-F)/f,(-y-K)/h,(-I-F)/f);0===t&&0<I?I-=2*n:1===t&&0>I&&(I+=2*n);n=Math.ceil(Math.abs(I/
n*2));y=[];I/=n;K=8/3*Math.sin(I/4)*Math.sin(I/4)/Math.sin(I/2);F=D+I;for(O=0;O<n;O++)y[O]=c(D,F,m,p,h,f,L,z,K,A,C),A=y[O][4],C=y[O][5],D=F,F+=I;return b[l]=y}function c(a,b,c,d,g,f,u,v,x,w,B){var l=e.call(arguments);if(h[l])return h[l];var n=Math.cos(a),m=Math.sin(a),p=Math.cos(b),q=Math.sin(b),t=c*g*p-d*f*q+u,K=d*g*p+c*f*q+v;h[l]=[w+x*(-c*g*m-d*f*n),B+x*(-d*g*m+c*f*n),t+x*(c*g*q+d*f*p),K+x*(d*g*q-c*f*p),t,K];return h[l]}function g(a,b,e,c){a=Math.atan2(b,a);e=Math.atan2(c,e);return e>=a?e-a:2*Math.PI-
(a-e)}function d(b,c,d,h,g,f,u,v){var l=e.call(arguments);if(a[l])return a[l];var n=Math.sqrt,m=Math.min,p=Math.max,q=Math.abs,t=[],I=[[],[]],z,D,K,F,O;D=6*b-12*d+6*g;z=-3*b+9*d-9*g+3*u;K=3*d-3*b;for(var L=0;2>L;++L)0<L&&(D=6*c-12*h+6*f,z=-3*c+9*h-9*f+3*v,K=3*h-3*c),1e-12>q(z)?1e-12>q(D)||(F=-K/D,0<F&&1>F&&t.push(F)):(F=D*D-4*K*z,0>F||(O=n(F),F=(-D+O)/(2*z),0<F&&1>F&&t.push(F),F=(-D-O)/(2*z),0<F&&1>F&&t.push(F)));for(q=n=t.length;n--;)F=t[n],D=1-F,z=D*D*D*b+3*D*D*F*d+3*D*F*F*g+F*F*F*u,I[0][n]=z,z=
D*D*D*c+3*D*D*F*h+3*D*F*F*f+F*F*F*v,I[1][n]=z;I[0][q]=b;I[1][q]=c;I[0][q+1]=u;I[1][q+1]=v;m=[{x:m.apply(null,I[0]),y:m.apply(null,I[1])},{x:p.apply(null,I[0]),y:p.apply(null,I[1])}];return a[l]=m}var b={},h={},a={},e=Array.prototype.join;fabric.util.drawArc=function(a,b,e,c){var d=[[],[],[],[]];c=f(c[5]-b,c[6]-e,c[0],c[1],c[3],c[4],c[2]);for(var h=0,g=c.length;h<g;h++)d[h][0]=c[h][0]+b,d[h][1]=c[h][1]+e,d[h][2]=c[h][2]+b,d[h][3]=c[h][3]+e,d[h][4]=c[h][4]+b,d[h][5]=c[h][5]+e,a.bezierCurveTo.apply(a,
d[h])};fabric.util.getBoundsOfArc=function(a,b,e,c,h,g,u,v,x){var l=0,n=0,m=[];e=f(v-a,x-b,e,c,g,u,h);c=0;for(h=e.length;c<h;c++)l=d(l,n,e[c][0],e[c][1],e[c][2],e[c][3],e[c][4],e[c][5]),m.push({x:l[0].x+a,y:l[0].y+b}),m.push({x:l[1].x+a,y:l[1].y+b}),l=e[c][4],n=e[c][5];return m};fabric.util.getBoundsOfCurve=d})();
(function(){function f(c,d,b){if(c&&0!==c.length){var h=c.length-1,a=d?c[h][d]:c[h];if(d)for(;h--;)b(c[h][d],a)&&(a=c[h][d]);else for(;h--;)b(c[h],a)&&(a=c[h]);return a}}var c=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(c){if(void 0===this||null===this)throw new TypeError;var d=Object(this),b=d.length>>>0;if(0===b)return-1;var h=0;0<arguments.length&&(h=Number(arguments[1]),h!==h?h=0:0!==h&&h!==Number.POSITIVE_INFINITY&&h!==Number.NEGATIVE_INFINITY&&(h=(0<h||-1)*
Math.floor(Math.abs(h))));if(h>=b)return-1;for(h=0<=h?h:Math.max(b-Math.abs(h),0);h<b;h++)if(h in d&&d[h]===c)return h;return-1});Array.prototype.forEach||(Array.prototype.forEach=function(c,d){for(var b=0,h=this.length>>>0;b<h;b++)b in this&&c.call(d,this[b],b,this)});Array.prototype.map||(Array.prototype.map=function(c,d){for(var b=[],h=0,a=this.length>>>0;h<a;h++)h in this&&(b[h]=c.call(d,this[h],h,this));return b});Array.prototype.every||(Array.prototype.every=function(c,d){for(var b=0,h=this.length>>>
0;b<h;b++)if(b in this&&!c.call(d,this[b],b,this))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(c,d){for(var b=0,h=this.length>>>0;b<h;b++)if(b in this&&c.call(d,this[b],b,this))return!0;return!1});Array.prototype.filter||(Array.prototype.filter=function(c,d){for(var b=[],h,a=0,e=this.length>>>0;a<e;a++)a in this&&(h=this[a],c.call(d,h,a,this)&&b.push(h));return b});Array.prototype.reduce||(Array.prototype.reduce=function(c){var d=this.length>>>0,b=0,h;if(1<arguments.length)h=
arguments[1];else{do{if(b in this){h=this[b++];break}if(++b>=d)throw new TypeError;}while(1)}for(;b<d;b++)b in this&&(h=c.call(null,h,this[b],b,this));return h});fabric.util.array={fill:function(c,d){for(var b=c.length;b--;)c[b]=d;return c},invoke:function(g,d){for(var b=c.call(arguments,2),h=[],a=0,e=g.length;a<e;a++)h[a]=b.length?g[a][d].apply(g[a],b):g[a][d].call(g[a]);return h},min:function(c,d){return f(c,d,function(b,c){return b<c})},max:function(c,d){return f(c,d,function(b,c){return b>=c})}}})();
(function(){function f(c,g,d){if(d)if(!fabric.isLikelyNode&&g instanceof Element)c=g;else if(g instanceof Array){c=[];for(var b=0,h=g.length;b<h;b++)c[b]=f({},g[b],d)}else if(g&&"object"===typeof g)for(b in g)g.hasOwnProperty(b)&&(c[b]=f({},g[b],d));else c=g;else for(b in g)c[b]=g[b];return c}fabric.util.object={extend:f,clone:function(c,g){return f({},c,g)}}})();
(function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")});fabric.util.string={camelize:function(f){return f.replace(/-+(.)?/g,function(c,g){return g?g.toUpperCase():""})},capitalize:function(f,c){return f.charAt(0).toUpperCase()+(c?f.slice(1):f.slice(1).toLowerCase())},escapeXml:function(f){return f.replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26apos;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}}})();
(function(){var f=Array.prototype.slice,c=Function.prototype.apply,g=function(){};Function.prototype.bind||(Function.prototype.bind=function(d){var b=this,h=f.call(arguments,1),a;a=h.length?function(){return c.call(b,this instanceof g?this:d,h.concat(f.call(arguments)))}:function(){return c.call(b,this instanceof g?this:d,arguments)};g.prototype=this.prototype;a.prototype=new g;return a})})();
(function(){function f(){}function c(a){var b=this.constructor.superclass.prototype[a];return 1<arguments.length?b.apply(this,g.call(arguments,1)):b.call(this)}var g=Array.prototype.slice,d=function(){},b=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}(),h=function(a,e,c){for(var d in e)d in a.prototype&&"function"===typeof a.prototype[d]&&-1<(e[d]+"").indexOf("callSuper")?a.prototype[d]=function(a){return function(){var b=this.constructor.superclass;this.constructor.superclass=
c;var d=e[a].apply(this,arguments);this.constructor.superclass=b;if("initialize"!==a)return d}}(d):a.prototype[d]=e[d],b&&(e.toString!==Object.prototype.toString&&(a.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=e.valueOf))};fabric.util.createClass=function(){function a(){this.initialize.apply(this,arguments)}var b=null,l=g.call(arguments,0);"function"===typeof l[0]&&(b=l.shift());a.superclass=b;a.subclasses=[];b&&(f.prototype=b.prototype,a.prototype=new f,
b.subclasses.push(a));for(var n=0,m=l.length;n<m;n++)h(a,l[n],b);a.prototype.initialize||(a.prototype.initialize=d);a.prototype.constructor=a;a.prototype.callSuper=c;return a}})();
(function(){function f(a){var b=Array.prototype.slice.call(arguments,1),e,c,d=b.length;for(c=0;c<d;c++)if(e=typeof a[b[c]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function c(a,e){return function(c){e.call(b(a),c||fabric.window.event)}}function g(a,b){return function(e){if(m[a]&&m[a][b])for(var c=m[a][b],d=0,h=c.length;d<h;d++)c[d].call(this,e||fabric.window.event)}}function d(a,b,e){var c="touchend"===a.type?"changedTouches":"touches";return a[c]&&a[c][0]?a[c][0][b]-(a[c][0][b]-
a[c][0][e])||a[e]:a[e]}var b,h,a=function(){var a=0;return function(b){return b.__uniqueID||(b.__uniqueID="uniqueID__"+a++)}}();(function(){var a={};b=function(b){return a[b]};h=function(b,e){a[b]=e}})();var e=f(fabric.document.documentElement,"addEventListener","removeEventListener")&&f(fabric.window,"addEventListener","removeEventListener"),l=f(fabric.document.documentElement,"attachEvent","detachEvent")&&f(fabric.window,"attachEvent","detachEvent"),n={},m={};e?(e=function(a,b,e){a.addEventListener(b,
e,!1)},l=function(a,b,e){a.removeEventListener(b,e,!1)}):l?(e=function(b,e,d){var g=a(b);h(g,b);n[g]||(n[g]={});n[g][e]||(n[g][e]=[]);d={handler:d,wrappedHandler:c(g,d)};n[g][e].push(d);b.attachEvent("on"+e,d.wrappedHandler)},l=function(b,e,c){var d=a(b),h;if(n[d]&&n[d][e])for(var g=0,f=n[d][e].length;g<f;g++)(h=n[d][e][g])&&h.handler===c&&(b.detachEvent("on"+e,h.wrappedHandler),n[d][e][g]=null)}):(e=function(b,e,c){var d=a(b);m[d]||(m[d]={});if(!m[d][e]){m[d][e]=[];var h=b["on"+e];h&&m[d][e].push(h);
b["on"+e]=g(d,e)}m[d][e].push(c)},l=function(b,e,c){b=a(b);if(m[b]&&m[b][e]){e=m[b][e];b=0;for(var d=e.length;b<d;b++)e[b]===c&&e.splice(b,1)}});fabric.util.addListener=e;fabric.util.removeListener=l;var p=function(a){return"unknown"!==typeof a.clientX?a.clientX:0},q=function(a){return"unknown"!==typeof a.clientY?a.clientY:0};fabric.isTouchSupported&&(p=function(a){return d(a,"pageX","clientX")},q=function(a){return d(a,"pageY","clientY")});fabric.util.getPointer=function(a){a||(a=fabric.window.event);
var b=fabric.util.getScrollLeftTop(a.target||("unknown"!==typeof a.srcElement?a.srcElement:null));return{x:p(a)+b.left,y:q(a)+b.top}};fabric.util.object.extend(fabric.util,fabric.Observable)})();
(function(){var f=fabric.document.createElement("div"),c="string"===typeof f.style.filter,g=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,d=function(b){return b};"string"===typeof f.style.opacity?d=function(b,c){b.style.opacity=c;return b}:c&&(d=function(b,c){var a=b.style;b.currentStyle&&!b.currentStyle.hasLayout&&(a.zoom=1);g.test(a.filter)?a.filter=a.filter.replace(g,.9999<=c?"":"alpha(opacity\x3d"+100*c+")"):a.filter+=" alpha(opacity\x3d"+100*c+")";return b});fabric.util.setStyle=function(b,c){var a=
b.style;if(!a)return b;if("string"===typeof c)return b.style.cssText+=";"+c,-1<c.indexOf("opacity")?d(b,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):b;for(var e in c)"opacity"===e?d(b,c[e]):a["float"===e||"cssFloat"===e?"undefined"===typeof a.styleFloat?"cssFloat":"styleFloat":e]=c[e];return b}})();
(function(){function f(a,b){a=fabric.document.createElement(a);for(var e in b)"class"===e?a.className=b[e]:"for"===e?a.htmlFor=b[e]:a.setAttribute(e,b[e]);return a}function c(a){for(var b=0,c=0,d=fabric.document.documentElement,h=fabric.document.body||{scrollLeft:0,scrollTop:0};a&&(a.parentNode||a.host)&&(a=a.parentNode||a.host,a===fabric.document?(b=h.scrollLeft||d.scrollLeft||0,c=h.scrollTop||d.scrollTop||0):(b+=a.scrollLeft||0,c+=a.scrollTop||0),1!==a.nodeType||"fixed"!==fabric.util.getElementStyle(a,
"position")););return{left:b,top:c}}var g=Array.prototype.slice,d,b=function(a){return g.call(a,0)};try{d=b(fabric.document.childNodes)instanceof Array}catch(a){}d||(b=function(a){for(var b=Array(a.length),c=a.length;c--;)b[c]=a[c];return b});var h;h=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(a,b){return(a=fabric.document.defaultView.getComputedStyle(a,null))?a[b]:void 0}:function(a,b){var e=a.style[b];!e&&a.currentStyle&&(e=a.currentStyle[b]);return e};(function(){var a=
fabric.document.documentElement.style,b="userSelect"in a?"userSelect":"MozUserSelect"in a?"MozUserSelect":"WebkitUserSelect"in a?"WebkitUserSelect":"KhtmlUserSelect"in a?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=function(a){"undefined"!==typeof a.onselectstart&&(a.onselectstart=fabric.util.falseFunction);b?a.style[b]="none":"string"===typeof a.unselectable&&(a.unselectable="on");return a};fabric.util.makeElementSelectable=function(a){"undefined"!==typeof a.onselectstart&&(a.onselectstart=
null);b?a.style[b]="":"string"===typeof a.unselectable&&(a.unselectable="");return a}})();(function(){fabric.util.getScript=function(a,b){var e=fabric.document.getElementsByTagName("head")[0],c=fabric.document.createElement("script"),d=!0;c.onload=c.onreadystatechange=function(a){!d||"string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!1,b(a||fabric.window.event),c=c.onload=c.onreadystatechange=null)};c.src=a;e.appendChild(c)}})();fabric.util.getById=function(a){return"string"===
typeof a?fabric.document.getElementById(a):a};fabric.util.toArray=b;fabric.util.makeElement=f;fabric.util.addClass=function(a,b){a&&-1===(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className+=(a.className?" ":"")+b)};fabric.util.wrapElement=function(a,b,c){"string"===typeof b&&(b=f(b,c));a.parentNode&&a.parentNode.replaceChild(b,a);b.appendChild(a);return b};fabric.util.getScrollLeftTop=c;fabric.util.getElementOffset=function(a){var b;b=a&&a.ownerDocument;var d={left:0,top:0},g={left:0,top:0},f=
{borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!b)return g;for(var p in f)g[f[p]]+=parseInt(h(a,p),10)||0;b=b.documentElement;"undefined"!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect());a=c(a);return{left:d.left+a.left-(b.clientLeft||0)+g.left,top:d.top+a.top-(b.clientTop||0)+g.top}};fabric.util.getElementStyle=h})();
(function(){function f(c,b){return c+(/\?/.test(c)?"\x26":"?")+b}function c(){}var g=function(){for(var c=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],b=c.length;b--;)try{if(c[b]())return c[b]}catch(h){}}();fabric.util.request=function(d,b){b||(b={});var h=b.method?b.method.toUpperCase():"GET",a=b.onComplete||function(){},e=g(),l=b.body||
b.parameters;e.onreadystatechange=function(){4===e.readyState&&(a(e),e.onreadystatechange=c)};"GET"===h&&(l=null,"string"===typeof b.parameters&&(d=f(d,b.parameters)));e.open(h,d,!0);"POST"!==h&&"PUT"!==h||e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(l);return e}})();fabric.log=function(){};fabric.warn=function(){};
"undefined"!==typeof console&&["log","warn"].forEach(function(f){"undefined"!==typeof console[f]&&"function"===typeof console[f].apply&&(fabric[f]=function(){return console[f].apply(console,arguments)})});
(function(){function f(){return c.apply(fabric.window,arguments)}var c=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(c){fabric.window.setTimeout(c,1E3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame;fabric.util.animate=function(c){f(function(b){c||(c={});var d=b||+new Date,a=c.duration||500,e=d+a,g,n=c.onChange||function(){},
m=c.abort||function(){return!1},p=c.easing||function(a,b,c,e){return-c*Math.cos(a/e*(Math.PI/2))+c+b},q="startValue"in c?c.startValue:0;b="endValue"in c?c.endValue:100;var t=c.byValue||b-q;c.onStart&&c.onStart();(function v(b){g=b||+new Date;b=g>e?a:g-d;m()?c.onComplete&&c.onComplete():(n(p(b,q,t,a)),g>e?c.onComplete&&c.onComplete():f(v))})(d)})};fabric.util.requestAnimFrame=f;fabric.util.cancelAnimationFrame=function(){return g.apply(fabric.window,arguments)}})();
(function(){function f(b,c,a,e){b<Math.abs(c)?(b=c,e=a/4):e=0===c&&0===b?a/(2*Math.PI)*Math.asin(1):a/(2*Math.PI)*Math.asin(c/b);return{a:b,c:c,p:a,s:e}}function c(b,c,a){return b.a*Math.pow(2,10*--c)*Math.sin(2*(c*a-b.s)*Math.PI/b.p)}function g(b,c,a,e){return a-d(e-b,0,a,e)+c}function d(b,c,a,e){return(b/=e)<1/2.75?7.5625*a*b*b+c:b<2/2.75?a*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?a*(7.5625*(b-=2.25/2.75)*b+.9375)+c:a*(7.5625*(b-=2.625/2.75)*b+.984375)+c}fabric.util.ease={easeInQuad:function(b,
c,a,e){return a*(b/=e)*b+c},easeOutQuad:function(b,c,a,e){return-a*(b/=e)*(b-2)+c},easeInOutQuad:function(b,c,a,e){b/=e/2;return 1>b?a/2*b*b+c:-a/2*(--b*(b-2)-1)+c},easeInCubic:function(b,c,a,e){return a*(b/=e)*b*b+c},easeOutCubic:function(b,c,a,e){return a*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(b,c,a,e){b/=e/2;return 1>b?a/2*b*b*b+c:a/2*((b-=2)*b*b+2)+c},easeInQuart:function(b,c,a,e){return a*(b/=e)*b*b*b+c},easeOutQuart:function(b,c,a,e){return-a*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(b,
c,a,e){b/=e/2;return 1>b?a/2*b*b*b*b+c:-a/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(b,c,a,e){return a*(b/=e)*b*b*b*b+c},easeOutQuint:function(b,c,a,e){return a*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(b,c,a,e){b/=e/2;return 1>b?a/2*b*b*b*b*b+c:a/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(b,c,a,e){return-a*Math.cos(b/e*(Math.PI/2))+a+c},easeOutSine:function(b,c,a,e){return a*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(b,c,a,e){return-a/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(b,
c,a,e){return 0===b?c:a*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(b,c,a,e){return b===e?c+a:a*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(b,c,a,e){if(0===b)return c;if(b===e)return c+a;b/=e/2;return 1>b?a/2*Math.pow(2,10*(b-1))+c:a/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(b,c,a,e){return-a*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(b,c,a,e){return a*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(b,c,a,e){b/=e/2;return 1>b?-a/2*(Math.sqrt(1-b*b)-1)+c:a/2*(Math.sqrt(1-
(b-=2)*b)+1)+c},easeInElastic:function(b,d,a,e){var h=0;if(0===b)return d;b/=e;if(1===b)return d+a;h||(h=.3*e);a=f(a,a,h,1.70158);return-c(a,b,e)+d},easeOutElastic:function(b,c,a,e){var d=0;if(0===b)return c;b/=e;if(1===b)return c+a;d||(d=.3*e);a=f(a,a,d,1.70158);return a.a*Math.pow(2,-10*b)*Math.sin(2*(b*e-a.s)*Math.PI/a.p)+a.c+c},easeInOutElastic:function(b,d,a,e){var h=0;if(0===b)return d;b/=e/2;if(2===b)return d+a;h||(h=.3*e*1.5);a=f(a,a,h,1.70158);return 1>b?-.5*c(a,b,e)+d:a.a*Math.pow(2,-10*
--b)*Math.sin(2*(b*e-a.s)*Math.PI/a.p)*.5+a.c+d},easeInBack:function(b,c,a,e,d){void 0===d&&(d=1.70158);return a*(b/=e)*b*((d+1)*b-d)+c},easeOutBack:function(b,c,a,e,d){void 0===d&&(d=1.70158);return a*((b=b/e-1)*b*((d+1)*b+d)+1)+c},easeInOutBack:function(b,c,a,e,d){void 0===d&&(d=1.70158);b/=e/2;return 1>b?a/2*b*b*(((d*=1.525)+1)*b-d)+c:a/2*((b-=2)*b*(((d*=1.525)+1)*b+d)+2)+c},easeInBounce:g,easeOutBounce:d,easeInOutBounce:function(b,c,a,e){return b<e/2?.5*g(2*b,0,a,e)+c:.5*d(2*b-e,0,a,e)+.5*a+c}}})();
(function(f){function c(a){return a in z?z[a]:a}function g(a,b,c,e){var d="[object Array]"===Object.prototype.toString.call(b),h;"fill"!==a&&"stroke"!==a||"none"!==b?"strokeDashArray"===a?b="none"===b?null:b.replace(/,/g," ").split(/\s+/).map(function(a){return parseFloat(a)}):"transformMatrix"===a?b=c&&c.transformMatrix?B(c.transformMatrix,q.parseTransformAttribute(b)):q.parseTransformAttribute(b):"visible"===a?(b="none"===b||"hidden"===b?!1:!0,c&&!1===c.visible&&(b=!1)):"originX"===a?b="start"===
b?"left":"end"===b?"right":"center":h=d?b.map(w):w(b,e):b="";return!d&&isNaN(h)?b:h}function d(a){for(var b in D)if("undefined"!==typeof a[D[b]]&&""!==a[b]){if("undefined"===typeof a[b]){if(!q.Object.prototype[b])continue;a[b]=q.Object.prototype[b]}if(0!==a[b].indexOf("url(")){var c=new q.Color(a[b]);a[b]=c.setAlpha(x(c.getAlpha()*a[D[b]],2)).toRgba()}}return a}function b(a,b){for(var c,e=[],d=0;d<b.length;d++)c=b[d],c=a.getElementsByTagName(c),e=e.concat(Array.prototype.slice.call(c));return e}function h(a,
b){var e,d;a.replace(/;\s*$/,"").split(";").forEach(function(a){a=a.split(":");e=c(a[0].trim().toLowerCase());d=g(e,a[1].trim());b[e]=d})}function a(a,b){var c={},d;for(d in q.cssRules[b]){var h=a,g=d.split(" "),f,l=!0;if((f=e(h,g.pop()))&&g.length){for(var l=g,n=void 0,m=!0;h.parentNode&&1===h.parentNode.nodeType&&l.length;)m&&(n=l.pop()),h=h.parentNode,m=e(h,n);l=0===l.length}if(f&&l&&0===g.length)for(var p in q.cssRules[b][d])c[p]=q.cssRules[b][d][p]}return c}function e(a,b){var c=a.nodeName,e=
a.getAttribute("class");a=a.getAttribute("id");c=new RegExp("^"+c,"i");b=b.replace(c,"");a&&b.length&&(c=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),b=b.replace(c,""));if(e&&b.length)for(e=e.split(" "),a=e.length;a--;)c=new RegExp("\\."+e[a]+"(?![a-zA-Z\\-]+)","i"),b=b.replace(c,"");return 0===b.length}function l(a){for(var c=b(a,["use","svg:use"]),e=0;c.length&&e<c.length;){var d=c[e],h=d.getAttribute("xlink:href").substr(1),g=d.getAttribute("x")||0,f=d.getAttribute("y")||0;a:{var l=a,m=void 0;l.getElementById&&
(m=l.getElementById(h));if(m)h=m;else{for(var p=l.getElementsByTagName("*"),m=0;m<p.length;m++)if(l=p[m],h===l.getAttribute("id")){h=l;break a}h=void 0}}var h=h.cloneNode(!0),g=(h.getAttribute("transform")||"")+" translate("+g+", "+f+")",f=c.length,q;n(h);if(/^svg$/i.test(h.nodeName)){var t=h.ownerDocument.createElement("g"),m=0,p=h.attributes;for(q=p.length;m<q;m++)l=p.item(m),t.setAttribute(l.nodeName,l.nodeValue);for(;h.firstChild;)t.appendChild(h.firstChild);h=t}m=0;p=d.attributes;for(q=p.length;m<
q;m++)l=p.item(m),"x"!==l.nodeName&&"y"!==l.nodeName&&"xlink:href"!==l.nodeName&&("transform"===l.nodeName?g=l.nodeValue+" "+g:h.setAttribute(l.nodeName,l.nodeValue));h.setAttribute("transform",g);h.setAttribute("instantiated_by_use","1");h.removeAttribute("id");d.parentNode.replaceChild(h,d);c.length===f&&e++}}function n(a){var b=a.getAttribute("viewBox"),c=1,e=1,d,h,g,f=a.getAttribute("width"),l=a.getAttribute("height"),n=a.getAttribute("x")||0,m=a.getAttribute("y")||0,p=a.getAttribute("preserveAspectRatio")||
"";d=!b||!C.test(a.nodeName)||!(b=b.match(K));var t=!f||!l||"100%"===f||"100%"===l;h=d&&t;var u={},v="";u.width=0;u.height=0;if(u.toBeParsed=h)return u;if(d)return u.width=w(f),u.height=w(l),u;d=-parseFloat(b[1]);h=-parseFloat(b[2]);g=parseFloat(b[3]);b=parseFloat(b[4]);t?(u.width=g,u.height=b):(u.width=w(f),u.height=w(l),c=u.width/g,e=u.height/b);p=q.util.parsePreserveAspectRatioAttribute(p);"none"!==p.alignX&&(e=c=c>e?e:c);if(1===c&&1===e&&0===d&&0===h&&0===n&&0===m)return u;if(n||m)v=" translate("+
w(n)+" "+w(m)+") ";c=v+" matrix("+c+" 0 0 "+e+" "+d*c+" "+h*e+") ";if("svg"===a.nodeName){for(e=a.ownerDocument.createElement("g");a.firstChild;)e.appendChild(a.firstChild);a.appendChild(e)}else e=a,c=e.getAttribute("transform")+c;e.setAttribute("transform",c);return u}function m(a){var b=a.objects;a=a.options;b=b.map(function(a){return q[u(a.type)].fromObject(a)});return{objects:b,options:a}}function p(a,b,c){b[c]&&b[c].toSVG&&a.push('\t\x3cpattern x\x3d"0" y\x3d"0" id\x3d"',c,'Pattern" ','width\x3d"',
b[c].source.width,'" height\x3d"',b[c].source.height,'" patternUnits\x3d"userSpaceOnUse"\x3e\n','\t\t\x3cimage x\x3d"0" y\x3d"0" ','width\x3d"',b[c].source.width,'" height\x3d"',b[c].source.height,'" xlink:href\x3d"',b[c].source.src,'"\x3e\x3c/image\x3e\n\t\x3c/pattern\x3e\n')}var q=f.fabric||(f.fabric={}),t=q.util.object.extend,u=q.util.string.capitalize,v=q.util.object.clone,x=q.util.toFixed,w=q.util.parseUnit,B=q.util.multiplyTransformMatrices,A=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,
C=/^(symbol|image|marker|pattern|view|svg)$/i,y=/^(?:pattern|defs|symbol|metadata)$/i,I=/^(symbol|g|a|svg)$/i,z={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit",
"stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},D={stroke:"strokeOpacity",fill:"fillOpacity"};q.cssRules={};q.gradientDefs={};q.parseTransformAttribute=function(){function a(a,b){var c=b[0],e=3===b.length?b[1]:0;b=3===b.length?b[2]:0;a[0]=Math.cos(c);a[1]=Math.sin(c);a[2]=-Math.sin(c);a[3]=Math.cos(c);a[4]=e-(a[0]*e+a[2]*b);a[5]=b-(a[1]*e+a[3]*b)}function b(a,b){var c=2===b.length?b[1]:b[0];a[0]=b[0];a[3]=c}function c(a,b){a[4]=
b[0];2===b.length&&(a[5]=b[1])}var e=[1,0,0,1,0,0],d=q.reNum,h="(?:"+("(?:(matrix)\\s*\\(\\s*("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+d+")(?:(?:\\s+,?\\s*|,\\s*)("+d+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+d+")(?:(?:\\s+,?\\s*|,\\s*)("+d+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+d+")(?:(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+"))?\\s*\\))")+
"|"+("(?:(skewX)\\s*\\(\\s*("+d+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+d+")\\s*\\))")+")",g=new RegExp("^\\s*(?:"+("(?:"+h+"(?:(?:\\s+,?\\s*|,\\s*)*"+h+")*)")+"?)\\s*$"),f=new RegExp(h,"g");return function(d){var l=e.concat(),n=[];if(!d||d&&!g.test(d))return l;d.replace(f,function(d){var g=(new RegExp(h)).exec(d).filter(function(a){return!!a});d=g[1];g=g.slice(2).map(parseFloat);switch(d){case "translate":c(l,g);break;case "rotate":g[0]=q.util.degreesToRadians(g[0]);a(l,g);break;case "scale":b(l,
g);break;case "skewX":l[2]=Math.tan(q.util.degreesToRadians(g[0]));break;case "skewY":l[1]=Math.tan(q.util.degreesToRadians(g[0]));break;case "matrix":l=g}n.push(l.concat());l=e.concat()});for(d=n[0];1<n.length;)n.shift(),d=q.util.multiplyTransformMatrices(d,n[0]);return d}}();var K=new RegExp("^\\s*("+q.reNum+"+)\\s*,?\\s*("+q.reNum+"+)\\s*,?\\s*("+q.reNum+"+)\\s*,?\\s*("+q.reNum+"+)\\s*$");q.parseSVGDocument=function(){return function(a,b,c){if(a){l(a);var e=new Date,d=q.Object.__uid++,h=n(a),g=
q.util.toArray(a.getElementsByTagName("*"));h.svgUid=d;if(0===g.length&&q.isLikelyNode){for(var g=a.selectNodes('//*[name(.)!\x3d"svg"]'),f=[],m=0,p=g.length;m<p;m++)f[m]=g[m];g=f}g=g.filter(function(a){n(a);var b;if(b=A.test(a.nodeName.replace("svg:",""))){a:{for(;a&&(a=a.parentNode);)if(a.nodeName&&y.test(a.nodeName.replace("svg:",""))&&!a.getAttribute("instantiated_by_use")){a=!0;break a}a=!1}b=!a}return b});!g||g&&!g.length?b&&b([],{}):(q.gradientDefs[d]=q.getGradientDefs(a),q.cssRules[d]=q.getCSSRules(a),
q.parseElements(g,function(a){q.documentParsingTime=new Date-e;b&&b(a,h)},v(h),c))}}}();var F={has:function(a,b){b(!1)},get:function(){},set:function(){}},O=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+q.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+q.reNum+"))?\\s+(.*)");t(q,{parseFontDeclaration:function(a,b){var c=a.match(O);if(c){a=c[1];var e=c[3],d=c[4],h=c[5],c=c[6];a&&(b.fontStyle=a);e&&(b.fontWeight=isNaN(parseFloat(e))?
e:parseFloat(e));d&&(b.fontSize=w(d));c&&(b.fontFamily=c);h&&(b.lineHeight="normal"===h?1:h)}},getGradientDefs:function(a){var c=b(a,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),e,d,h,g={},f={};for(e=c.length;e--;)a=c[e],h=a.getAttribute("xlink:href"),d=a.getAttribute("id"),h&&(f[d]=h.substr(1)),g[d]=a;for(d in f)for(c=g[f[d]].cloneNode(!0),a=g[d];c.firstChild;)a.appendChild(c.firstChild);return g},parseAttributes:function(b,e,h){if(b){var f,l={},n;"undefined"===
typeof h&&(h=b.getAttribute("svgUid"));b.parentNode&&I.test(b.parentNode.nodeName)&&(l=q.parseAttributes(b.parentNode,e,h));n=l&&l.fontSize||b.getAttribute("font-size")||q.Text.DEFAULT_SVG_FONT_SIZE;e=e.reduce(function(a,e){if(f=b.getAttribute(e))e=c(e),f=g(e,f,l,n),a[e]=f;return a},{});e=t(e,t(a(b,h),q.parseStyleAttribute(b)));e.font&&q.parseFontDeclaration(e.font,e);return d(t(l,e))}},parseElements:function(a,b,c,e){(new q.ElementsParser(a,b,c,e)).parse()},parseStyleAttribute:function(a){var b=
{};a=a.getAttribute("style");if(!a)return b;if("string"===typeof a)h(a,b);else{var e,d,f;for(f in a)"undefined"!==typeof a[f]&&(e=c(f.toLowerCase()),d=g(e,a[f]),b[e]=d)}return b},parsePointsAttribute:function(a){if(!a)return null;a=a.replace(/,/g," ").trim();a=a.split(/\s+/);var b=[],c,e;c=0;for(e=a.length;c<e;c+=2)b.push({x:parseFloat(a[c]),y:parseFloat(a[c+1])});return b},getCSSRules:function(a){a=a.getElementsByTagName("style");for(var b={},e,d=0,h=a.length;d<h;d++)e=a[d].textContent||a[d].text,
e=e.replace(/\/\*[\s\S]*?\*\//g,""),""!==e.trim()&&(e=e.match(/[^{]*\{[\s\S]*?\}/g),e=e.map(function(a){return a.trim()}),e.forEach(function(a){a=a.match(/([\s\S]*?)\s*\{([^}]*)\}/);for(var e={},d=a[2].trim().replace(/;$/,"").split(/\s*;\s*/),h=0,f=d.length;h<f;h++){var l=d[h].split(/\s*:\s*/),n=c(l[0]),l=g(n,l[1],l[0]);e[n]=l}a=a[1];a.split(",").forEach(function(a){a=a.replace(/^svg/i,"").trim();""!==a&&(b[a]?q.util.object.extend(b[a],e):b[a]=q.util.object.clone(e))})}));return b},loadSVGFromURL:function(a,
b,c){function e(e){var d=e.responseXML;d&&!d.documentElement&&q.window.ActiveXObject&&e.responseText&&(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));d&&d.documentElement||b&&b(null);q.parseSVGDocument(d.documentElement,function(c,e){F.set(a,{objects:q.util.array.invoke(c,"toObject"),options:e});b&&b(c,e)},c)}a=a.replace(/^\n\s*/,"").trim();F.has(a,function(c){c?F.get(a,function(a){a=m(a);b(a.objects,a.options)}):
new q.util.request(a,{method:"get",onComplete:e})})},loadSVGFromString:function(a,b,c){a=a.trim();var e;if("undefined"!==typeof DOMParser){var d=new DOMParser;d&&d.parseFromString&&(e=d.parseFromString(a,"text/xml"))}else q.window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(a.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));q.parseSVGDocument(e.documentElement,function(a,c){b(a,c)},c)},createSVGFontFacesMarkup:function(a){for(var b="",c={},e,d,h,g,f,l=q.fontPaths,
n=0,m=a.length;n<m;n++)if(e=a[n],d=e.fontFamily,-1!==e.type.indexOf("text")&&!c[d]&&l[d]&&(c[d]=!0,e.styles))for(g in e=e.styles,e)for(f in h=e[g],h)d=h[f],d=d.fontFamily,!c[d]&&l[d]&&(c[d]=!0);for(var p in c)b+=["\t\t@font-face {\n\t\t\tfont-family: '",p,"';\n\t\t\tsrc: url('",l[p],"');\n\t\t}\n"].join("");b&&(b=['\t\x3cstyle type\x3d"text/css"\x3e\x3c![CDATA[\n',b,"]]\x3e\x3c/style\x3e\n"].join(""));return b},createSVGRefElementsMarkup:function(a){var b=[];p(b,a,"backgroundColor");p(b,a,"overlayColor");
return b.join("")}})})("undefined"!==typeof exports?exports:this);fabric.ElementsParser=function(f,c,g,d){this.elements=f;this.callback=c;this.options=g;this.reviver=d;this.svgUid=g&&g.svgUid||0};fabric.ElementsParser.prototype.parse=function(){this.instances=Array(this.elements.length);this.numElements=this.elements.length;this.createObjects()};
fabric.ElementsParser.prototype.createObjects=function(){for(var f=0,c=this.elements.length;f<c;f++)this.elements[f].setAttribute("svgUid",this.svgUid),function(c,d){setTimeout(function(){c.createObject(c.elements[d],d)},0)}(this,f)};fabric.ElementsParser.prototype.createObject=function(f,c){var g=fabric[fabric.util.string.capitalize(f.tagName.replace("svg:",""))];if(g&&g.fromElement)try{this._createObject(g,f,c)}catch(d){fabric.log(d)}else this.checkIfDone()};
fabric.ElementsParser.prototype._createObject=function(f,c,g){f.async?f.fromElement(c,this.createCallback(g,c),this.options):(f=f.fromElement(c,this.options),this.resolveGradient(f,"fill"),this.resolveGradient(f,"stroke"),this.reviver&&this.reviver(c,f),this.instances[g]=f,this.checkIfDone())};fabric.ElementsParser.prototype.createCallback=function(f,c){var g=this;return function(d){g.resolveGradient(d,"fill");g.resolveGradient(d,"stroke");g.reviver&&g.reviver(c,d);g.instances[f]=d;g.checkIfDone()}};
fabric.ElementsParser.prototype.resolveGradient=function(f,c){var g=f.get(c);/^url\(/.test(g)&&(g=g.slice(5,g.length-1),fabric.gradientDefs[this.svgUid][g]&&f.set(c,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][g],f)))};fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(f){return null!=f}),this.callback(this.instances))};
(function(f){function c(c,d){this.x=c;this.y=d}f=f.fabric||(f.fabric={});f.Point?f.warn("fabric.Point is already defined"):(f.Point=c,c.prototype={type:"point",constructor:c,add:function(g){return new c(this.x+g.x,this.y+g.y)},addEquals:function(c){this.x+=c.x;this.y+=c.y;return this},scalarAdd:function(g){return new c(this.x+g,this.y+g)},scalarAddEquals:function(c){this.x+=c;this.y+=c;return this},subtract:function(g){return new c(this.x-g.x,this.y-g.y)},subtractEquals:function(c){this.x-=c.x;this.y-=
c.y;return this},scalarSubtract:function(g){return new c(this.x-g,this.y-g)},scalarSubtractEquals:function(c){this.x-=c;this.y-=c;return this},multiply:function(g){return new c(this.x*g,this.y*g)},multiplyEquals:function(c){this.x*=c;this.y*=c;return this},divide:function(g){return new c(this.x/g,this.y/g)},divideEquals:function(c){this.x/=c;this.y/=c;return this},eq:function(c){return this.x===c.x&&this.y===c.y},lt:function(c){return this.x<c.x&&this.y<c.y},lte:function(c){return this.x<=c.x&&this.y<=
c.y},gt:function(c){return this.x>c.x&&this.y>c.y},gte:function(c){return this.x>=c.x&&this.y>=c.y},lerp:function(g,d){"undefined"===typeof d&&(d=.5);d=Math.max(Math.min(1,d),0);return new c(this.x+(g.x-this.x)*d,this.y+(g.y-this.y)*d)},distanceFrom:function(c){var d=this.x-c.x;c=this.y-c.y;return Math.sqrt(d*d+c*c)},midPointFrom:function(c){return this.lerp(c)},min:function(g){return new c(Math.min(this.x,g.x),Math.min(this.y,g.y))},max:function(g){return new c(Math.max(this.x,g.x),Math.max(this.y,
g.y))},toString:function(){return this.x+","+this.y},setXY:function(c,d){this.x=c;this.y=d;return this},setX:function(c){this.x=c;return this},setY:function(c){this.y=c;return this},setFromPoint:function(c){this.x=c.x;this.y=c.y;return this},swap:function(c){var d=this.x,b=this.y;this.x=c.x;this.y=c.y;c.x=d;c.y=b},clone:function(){return new c(this.x,this.y)}})})("undefined"!==typeof exports?exports:this);
(function(f){function c(c){this.status=c;this.points=[]}var g=f.fabric||(f.fabric={});g.Intersection?g.warn("fabric.Intersection is already defined"):(g.Intersection=c,g.Intersection.prototype={constructor:c,appendPoint:function(c){this.points.push(c);return this},appendPoints:function(c){this.points=this.points.concat(c);return this}},g.Intersection.intersectLineLine=function(d,b,h,a){var e,f=(a.x-h.x)*(d.y-h.y)-(a.y-h.y)*(d.x-h.x);e=(b.x-d.x)*(d.y-h.y)-(b.y-d.y)*(d.x-h.x);h=(a.y-h.y)*(b.x-d.x)-
(a.x-h.x)*(b.y-d.y);0!==h?(f/=h,e/=h,0<=f&&1>=f&&0<=e&&1>=e?(e=new c("Intersection"),e.appendPoint(new g.Point(d.x+f*(b.x-d.x),d.y+f*(b.y-d.y)))):e=new c):e=0===f||0===e?new c("Coincident"):new c("Parallel");return e},g.Intersection.intersectLinePolygon=function(d,b,h){for(var a=new c,e=h.length,g,f,m=0;m<e;m++)g=h[m],f=h[(m+1)%e],g=c.intersectLineLine(d,b,g,f),a.appendPoints(g.points);0<a.points.length&&(a.status="Intersection");return a},g.Intersection.intersectPolygonPolygon=function(d,b){for(var h=
new c,a=d.length,e=0;e<a;e++){var g=c.intersectLinePolygon(d[e],d[(e+1)%a],b);h.appendPoints(g.points)}0<h.points.length&&(h.status="Intersection");return h},g.Intersection.intersectPolygonRectangle=function(d,b,h){var a=b.min(h),e=b.max(h);h=new g.Point(e.x,a.y);var f=new g.Point(a.x,e.y);b=c.intersectLinePolygon(a,h,d);h=c.intersectLinePolygon(h,e,d);e=c.intersectLinePolygon(e,f,d);d=c.intersectLinePolygon(f,a,d);a=new c;a.appendPoints(b.points);a.appendPoints(h.points);a.appendPoints(e.points);
a.appendPoints(d.points);0<a.points.length&&(a.status="Intersection");return a})})("undefined"!==typeof exports?exports:this);
(function(f){function c(b){b?this._tryParsingColor(b):this.setSource([0,0,0,1])}function g(b,c,a){0>a&&(a+=1);1<a&&--a;return a<1/6?b+6*(c-b)*a:.5>a?c:a<2/3?b+(c-b)*(2/3-a)*6:b}var d=f.fabric||(f.fabric={});d.Color?d.warn("fabric.Color is already defined."):(d.Color=c,d.Color.prototype={_tryParsingColor:function(b){var d;b in c.colorNameMap&&(b=c.colorNameMap[b]);"transparent"===b&&(d=[255,255,255,0]);d||(d=c.sourceFromHex(b));d||(d=c.sourceFromRgb(b));d||(d=c.sourceFromHsl(b));d||(d=[0,0,0,1]);d&&
this.setSource(d)},_rgbToHsl:function(b,c,a){b/=255;c/=255;a/=255;var e,h,g,f=d.util.array.max([b,c,a]);h=d.util.array.min([b,c,a]);g=(f+h)/2;if(f===h)e=h=0;else{var p=f-h;h=.5<g?p/(2-f-h):p/(f+h);switch(f){case b:e=(c-a)/p+(c<a?6:0);break;case c:e=(a-b)/p+2;break;case a:e=(b-c)/p+4}e/=6}return[Math.round(360*e),Math.round(100*h),Math.round(100*g)]},getSource:function(){return this._source},setSource:function(b){this._source=b},toRgb:function(){var b=this.getSource();return"rgb("+b[0]+","+b[1]+","+
b[2]+")"},toRgba:function(){var b=this.getSource();return"rgba("+b[0]+","+b[1]+","+b[2]+","+b[3]+")"},toHsl:function(){var b=this.getSource(),b=this._rgbToHsl(b[0],b[1],b[2]);return"hsl("+b[0]+","+b[1]+"%,"+b[2]+"%)"},toHsla:function(){var b=this.getSource(),c=this._rgbToHsl(b[0],b[1],b[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+b[3]+")"},toHex:function(){var b=this.getSource(),c,a;c=b[0].toString(16);c=1===c.length?"0"+c:c;a=b[1].toString(16);a=1===a.length?"0"+a:a;b=b[2].toString(16);b=1===
b.length?"0"+b:b;return c.toUpperCase()+a.toUpperCase()+b.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(b){var c=this.getSource();c[3]=b;this.setSource(c);return this},toGrayscale:function(){var b=this.getSource(),c=parseInt((.3*b[0]+.59*b[1]+.11*b[2]).toFixed(0),10);this.setSource([c,c,c,b[3]]);return this},toBlackWhite:function(b){var c=this.getSource(),a=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),c=c[3],a=Number(a)<Number(b||127)?0:255;this.setSource([a,a,a,c]);return this},
overlayWith:function(b){b instanceof c||(b=new c(b));var d=[],a=this.getAlpha(),e=this.getSource();b=b.getSource();for(var g=0;3>g;g++)d.push(Math.round(.5*e[g]+.5*b[g]));d[3]=a;this.setSource(d);return this}},d.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,d.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,d.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,
d.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},d.Color.fromRgb=function(b){return c.fromSource(c.sourceFromRgb(b))},d.Color.sourceFromRgb=function(b){if(b=b.match(c.reRGBa)){var d=parseInt(b[1],10)/(/%$/.test(b[1])?100:1)*(/%$/.test(b[1])?
255:1),a=parseInt(b[2],10)/(/%$/.test(b[2])?100:1)*(/%$/.test(b[2])?255:1),e=parseInt(b[3],10)/(/%$/.test(b[3])?100:1)*(/%$/.test(b[3])?255:1);return[parseInt(d,10),parseInt(a,10),parseInt(e,10),b[4]?parseFloat(b[4]):1]}},d.Color.fromRgba=c.fromRgb,d.Color.fromHsl=function(b){return c.fromSource(c.sourceFromHsl(b))},d.Color.sourceFromHsl=function(b){if(b=b.match(c.reHSLa)){var d=(parseFloat(b[1])%360+360)%360/360,a=parseFloat(b[2])/(/%$/.test(b[2])?100:1),e=parseFloat(b[3])/(/%$/.test(b[3])?100:1);
if(0===a)e=a=d=e;else var f=.5>=e?e*(a+1):e+a-e*a,n=2*e-f,e=g(n,f,d+1/3),a=g(n,f,d),d=g(n,f,d-1/3);return[Math.round(255*e),Math.round(255*a),Math.round(255*d),b[4]?parseFloat(b[4]):1]}},d.Color.fromHsla=c.fromHsl,d.Color.fromHex=function(b){return c.fromSource(c.sourceFromHex(b))},d.Color.sourceFromHex=function(b){if(b.match(c.reHex)){var d=b.slice(b.indexOf("#")+1),a=3===d.length||4===d.length,e=8===d.length||4===d.length;b=a?d.charAt(0)+d.charAt(0):d.substring(0,2);var g=a?d.charAt(1)+d.charAt(1):
d.substring(2,4),f=a?d.charAt(2)+d.charAt(2):d.substring(4,6),d=e?a?d.charAt(3)+d.charAt(3):d.substring(6,8):"FF";return[parseInt(b,16),parseInt(g,16),parseInt(f,16),parseFloat((parseInt(d,16)/255).toFixed(2))]}},d.Color.fromSource=function(b){var d=new c;d.setSource(b);return d})})("undefined"!==typeof exports?exports:this);
(function(){function f(c){var d=c.getAttribute("style"),b=c.getAttribute("offset")||0,h,a,b=parseFloat(b)/(/%$/.test(b)?100:1),b=0>b?0:1<b?1:b;if(d){d=d.split(/\s*;\s*/);""===d[d.length-1]&&d.pop();for(var e=d.length;e--;){var g=d[e].split(/\s*:\s*/),f=g[0].trim(),g=g[1].trim();"stop-color"===f?h=g:"stop-opacity"===f&&(a=g)}}h||(h=c.getAttribute("stop-color")||"rgb(0,0,0)");a||(a=c.getAttribute("stop-opacity"));h=new fabric.Color(h);c=h.getAlpha();a=isNaN(parseFloat(a))?1:parseFloat(a);a*=c;return{offset:b,
color:h.toRgb(),opacity:a}}function c(c,d,b){var h,a=0,e,g="",f;for(f in d){"Infinity"===d[f]?d[f]=1:"-Infinity"===d[f]&&(d[f]=0);h=parseFloat(d[f],10);e="string"===typeof d[f]&&/^\d+%$/.test(d[f])?.01:1;if("x1"===f||"x2"===f||"r2"===f)e*="objectBoundingBox"===b?c.width:1,a="objectBoundingBox"===b?c.left||0:0;else if("y1"===f||"y2"===f)e*="objectBoundingBox"===b?c.height:1,a="objectBoundingBox"===b?c.top||0:0;d[f]=h*e+a}"ellipse"===c.type&&null!==d.r2&&"objectBoundingBox"===b&&c.rx!==c.ry&&(c=c.ry/
c.rx,g=" scale(1, "+c+")",d.y1&&(d.y1/=c),d.y2&&(d.y2/=c));return g}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(c){c||(c={});var d;this.id=fabric.Object.__uid++;this.type=c.type||"linear";d={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0};"radial"===this.type&&(d.r1=c.coords.r1||0,d.r2=c.coords.r2||0);this.coords=d;this.colorStops=c.colorStops.slice();c.gradientTransform&&(this.gradientTransform=c.gradientTransform);this.offsetX=c.offsetX||
this.offsetX;this.offsetY=c.offsetY||this.offsetY},addColorStop:function(c){for(var d in c){var b=new fabric.Color(c[d]);this.colorStops.push({offset:d,color:b.toRgb(),opacity:b.getAlpha()})}return this},toObject:function(c){var d={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};fabric.util.populateWithProperties(this,d,c);return d},toSVG:function(c){var d=
fabric.util.object.clone(this.coords),b;this.colorStops.sort(function(a,b){return a.offset-b.offset});if(!c.group||"path-group"!==c.group.type)for(var h in d)if("x1"===h||"x2"===h||"r2"===h)d[h]+=this.offsetX-c.width/2;else if("y1"===h||"y2"===h)d[h]+=this.offsetY-c.height/2;c='id\x3d"SVGID_'+this.id+'" gradientUnits\x3d"userSpaceOnUse"';this.gradientTransform&&(c+=' gradientTransform\x3d"matrix('+this.gradientTransform.join(" ")+')" ');"linear"===this.type?b=["\x3clinearGradient ",c,' x1\x3d"',d.x1,
'" y1\x3d"',d.y1,'" x2\x3d"',d.x2,'" y2\x3d"',d.y2,'"\x3e\n']:"radial"===this.type&&(b=["\x3cradialGradient ",c,' cx\x3d"',d.x2,'" cy\x3d"',d.y2,'" r\x3d"',d.r2,'" fx\x3d"',d.x1,'" fy\x3d"',d.y1,'"\x3e\n']);for(d=0;d<this.colorStops.length;d++)b.push("\x3cstop ",'offset\x3d"',100*this.colorStops[d].offset+"%",'" style\x3d"stop-color:',this.colorStops[d].color,null!==this.colorStops[d].opacity?";stop-opacity: "+this.colorStops[d].opacity:";",'"/\x3e\n');b.push("linear"===this.type?"\x3c/linearGradient\x3e\n":
"\x3c/radialGradient\x3e\n");return b.join("")},toLive:function(c,d){var b,h,a=fabric.util.object.clone(this.coords);if(this.type){if(d.group&&"path-group"===d.group.type)for(h in a)if("x1"===h||"x2"===h)a[h]+=-this.offsetX+d.width/2;else if("y1"===h||"y2"===h)a[h]+=-this.offsetY+d.height/2;"linear"===this.type?b=c.createLinearGradient(a.x1,a.y1,a.x2,a.y2):"radial"===this.type&&(b=c.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2));c=0;for(d=this.colorStops.length;c<d;c++){h=this.colorStops[c].color;
var a=this.colorStops[c].opacity,e=this.colorStops[c].offset;"undefined"!==typeof a&&(h=(new fabric.Color(h)).setAlpha(a).toRgba());b.addColorStop(parseFloat(e),h)}return b}}});fabric.util.object.extend(fabric.Gradient,{fromElement:function(g,d){var b=g.getElementsByTagName("stop"),h,a=g.getAttribute("gradientUnits")||"objectBoundingBox",e=g.getAttribute("gradientTransform"),l=[],n;h="linearGradient"===g.nodeName||"LINEARGRADIENT"===g.nodeName?"linear":"radial";"linear"===h?n={x1:g.getAttribute("x1")||
0,y1:g.getAttribute("y1")||0,x2:g.getAttribute("x2")||"100%",y2:g.getAttribute("y2")||0}:"radial"===h&&(n={x1:g.getAttribute("fx")||g.getAttribute("cx")||"50%",y1:g.getAttribute("fy")||g.getAttribute("cy")||"50%",r1:0,x2:g.getAttribute("cx")||"50%",y2:g.getAttribute("cy")||"50%",r2:g.getAttribute("r")||"50%"});for(g=b.length;g--;)l.push(f(b[g]));b=c(d,n,a);d=new fabric.Gradient({type:h,coords:n,colorStops:l,offsetX:-d.left,offsetY:-d.top});if(e||""!==b)d.gradientTransform=fabric.parseTransformAttribute((e||
"")+b);return d},forObject:function(g,d){d||(d={});c(g,d.coords,"userSpaceOnUse");return new fabric.Gradient(d)}})})();
fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(f){f||(f={});this.id=fabric.Object.__uid++;if(f.source)if("string"===typeof f.source)if("undefined"!==typeof fabric.util.getFunctionBody(f.source))this.source=new Function(fabric.util.getFunctionBody(f.source));else{var c=this;this.source=fabric.util.createImage();fabric.util.loadImage(f.source,function(g){c.source=g})}else this.source=f.source;f.repeat&&(this.repeat=f.repeat);f.offsetX&&(this.offsetX=
f.offsetX);f.offsetY&&(this.offsetY=f.offsetY)},toObject:function(f){var c;"function"===typeof this.source?c=String(this.source):"string"===typeof this.source.src?c=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(c=this.source.toDataURL());c={source:c,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY};fabric.util.populateWithProperties(this,c,f);return c},toSVG:function(f){var c="function"===typeof this.source?this.source():this.source,g=c.width/f.getWidth(),d=c.height/
f.getHeight(),b=this.offsetX/f.getWidth();f=this.offsetY/f.getHeight();var h="";if("repeat-x"===this.repeat||"no-repeat"===this.repeat)d=1;if("repeat-y"===this.repeat||"no-repeat"===this.repeat)g=1;c.src?h=c.src:c.toDataURL&&(h=c.toDataURL());return'\x3cpattern id\x3d"SVGID_'+this.id+'" x\x3d"'+b+'" y\x3d"'+f+'" width\x3d"'+g+'" height\x3d"'+d+'"\x3e\n\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+c.width+'" height\x3d"'+c.height+'" xlink:href\x3d"'+h+'"\x3e\x3c/image\x3e\n\x3c/pattern\x3e\n'},toLive:function(f){var c=
"function"===typeof this.source?this.source():this.source;return c&&("undefined"===typeof c.src||c.complete&&0!==c.naturalWidth&&0!==c.naturalHeight)?f.createPattern(c,this.repeat):""}});
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.toFixed;c.Shadow?c.warn("fabric.Shadow is already defined."):(c.Shadow=c.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(d){"string"===typeof d&&(d=this._parseShadow(d));for(var b in d)this[b]=d[b];this.id=c.Object.__uid++},_parseShadow:function(d){d=d.trim();var b=c.Shadow.reOffsetsAndBlur.exec(d)||[];return{color:(d.replace(c.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),
offsetX:parseInt(b[1],10)||0,offsetY:parseInt(b[2],10)||0,blur:parseInt(b[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var b=40,h=40,a=c.Object.NUM_FRACTION_DIGITS,e=c.util.rotateVector({x:this.offsetX,y:this.offsetY},c.util.degreesToRadians(-d.angle));d.width&&d.height&&(b=100*g((Math.abs(e.x)+this.blur)/d.width,a)+20,h=100*g((Math.abs(e.y)+this.blur)/d.height,a)+20);d.flipX&&(e.x*=-1);d.flipY&&(e.y*=-1);return'\x3cfilter id\x3d"SVGID_'+
this.id+'" y\x3d"-'+h+'%" height\x3d"'+(100+2*h)+'%" x\x3d"-'+b+'%" width\x3d"'+(100+2*b)+'%" \x3e\n\t\x3cfeGaussianBlur in\x3d"SourceAlpha" stdDeviation\x3d"'+g(this.blur?this.blur/2:0,a)+'"\x3e\x3c/feGaussianBlur\x3e\n\t\x3cfeOffset dx\x3d"'+g(e.x,a)+'" dy\x3d"'+g(e.y,a)+'" result\x3d"oBlur" \x3e\x3c/feOffset\x3e\n\t\x3cfeFlood flood-color\x3d"'+this.color+'"/\x3e\n\t\x3cfeComposite in2\x3d"oBlur" operator\x3d"in" /\x3e\n\t\x3cfeMerge\x3e\n\t\t\x3cfeMergeNode\x3e\x3c/feMergeNode\x3e\n\t\t\x3cfeMergeNode in\x3d"SourceGraphic"\x3e\x3c/feMergeNode\x3e\n\t\x3c/feMerge\x3e\n\x3c/filter\x3e\n'},
toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var d={},b=c.Shadow.prototype;["color","blur","offsetX","offsetY","affectStroke"].forEach(function(c){this[c]!==b[c]&&(d[c]=this[c])},this);return d}}),c.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)})("undefined"!==typeof exports?exports:this);
(function(){if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var f=fabric.util.object.extend,c=fabric.util.getElementOffset,g=fabric.util.removeFromArray,d=fabric.util.toFixed,b=Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(b,a){a||(a={});this._initStatic(b,a)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,
controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:[1,0,0,1,0,0],backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,_initStatic:function(b,a){var c=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[];this._createLowerCanvas(b);this._initOptions(a);this._setImageSmoothing();this.interactive||this._initRetinaScaling();a.overlayImage&&this.setOverlayImage(a.overlayImage,c);a.backgroundImage&&this.setBackgroundImage(a.backgroundImage,
c);a.backgroundColor&&this.setBackgroundColor(a.backgroundColor,c);a.overlayColor&&this.setOverlayColor(a.overlayColor,c);this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*
fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){this._offset=c(this.lowerCanvasEl);return this},setOverlayImage:function(b,a,c){return this.__setBgOverlayImage("overlayImage",b,a,c)},setBackgroundImage:function(b,a,c){return this.__setBgOverlayImage("backgroundImage",b,a,c)},setOverlayColor:function(b,a){return this.__setBgOverlayColor("overlayColor",b,a)},setBackgroundColor:function(b,a){return this.__setBgOverlayColor("backgroundColor",
b,a)},_setImageSmoothing:function(){var b=this.getContext();b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled;b.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(b,a,c,d){"string"===typeof a?fabric.util.loadImage(a,function(a){a&&(this[b]=new fabric.Image(a,d));c&&c(a)},this,d&&d.crossOrigin):(d&&a.setOptions(d),this[b]=a,c&&c(a));return this},__setBgOverlayColor:function(b,
a,c){if(a&&a.source){var e=this;fabric.util.loadImage(a.source,function(d){e[b]=new fabric.Pattern({source:d,repeat:a.repeat,offsetX:a.offsetX,offsetY:a.offsetY});c&&c()})}else this[b]=a,c&&c();return this},_createCanvasElement:function(c){c=fabric.util.createCanvasElement(c);c.style||(c.style={});if(!c)throw b;if("undefined"===typeof c.getContext)throw b;return c},_initOptions:function(b){for(var a in b)this[a]=b[a];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0;this.height=this.height||
parseInt(this.lowerCanvasEl.height,10)||0;this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(b){this.lowerCanvasEl=fabric.util.getById(b)||this._createCanvasElement(b);fabric.util.addClass(this.lowerCanvasEl,"lower-canvas");this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl);
this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(b,a){return this.setDimensions({width:b},a)},setHeight:function(b,a){return this.setDimensions({height:b},a)},setDimensions:function(b,a){var c;a=a||{};for(var d in b)c=b[d],a.cssOnly||(this._setBackstoreDimension(d,b[d]),c+="px"),a.backstoreOnly||this._setCssDimension(d,c);this._initRetinaScaling();this._setImageSmoothing();this.calcOffset();
a.cssOnly||this.renderAll();return this},_setBackstoreDimension:function(b,a){this.lowerCanvasEl[b]=a;this.upperCanvasEl&&(this.upperCanvasEl[b]=a);this.cacheCanvasEl&&(this.cacheCanvasEl[b]=a);this[b]=a;return this},_setCssDimension:function(b,a){this.lowerCanvasEl.style[b]=a;this.upperCanvasEl&&(this.upperCanvasEl.style[b]=a);this.wrapperEl&&(this.wrapperEl.style[b]=a);return this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(b){var a=this._activeGroup;this.viewportTransform=
b;for(var c=0,d=this._objects.length;c<d;c++)b=this._objects[c],b.group||b.setCoords();a&&a.setCoords();this.renderAll();return this},zoomToPoint:function(b,a){var c=b,d=this.viewportTransform.slice(0);b=fabric.util.transformPoint(b,fabric.util.invertTransform(this.viewportTransform));d[0]=a;d[3]=a;b=fabric.util.transformPoint(b,d);d[4]+=c.x-b.x;d[5]+=c.y-b.y;return this.setViewportTransform(d)},setZoom:function(b){this.zoomToPoint(new fabric.Point(0,0),b);return this},absolutePan:function(b){var a=
this.viewportTransform.slice(0);a[4]=-b.x;a[5]=-b.y;return this.setViewportTransform(a)},relativePan:function(b){return this.absolutePan(new fabric.Point(-b.x-this.viewportTransform[4],-b.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(b){this.stateful&&b.setupState();b._set("canvas",this);b.setCoords();this.fire("object:added",{target:b});b.fire("added")},_onObjectRemoved:function(b){this.fire("object:removed",{target:b});b.fire("removed");
delete b.canvas},clearContext:function(b){b.clearRect(0,0,this.width,this.height);return this},getContext:function(){return this.contextContainer},clear:function(){this._objects.length=0;this.overlayImage=this.backgroundImage=null;this.overlayColor=this.backgroundColor="";this._hasITextHandlers&&(this.off("selection:cleared",this._canvasITextSelectionClearedHanlder),this.off("object:selected",this._canvasITextSelectionClearedHanlder),this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=
null,this._hasITextHandlers=!1);this.clearContext(this.contextContainer);this.fire("canvas:cleared");this.renderAll();return this},renderAll:function(){this.renderCanvas(this.contextContainer,this._objects);return this},renderCanvas:function(b,a){this.clearContext(b);this.fire("before:render");this.clipTo&&fabric.util.clipContext(this,b);this._renderBackground(b);b.save();b.transform.apply(b,this.viewportTransform);this._renderObjects(b,a);b.restore();!this.controlsAboveOverlay&&this.interactive&&
this.drawControls(b);this.clipTo&&b.restore();this._renderOverlay(b);this.controlsAboveOverlay&&this.interactive&&this.drawControls(b);this.fire("after:render")},_renderObjects:function(b,a){for(var c=0,d=a.length;c<d;++c)a[c]&&a[c].render(b)},_renderBackgroundOrOverlay:function(b,a){var c=this[a+"Color"];c&&(b.fillStyle=c.toLive?c.toLive(b):c,b.fillRect(c.offsetX||0,c.offsetY||0,this.width,this.height));if(c=this[a+"Image"])this[a+"Vpt"]&&(b.save(),b.transform.apply(b,this.viewportTransform)),c.render(b),
this[a+"Vpt"]&&b.restore()},_renderBackground:function(b){this._renderBackgroundOrOverlay(b,"background")},_renderOverlay:function(b){this._renderBackgroundOrOverlay(b,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(b){return this._centerObject(b,new fabric.Point(this.getCenter().left,b.getCenterPoint().y))},centerObjectV:function(b){return this._centerObject(b,new fabric.Point(b.getCenterPoint().x,this.getCenter().top))},centerObject:function(b){var a=
this.getCenter();return this._centerObject(b,new fabric.Point(a.left,a.top))},viewportCenterObject:function(b){var a=this.getVpCenter();return this._centerObject(b,a)},viewportCenterObjectH:function(b){var a=this.getVpCenter();this._centerObject(b,new fabric.Point(a.x,b.getCenterPoint().y));return this},viewportCenterObjectV:function(b){var a=this.getVpCenter();return this._centerObject(b,new fabric.Point(b.getCenterPoint().x,a.y))},getVpCenter:function(){var b=this.getCenter(),a=fabric.util.invertTransform(this.viewportTransform);
return fabric.util.transformPoint({x:b.left,y:b.top},a)},_centerObject:function(b,a){b.setPositionByOrigin(a,"center","center");this.renderAll();return this},toDatalessJSON:function(b){return this.toDatalessObject(b)},toObject:function(b){return this._toObjectMethod("toObject",b)},toDatalessObject:function(b){return this._toObjectMethod("toDatalessObject",b)},_toObjectMethod:function(b,a){var c={objects:this._toObjects(b,a)};f(c,this.__serializeBgOverlay(b,a));fabric.util.populateWithProperties(this,
c,a);return c},_toObjects:function(b,a){return this.getObjects().filter(function(a){return!a.excludeFromExport}).map(function(c){return this._toObject(c,b,a)},this)},_toObject:function(b,a,c){var e;this.includeDefaultValues||(e=b.includeDefaultValues,b.includeDefaultValues=!1);a=b[a](c);this.includeDefaultValues||(b.includeDefaultValues=e);return a},__serializeBgOverlay:function(b,a){var c={background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject(a):this.backgroundColor};
this.overlayColor&&(c.overlay=this.overlayColor.toObject?this.overlayColor.toObject(a):this.overlayColor);this.backgroundImage&&(c.backgroundImage=this._toObject(this.backgroundImage,b,a));this.overlayImage&&(c.overlayImage=this._toObject(this.overlayImage,b,a));return c},svgViewportTransformation:!0,toSVG:function(b,a){b||(b={});var c=[];this._setSVGPreamble(c,b);this._setSVGHeader(c,b);this._setSVGBgOverlayColor(c,"backgroundColor");this._setSVGBgOverlayImage(c,"backgroundImage",a);this._setSVGObjects(c,
a);this._setSVGBgOverlayColor(c,"overlayColor");this._setSVGBgOverlayImage(c,"overlayImage",a);c.push("\x3c/svg\x3e");return c.join("")},_setSVGPreamble:function(b,a){a.suppressPreamble||b.push('\x3c?xml version\x3d"1.0" encoding\x3d"',a.encoding||"UTF-8",'" standalone\x3d"no" ?\x3e\n','\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n')},_setSVGHeader:function(b,a){var c=a.width||this.width,h=a.height||this.height,g='viewBox\x3d"0 0 '+this.width+
" "+this.height+'" ',f=fabric.Object.NUM_FRACTION_DIGITS;a.viewBox?g='viewBox\x3d"'+a.viewBox.x+" "+a.viewBox.y+" "+a.viewBox.width+" "+a.viewBox.height+'" ':this.svgViewportTransformation&&(a=this.viewportTransform,g='viewBox\x3d"'+d(-a[4]/a[0],f)+" "+d(-a[5]/a[3],f)+" "+d(this.width/a[0],f)+" "+d(this.height/a[3],f)+'" ');b.push("\x3csvg ",'xmlns\x3d"http://www.w3.org/2000/svg" ','xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ','version\x3d"1.1" ','width\x3d"',c,'" ','height\x3d"',h,'" ',this.backgroundColor&&
!this.backgroundColor.toLive?'style\x3d"background-color: '+this.backgroundColor+'" ':null,g,'xml:space\x3d"preserve"\x3e\n',"\x3cdesc\x3eCreated with Fabric.js ",fabric.version,"\x3c/desc\x3e\n","\x3cdefs\x3e",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"\x3c/defs\x3e\n")},_setSVGObjects:function(b,a){for(var c,d=0,h=this.getObjects(),g=h.length;d<g;d++)c=h[d],c.excludeFromExport||this._setSVGObject(b,c,a)},_setSVGObject:function(b,a,c){b.push(a.toSVG(c))},
_setSVGBgOverlayImage:function(b,a,c){this[a]&&this[a].toSVG&&b.push(this[a].toSVG(c))},_setSVGBgOverlayColor:function(b,a){this[a]&&this[a].source?b.push('\x3crect x\x3d"',this[a].offsetX,'" y\x3d"',this[a].offsetY,'" ','width\x3d"',"repeat-y"===this[a].repeat||"no-repeat"===this[a].repeat?this[a].source.width:this.width,'" height\x3d"',"repeat-x"===this[a].repeat||"no-repeat"===this[a].repeat?this[a].source.height:this.height,'" fill\x3d"url(#'+a+'Pattern)"',"\x3e\x3c/rect\x3e\n"):this[a]&&"overlayColor"===
a&&b.push('\x3crect x\x3d"0" y\x3d"0" ','width\x3d"',this.width,'" height\x3d"',this.height,'" fill\x3d"',this[a],'"',"\x3e\x3c/rect\x3e\n")},sendToBack:function(b){if(!b)return this;var a=this._activeGroup,c;if(b===a)for(c=a._objects,b=c.length;b--;)a=c[b],g(this._objects,a),this._objects.unshift(a);else g(this._objects,b),this._objects.unshift(b);return this.renderAll&&this.renderAll()},bringToFront:function(b){if(!b)return this;var a=this._activeGroup,c;if(b===a)for(c=a._objects,b=0;b<c.length;b++)a=
c[b],g(this._objects,a),this._objects.push(a);else g(this._objects,b),this._objects.push(b);return this.renderAll&&this.renderAll()},sendBackwards:function(b,a){if(!b)return this;var c=this._activeGroup,d;if(b===c)for(d=c._objects,b=0;b<d.length;b++)a=d[b],c=this._objects.indexOf(a),0!==c&&(--c,g(this._objects,a),this._objects.splice(c,0,a));else c=this._objects.indexOf(b),0!==c&&(c=this._findNewLowerIndex(b,c,a),g(this._objects,b),this._objects.splice(c,0,b));this.renderAll&&this.renderAll();return this},
_findNewLowerIndex:function(b,a,c){if(c)for(c=a,--a;0<=a;--a){if(b.intersectsWithObject(this._objects[a])||b.isContainedWithinObject(this._objects[a])||this._objects[a].isContainedWithinObject(b)){c=a;break}}else c=a-1;return c},bringForward:function(b,a){if(!b)return this;var c=this._activeGroup,d;if(b===c)for(d=c._objects,b=d.length;b--;)a=d[b],c=this._objects.indexOf(a),c!==this._objects.length-1&&(c+=1,g(this._objects,a),this._objects.splice(c,0,a));else c=this._objects.indexOf(b),c!==this._objects.length-
1&&(c=this._findNewUpperIndex(b,c,a),g(this._objects,b),this._objects.splice(c,0,b));this.renderAll&&this.renderAll();return this},_findNewUpperIndex:function(b,a,c){if(c)for(c=a,a+=1;a<this._objects.length;++a){if(b.intersectsWithObject(this._objects[a])||b.isContainedWithinObject(this._objects[a])||this._objects[a].isContainedWithinObject(b)){c=a;break}}else c=a+1;return c},moveTo:function(b,a){g(this._objects,b);this._objects.splice(a,0,b);return this.renderAll&&this.renderAll()},dispose:function(){this.clear();
return this},toString:function(){return"#\x3cfabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }\x3e"}});f(fabric.StaticCanvas.prototype,fabric.Observable);f(fabric.StaticCanvas.prototype,fabric.Collection);f(fabric.StaticCanvas.prototype,fabric.DataURLExporter);f(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(b){var a=fabric.util.createCanvasElement();if(!a||!a.getContext)return null;var c=a.getContext("2d");if(!c)return null;
switch(b){case "getImageData":return"undefined"!==typeof c.getImageData;case "setLineDash":return"undefined"!==typeof c.setLineDash;case "toDataURL":return"undefined"!==typeof a.toDataURL;case "toDataURLWithQuality":try{return a.toDataURL("image/jpeg",0),!0}catch(l){}return!1;default:return null}}});fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}})();
fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(f){this.shadow=new fabric.Shadow(f);return this},_setBrushStyles:function(){var f=this.canvas.contextTop;f.strokeStyle=this.color;f.lineWidth=this.width;f.lineCap=this.strokeLineCap;f.lineJoin=this.strokeLineJoin;this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&f.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var f=
this.canvas.contextTop,c=this.canvas.getZoom();f.shadowColor=this.shadow.color;f.shadowBlur=this.shadow.blur*c;f.shadowOffsetX=this.shadow.offsetX*c;f.shadowOffsetY=this.shadow.offsetY*c}},_resetShadow:function(){var f=this.canvas.contextTop;f.shadowColor="";f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0}});
(function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(f){this.canvas=f;this._points=[]},onMouseDown:function(f){this._prepareForDrawing(f);this._captureDrawingPath(f);this._render()},onMouseMove:function(f){this._captureDrawingPath(f);this.canvas.clearContext(this.canvas.contextTop);this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(f){f=new fabric.Point(f.x,f.y);this._reset();this._addPoint(f);this.canvas.contextTop.moveTo(f.x,
f.y)},_addPoint:function(f){this._points.push(f)},_reset:function(){this._points.length=0;this._setBrushStyles();this._setShadow()},_captureDrawingPath:function(f){f=new fabric.Point(f.x,f.y);this._addPoint(f)},_render:function(){var f=this.canvas.contextTop,c=this.canvas.viewportTransform,g=this._points[0],d=this._points[1];f.save();f.transform(c[0],c[1],c[2],c[3],c[4],c[5]);f.beginPath();2===this._points.length&&g.x===d.x&&g.y===d.y&&(g.x-=.5,d.x+=.5);f.moveTo(g.x,g.y);for(var c=1,b=this._points.length;c<
b;c++)d=g.midPointFrom(d),f.quadraticCurveTo(g.x,g.y,d.x,d.y),g=this._points[c],d=this._points[c+1];f.lineTo(g.x,g.y);f.stroke();f.restore()},convertPointsToSVGPath:function(f){var c=[],g=new fabric.Point(f[0].x,f[0].y),d=new fabric.Point(f[1].x,f[1].y);c.push("M ",f[0].x," ",f[0].y," ");for(var b=1,h=f.length;b<h;b++){var a=g.midPointFrom(d);c.push("Q ",g.x," ",g.y," ",a.x," ",a.y," ");g=new fabric.Point(f[b].x,f[b].y);b+1<f.length&&(d=new fabric.Point(f[b+1].x,f[b+1].y))}c.push("L ",g.x," ",g.y,
" ");return c},createPath:function(f){f=new fabric.Path(f,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"});this.shadow&&(this.shadow.affectStroke=!0,f.setShadow(this.shadow));return f},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var f=this.convertPointsToSVGPath(this._points).join("");"M 0 0 Q 0 0 0 0 L 0 0"===f?this.canvas.renderAll():
(f=this.createPath(f),this.canvas.add(f),f.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:f}))}})})();
fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(f){this.canvas=f;this.points=[]},drawDot:function(f){f=this.addPoint(f);var c=this.canvas.contextTop,g=this.canvas.viewportTransform;c.save();c.transform(g[0],g[1],g[2],g[3],g[4],g[5]);c.fillStyle=f.fill;c.beginPath();c.arc(f.x,f.y,f.radius,0,2*Math.PI,!1);c.closePath();c.fill();c.restore()},onMouseDown:function(f){this.points.length=0;this.canvas.clearContext(this.canvas.contextTop);this._setShadow();this.drawDot(f)},
onMouseMove:function(f){this.drawDot(f)},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var c=[],g=0,d=this.points.length;g<d;g++){var b=this.points[g],b=new fabric.Circle({radius:b.radius,left:b.x,top:b.y,originX:"center",originY:"center",fill:b.fill});this.shadow&&b.setShadow(this.shadow);c.push(b)}c=new fabric.Group(c,{originX:"center",originY:"center"});c.canvas=this.canvas;this.canvas.add(c);this.canvas.fire("path:created",{path:c});this.canvas.clearContext(this.canvas.contextTop);
this._resetShadow();this.canvas.renderOnAddRemove=f;this.canvas.renderAll()},addPoint:function(f){f=new fabric.Point(f.x,f.y);var c=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,g=(new fabric.Color(this.color)).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();f.radius=c;f.fill=g;this.points.push(f);return f}});
fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(f){this.canvas=f;this.sprayChunks=[]},onMouseDown:function(f){this.sprayChunks.length=0;this.canvas.clearContext(this.canvas.contextTop);this._setShadow();this.addSprayChunk(f);this.render()},onMouseMove:function(f){this.addSprayChunk(f);this.render()},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=
!1;for(var c=[],g=0,d=this.sprayChunks.length;g<d;g++)for(var b=this.sprayChunks[g],h=0,a=b.length;h<a;h++){var e=new fabric.Rect({width:b[h].width,height:b[h].width,left:b[h].x+1,top:b[h].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&e.setShadow(this.shadow);c.push(e)}this.optimizeOverlapping&&(c=this._getOptimizedRects(c));c=new fabric.Group(c,{originX:"center",originY:"center"});c.canvas=this.canvas;this.canvas.add(c);this.canvas.fire("path:created",{path:c});this.canvas.clearContext(this.canvas.contextTop);
this._resetShadow();this.canvas.renderOnAddRemove=f;this.canvas.renderAll()},_getOptimizedRects:function(f){for(var c={},g,d=0,b=f.length;d<b;d++)g=f[d].left+""+f[d].top,c[g]||(c[g]=f[d]);f=[];for(g in c)f.push(c[g]);return f},render:function(){var f=this.canvas.contextTop;f.fillStyle=this.color;var c=this.canvas.viewportTransform;f.save();f.transform(c[0],c[1],c[2],c[3],c[4],c[5]);for(var c=0,g=this.sprayChunkPoints.length;c<g;c++){var d=this.sprayChunkPoints[c];"undefined"!==typeof d.opacity&&(f.globalAlpha=
d.opacity);f.fillRect(d.x,d.y,d.width,d.width)}f.restore()},addSprayChunk:function(f){this.sprayChunkPoints=[];for(var c,g,d,b=this.width/2,h=0;h<this.density;h++)c=fabric.util.getRandomInt(f.x-b,f.x+b),g=fabric.util.getRandomInt(f.y-b,f.y+b),d=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,c=new fabric.Point(c,g),c.width=d,this.randomOpacity&&(c.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(c);
this.sprayChunks.push(this.sprayChunkPoints)}});
fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var f=fabric.document.createElement("canvas"),c=f.getContext("2d");f.width=f.height=25;c.fillStyle=this.color;c.beginPath();c.arc(10,10,10,0,2*Math.PI,!1);c.closePath();c.fill();return f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles");
this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(f){f=this.callSuper("createPath",f);var c=f._getLeftTopCoords().scalarAdd(f.strokeWidth/2);f.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y});return f}});
(function(){var f=fabric.util.getPointer,c=fabric.util.degreesToRadians,g=fabric.util.radiansToDegrees,d=Math.atan2,b=Math.abs,h=fabric.StaticCanvas.supports("setLineDash");fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(a,b){b||(b={});this._initStatic(a,b);this._initInteractive();this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",
altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,_initInteractive:function(){this._groupSelector=
this._currentTransform=null;this._initWrapperElement();this._createUpperCanvas();this._initEventListeners();this._initRetinaScaling();this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this);this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveGroup(),b=this.getActiveObject(),c,d=[],h=[];if(!a&&!b||this.preserveObjectStacking)d=this._objects;else{for(var g=0,f=this._objects.length;g<f;g++)c=this._objects[g],a&&a.contains(c)||c===b?h.push(c):d.push(c);a&&(a._set("_objects",
h),d.push(a));b&&d.push(b)}return d},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1);this.renderCanvas(this.contextContainer,this._chooseObjectsToRender());return this},renderTop:function(){var a=this.contextTop;this.clearContext(a);this.selection&&this._groupSelector&&this._drawSelection(a);this.fire("after:render");this.contextTopDirty=!0;return this},_resetCurrentTransform:function(){var a=this._currentTransform;
a.target.set({scaleX:a.original.scaleX,scaleY:a.original.scaleY,skewX:a.original.skewX,skewY:a.original.skewY,left:a.original.left,top:a.original.top});this._shouldCenterTransform(a.target)?"rotate"===a.action?this._setOriginToCenter(a.target):("center"!==a.originX&&(a.mouseXSign="right"===a.originX?-1:1),"center"!==a.originY&&(a.mouseYSign="bottom"===a.originY?-1:1),a.originX="center",a.originY="center"):(a.originX=a.original.originX,a.originY=a.original.originY)},containsPoint:function(a,b,c){a=
c||this.getPointer(a,!0);c=b.group&&b.group===this.getActiveGroup()?this._normalizePointer(b.group,a):{x:a.x,y:a.y};return b.containsPoint(c)||b._findTargetCorner(a)},_normalizePointer:function(a,b){a=a.calcTransformMatrix();a=fabric.util.invertTransform(a);b=this.restorePointerVpt(b);return fabric.util.transformPoint(b,a)},isTargetTransparent:function(a,b,c){var e=a.hasBorders,d=a.transparentCorners,h=this.contextCache,g=a.selectionBackgroundColor;a.hasBorders=a.transparentCorners=!1;a.selectionBackgroundColor=
"";h.save();h.transform.apply(h,this.viewportTransform);a.render(h);h.restore();a.active&&a._renderControls(h);a.hasBorders=e;a.transparentCorners=d;a.selectionBackgroundColor=g;a=fabric.util.isTransparent(h,b,c,this.targetFindTolerance);this.clearContext(h);return a},_shouldClearSelection:function(a,b){var c=this.getActiveGroup(),e=this.getActiveObject();return!b||b&&c&&!c.contains(b)&&c!==b&&!a[this.selectionKey]||b&&!b.evented||b&&!b.selectable&&e&&e!==b},_shouldCenterTransform:function(a){if(a){var b=
this._currentTransform,c;"scale"===b.action||"scaleX"===b.action||"scaleY"===b.action?c=this.centeredScaling||a.centeredScaling:"rotate"===b.action&&(c=this.centeredRotation||a.centeredRotation);return c?!b.altKey:b.altKey}},_getOriginFromCorner:function(a,b){a={x:a.originX,y:a.originY};if("ml"===b||"tl"===b||"bl"===b)a.x="right";else if("mr"===b||"tr"===b||"br"===b)a.x="left";if("tl"===b||"mt"===b||"tr"===b)a.y="bottom";else if("bl"===b||"mb"===b||"br"===b)a.y="top";return a},_getActionFromCorner:function(a,
b,c){if(!b)return"drag";switch(b){case "mtr":return"rotate";case "ml":case "mr":return c[this.altActionKey]?"skewY":"scaleX";case "mt":case "mb":return c[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(a,b){if(b){var e=this.getPointer(a),d=b._findTargetCorner(this.getPointer(a,!0)),h=this._getActionFromCorner(b,d,a),g=this._getOriginFromCorner(b,d);this._currentTransform={target:b,action:h,corner:d,scaleX:b.scaleX,scaleY:b.scaleY,skewX:b.skewX,skewY:b.skewY,
offsetX:e.x-b.left,offsetY:e.y-b.top,originX:g.x,originY:g.y,ex:e.x,ey:e.y,lastX:e.x,lastY:e.y,left:b.left,top:b.top,theta:c(b.angle),width:b.width*b.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:a.shiftKey,altKey:a[this.centeredKey]};this._currentTransform.original={left:b.left,top:b.top,scaleX:b.scaleX,scaleY:b.scaleY,skewX:b.skewX,skewY:b.skewY,originX:g.x,originY:g.y};this._resetCurrentTransform()}},_translateObject:function(a,b){var c=this._currentTransform,e=c.target;a-=c.offsetX;b-=c.offsetY;var c=
!e.get("lockMovementX")&&e.left!==a,d=!e.get("lockMovementY")&&e.top!==b;c&&e.set("left",a);d&&e.set("top",b);return c||d},_changeSkewTransformOrigin:function(a,b,c){var e="originX",d={0:"center"},h=b.target.skewX,g="left",f="right",l="mt"===b.corner||"ml"===b.corner?1:-1,n=1;a=0<a?1:-1;"y"===c&&(h=b.target.skewY,g="top",f="bottom",e="originY");d[-1]=g;d[1]=f;b.target.flipX&&(n*=-1);b.target.flipY&&(n*=-1);0===h?(b.skewSign=-l*a*n,b[e]=d[-a]):(h=0<h?1:-1,b.skewSign=h,b[e]=d[h*l*n])},_skewObject:function(a,
b,c){var e=this._currentTransform,d=e.target,h=d.get("lockSkewingX"),g=d.get("lockSkewingY");if(h&&"x"===c||g&&"y"===c)return!1;var g=d.getCenterPoint(),f=d.toLocalPoint(new fabric.Point(a,b),"center","center")[c],l=d.toLocalPoint(new fabric.Point(e.lastX,e.lastY),"center","center")[c],h=d._getTransformedDimensions();this._changeSkewTransformOrigin(f-l,e,c);f=d.toLocalPoint(new fabric.Point(a,b),e.originX,e.originY)[c];g=d.translateToOriginPoint(g,e.originX,e.originY);c=this._setObjectSkew(f,e,c,
h);e.lastX=a;e.lastY=b;d.setPositionByOrigin(g,e.originX,e.originY);return c},_setObjectSkew:function(a,b,c,d){var e=b.target,h=b.skewSign,g,f,l,n;"x"===c?(b="y",l="Y",g="X",f=0,n=e.skewY):(b="x",l="X",g="Y",f=e.skewX,n=0);f=e._getTransformedDimensions(f,n);a=2*Math.abs(a)-f[c];2>=a?c=0:(c=h*Math.atan(a/e["scale"+g]/(f[b]/e["scale"+l])),c=fabric.util.radiansToDegrees(c));a=e["skew"+g]!==c;e.set("skew"+g,c);0!==e["skew"+l]&&(g=e._getTransformedDimensions(),c=d[b]/g[b]*e["scale"+l],e.set("scale"+l,
c));return a},_scaleObject:function(a,b,c){var e=this._currentTransform,d=e.target,h=d.get("lockScalingX"),g=d.get("lockScalingY"),f=d.get("lockScalingFlip");if(h&&g)return!1;var l=d.translateToOriginPoint(d.getCenterPoint(),e.originX,e.originY);a=d.toLocalPoint(new fabric.Point(a,b),e.originX,e.originY);b=d._getTransformedDimensions();this._setLocalMouse(a,e);c=this._setObjectScale(a,e,h,g,c,f,b);d.setPositionByOrigin(l,e.originX,e.originY);return c},_setObjectScale:function(a,b,c,d,h,g,f){var e=
b.target,l=!1,n=!1,m=!1,p,q,t,y;t=a.x*e.scaleX/f.x;y=a.y*e.scaleY/f.y;p=e.scaleX!==t;q=e.scaleY!==y;g&&0>=t&&t<e.scaleX&&(l=!0);g&&0>=y&&y<e.scaleY&&(n=!0);"equally"!==h||c||d?h?"x"!==h||e.get("lockUniScaling")?"y"!==h||e.get("lockUniScaling")||n||d||e.set("scaleY",y)&&(m=m||q):l||c||e.set("scaleX",t)&&(m=m||p):(l||c||e.set("scaleX",t)&&(m=m||p),n||d||e.set("scaleY",y)&&(m=m||q)):l||n||(m=this._scaleObjectEqually(a,e,b,f));b.newScaleX=t;b.newScaleY=y;l||n||this._flipObject(b,h);return m},_scaleObjectEqually:function(a,
b,c,d){a=a.y+a.x;d=d.y*c.original.scaleY/b.scaleY+d.x*c.original.scaleX/b.scaleX;c.newScaleX=c.original.scaleX*a/d;c.newScaleY=c.original.scaleY*a/d;d=c.newScaleX!==b.scaleX||c.newScaleY!==b.scaleY;b.set("scaleX",c.newScaleX);b.set("scaleY",c.newScaleY);return d},_flipObject:function(a,b){0>a.newScaleX&&"y"!==b&&("left"===a.originX?a.originX="right":"right"===a.originX&&(a.originX="left"));0>a.newScaleY&&"x"!==b&&("top"===a.originY?a.originY="bottom":"bottom"===a.originY&&(a.originY="top"))},_setLocalMouse:function(a,
c){var e=c.target;"right"===c.originX?a.x*=-1:"center"===c.originX&&(a.x=2*a.x*c.mouseXSign,0>a.x&&(c.mouseXSign=-c.mouseXSign));"bottom"===c.originY?a.y*=-1:"center"===c.originY&&(a.y=2*a.y*c.mouseYSign,0>a.y&&(c.mouseYSign=-c.mouseYSign));b(a.x)>e.padding?a.x=0>a.x?a.x+e.padding:a.x-e.padding:a.x=0;b(a.y)>e.padding?a.y=0>a.y?a.y+e.padding:a.y-e.padding:a.y=0},_rotateObject:function(a,b){var c=this._currentTransform;if(c.target.get("lockRotation"))return!1;var e=d(c.ey-c.top,c.ex-c.left);a=d(b-c.top,
a-c.left);e=g(a-e+c.theta);a=!0;0>e&&(e=360+e);e%=360;if(0<c.target.snapAngle){var h=c.target.snapAngle;b=c.target.snapThreshold||h;var f=Math.ceil(e/h)*h,h=Math.floor(e/h)*h;Math.abs(e-h)<b?e=h:Math.abs(e-f)<b&&(e=f);c.target.angle===e&&(a=!1)}c.target.angle=e;return a},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_resetObjectTransform:function(a){a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.setAngle(0)},_drawSelection:function(a){var c=this._groupSelector,e=c.left,d=c.top,g=b(e),f=b(d);
this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(c.ex-(0<e?0:-e),c.ey-(0<d?0:-d),g,f));this.selectionLineWidth&&this.selectionBorderColor&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,1<this.selectionDashArray.length&&!h?(e=c.ex+.5-(0<e?0:g),c=c.ey+.5-(0<d?0:f),a.beginPath(),fabric.util.drawDashedLine(a,e,c,e+g,c,this.selectionDashArray),fabric.util.drawDashedLine(a,e,c+f-1,e+g,c+f-1,this.selectionDashArray),fabric.util.drawDashedLine(a,e,c,e,c+f,this.selectionDashArray),
fabric.util.drawDashedLine(a,e+g-1,c,e+g-1,c+f,this.selectionDashArray),a.closePath(),a.stroke()):(fabric.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(c.ex+.5-(0<e?0:g),c.ey+.5-(0<d?0:f),g,f)))},findTarget:function(a,b){if(!this.skipTargetFind){var c=this.getPointer(a,!0),e=this.getActiveGroup(),d=this.getActiveObject(),h;if(e&&!b&&this._checkTarget(c,e))return this._fireOverOutEvents(e,a),e;if(d&&d._findTargetCorner(c))return this._fireOverOutEvents(d,a),d;if(d&&
this._checkTarget(c,d))if(this.preserveObjectStacking)h=d;else return this._fireOverOutEvents(d,a),d;this.targets=[];b=this._searchPossibleTargets(this._objects,c);a[this.altSelectionKey]&&b&&h&&b!==h&&(b=h);this._fireOverOutEvents(b,a);return b}},_fireOverOutEvents:function(a,b){a?this._hoveredTarget!==a&&(this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:b}),this._hoveredTarget.fire("mouseout")),this.fire("mouse:over",{target:a,e:b}),a.fire("mouseover"),this._hoveredTarget=
a):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:b}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(a,b){if(b&&b.visible&&b.evented&&this.containsPoint(null,b,a)&&(!this.perPixelTargetFind&&!b.perPixelTargetFind||b.isEditing||!this.isTargetTransparent(b,a.x,a.y)))return!0},_searchPossibleTargets:function(a,b){for(var c,e=a.length;e--;)if(this._checkTarget(b,a[e])){c=a[e];"group"===c.type&&c.subTargetCheck&&(a=this._normalizePointer(c,
b),(a=this._searchPossibleTargets(c._objects,a))&&this.targets.push(a));break}return c},restorePointerVpt:function(a){return fabric.util.transformPoint(a,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(a,b,c){c||(c=this.upperCanvasEl);a=f(a);var e=c.getBoundingClientRect(),d=e.width||0,h=e.height||0;d&&h||("top"in e&&"bottom"in e&&(h=Math.abs(e.top-e.bottom)),"right"in e&&"left"in e&&(d=Math.abs(e.right-e.left)));this.calcOffset();a.x-=this._offset.left;a.y-=this._offset.top;
b||(a=this.restorePointerVpt(a));0===d||0===h?c=b=1:(b=c.width/d,c=c.height/h);return{x:a.x*b,y:a.y*c}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement();fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+a);this.wrapperEl.appendChild(this.upperCanvasEl);this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl);this._applyCanvasStyle(this.upperCanvasEl);this.contextTop=this.upperCanvasEl.getContext("2d")},
_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement();this.cacheCanvasEl.setAttribute("width",this.width);this.cacheCanvasEl.setAttribute("height",this.height);this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass});fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"});fabric.util.makeElementUnselectable(this.wrapperEl)},
_applyCanvasStyle:function(a){var b=this.getWidth()||a.width,c=this.getHeight()||a.height;fabric.util.setStyle(a,{position:"absolute",width:b+"px",height:c+"px",left:0,top:0});a.width=b;a.height=c;fabric.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,b){b.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(a){this._activeObject&&this._activeObject.set("active",!1);this._activeObject=
a;a.set("active",!0)},setActiveObject:function(a,b){this._setActiveObject(a);this.renderAll();this.fire("object:selected",{target:a,e:b});a.fire("selected",{e:b});return this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(a){this.getActiveObject()===a&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected"));this.callSuper("_onObjectRemoved",a)},_discardActiveObject:function(){this._activeObject&&
this._activeObject.set("active",!1);this._activeObject=null},discardActiveObject:function(a){var b=this._activeObject;this.fire("before:selection:cleared",{target:b,e:a});this._discardActiveObject();this.fire("selection:cleared",{e:a});b&&b.fire("deselected",{e:a});return this},_setActiveGroup:function(a){(this._activeGroup=a)&&a.set("active",!0)},setActiveGroup:function(a,b){this._setActiveGroup(a);a&&(this.fire("object:selected",{target:a,e:b}),a.fire("selected",{e:b}));return this},getActiveGroup:function(){return this._activeGroup},
_discardActiveGroup:function(){var a=this.getActiveGroup();a&&a.destroy();this.setActiveGroup(null)},discardActiveGroup:function(a){var b=this.getActiveGroup();this.fire("before:selection:cleared",{e:a,target:b});this._discardActiveGroup();this.fire("selection:cleared",{e:a});return this},deactivateAll:function(){for(var a=this.getObjects(),b=0,c=a.length,d;b<c;b++)(d=a[b])&&d.set("active",!1);this._discardActiveGroup();this._discardActiveObject();return this},deactivateAllWithDispatch:function(a){var b=
this.getActiveGroup(),c=this.getActiveObject();(c||b)&&this.fire("before:selection:cleared",{target:c||b,e:a});this.deactivateAll();if(c||b)this.fire("selection:cleared",{e:a,target:c}),c&&c.fire("deselected");return this},dispose:function(){this.callSuper("dispose");var a=this.wrapperEl;this.removeListeners();a.removeChild(this.upperCanvasEl);a.removeChild(this.lowerCanvasEl);delete this.upperCanvasEl;a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl);delete this.wrapperEl;
return this},clear:function(){this.discardActiveGroup();this.discardActiveObject();this.clearContext(this.contextTop);return this.callSuper("clear")},drawControls:function(a){var b=this.getActiveGroup();b?b._renderControls(a):this._drawObjectsControls(a)},_drawObjectsControls:function(a){for(var b=0,c=this._objects.length;b<c;++b)this._objects[b]&&this._objects[b].active&&this._objects[b]._renderControls(a)},_toObject:function(a,b,c){var e=this._realizeGroupTransformOnObject(a);b=this.callSuper("_toObject",
a,b,c);this._unwindGroupTransformOnObject(a,e);return b},_realizeGroupTransformOnObject:function(a){var b="angle flipX flipY height left scaleX scaleY top width".split(" ");if(a.group&&a.group===this.getActiveGroup()){var c={};b.forEach(function(b){c[b]=a[b]});this.getActiveGroup().realizeTransform(a);return c}return null},_unwindGroupTransformOnObject:function(a,b){b&&a.set(b)},_setSVGObject:function(a,b,c){var e;e=this._realizeGroupTransformOnObject(b);this.callSuper("_setSVGObject",a,b,c);this._unwindGroupTransformOnObject(b,
e)}});for(var a in fabric.StaticCanvas)"prototype"!==a&&(fabric.Canvas[a]=fabric.StaticCanvas[a]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){});fabric.Element=fabric.Canvas})();
(function(){var f={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},c=fabric.util.addListener,g=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:"n-resize ne-resize e-resize se-resize s-resize sw-resize w-resize nw-resize".split(" "),_initEventListeners:function(){this._bindEvents();c(fabric.window,"resize",this._onResize);c(this.upperCanvasEl,"mousedown",this._onMouseDown);c(this.upperCanvasEl,"mousemove",this._onMouseMove);c(this.upperCanvasEl,"mouseout",this._onMouseOut);
c(this.upperCanvasEl,"mouseenter",this._onMouseEnter);c(this.upperCanvasEl,"wheel",this._onMouseWheel);c(this.upperCanvasEl,"contextmenu",this._onContextMenu);c(this.upperCanvasEl,"touchstart",this._onMouseDown);c(this.upperCanvasEl,"touchmove",this._onMouseMove);"undefined"!==typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,
"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._onMouseUp=this._onMouseUp.bind(this);this._onResize=this._onResize.bind(this);this._onGesture=this._onGesture.bind(this);this._onDrag=this._onDrag.bind(this);this._onShake=this._onShake.bind(this);this._onLongPress=this._onLongPress.bind(this);this._onOrientationChange=this._onOrientationChange.bind(this);
this._onMouseWheel=this._onMouseWheel.bind(this);this._onMouseOut=this._onMouseOut.bind(this);this._onMouseEnter=this._onMouseEnter.bind(this);this._onContextMenu=this._onContextMenu.bind(this)},removeListeners:function(){g(fabric.window,"resize",this._onResize);g(this.upperCanvasEl,"mousedown",this._onMouseDown);g(this.upperCanvasEl,"mousemove",this._onMouseMove);g(this.upperCanvasEl,"mouseout",this._onMouseOut);g(this.upperCanvasEl,"mouseenter",this._onMouseEnter);g(this.upperCanvasEl,"wheel",this._onMouseWheel);
g(this.upperCanvasEl,"contextmenu",this._onContextMenu);g(this.upperCanvasEl,"touchstart",this._onMouseDown);g(this.upperCanvasEl,"touchmove",this._onMouseMove);"undefined"!==typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",
this._onLongPress))},_onGesture:function(c,b){this.__onTransformGesture&&this.__onTransformGesture(c,b)},_onDrag:function(c,b){this.__onDrag&&this.__onDrag(c,b)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var b=this._hoveredTarget;this.fire("mouse:out",{target:b,e:c});this._hoveredTarget=null;b&&b.fire("mouseout",{e:c})},_onMouseEnter:function(c){this.findTarget(c)||(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null)},_onOrientationChange:function(c,
b){this.__onOrientationChange&&this.__onOrientationChange(c,b)},_onShake:function(c,b){this.__onShake&&this.__onShake(c,b)},_onLongPress:function(c,b){this.__onLongPress&&this.__onLongPress(c,b)},_onContextMenu:function(c){this.stopContextMenu&&(c.stopPropagation(),c.preventDefault());return!1},_onMouseDown:function(d){this.__onMouseDown(d);c(fabric.document,"touchend",this._onMouseUp);c(fabric.document,"touchmove",this._onMouseMove);g(this.upperCanvasEl,"mousemove",this._onMouseMove);g(this.upperCanvasEl,
"touchmove",this._onMouseMove);"touchstart"===d.type?g(this.upperCanvasEl,"mousedown",this._onMouseDown):(c(fabric.document,"mouseup",this._onMouseUp),c(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(d){this.__onMouseUp(d);g(fabric.document,"mouseup",this._onMouseUp);g(fabric.document,"touchend",this._onMouseUp);g(fabric.document,"mousemove",this._onMouseMove);g(fabric.document,"touchmove",this._onMouseMove);c(this.upperCanvasEl,"mousemove",this._onMouseMove);c(this.upperCanvasEl,
"touchmove",this._onMouseMove);if("touchend"===d.type){var b=this;setTimeout(function(){c(b.upperCanvasEl,"mousedown",b._onMouseDown)},400)}},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault();this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c,b){var d=this.getActiveGroup()||this.getActiveObject();return!!(c&&(c.isMoving||c!==d)||!c&&d||!c&&!d&&!this._groupSelector||b&&this._previousPointer&&this.selection&&(b.x!==this._previousPointer.x||
b.y!==this._previousPointer.y))},__onMouseUp:function(c){var b;b=!0;var d=this._currentTransform,a=this._groupSelector,a=!a||0===a.left&&0===a.top;this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(c):(d&&(this._finalizeCurrentTransform(),b=!d.actionPerformed),b=b?this.findTarget(c,!0):d.target,d=this._shouldRender(b,this.getPointer(c)),b||!a?this._maybeGroupObjects(c):this._currentTransform=this._groupSelector=null,b&&(b.isMoving=!1),this._handleCursorAndEvent(c,b,"up"),b&&
(b.__corner=0),d&&this.renderAll())},_handleCursorAndEvent:function(c,b,h){this._setCursorFromEvent(c,b);this._handleEvent(c,h,b?b:null)},_handleEvent:function(c,b,h){var a=this.targets||[];c={e:c,target:h,subTargets:a};this.fire("mouse:"+b,c);h&&h.fire("mouse"+b,c);for(h=0;h<a.length;h++)a[h].fire("mouse"+b,c)},_finalizeCurrentTransform:function(){var c=this._currentTransform,b=c.target;b._scaling&&(b._scaling=!1);b.setCoords();this._restoreOriginXY(b);if(c.actionPerformed||this.stateful&&b.hasStateChanged())this.fire("object:modified",
{target:b}),b.fire("modified")},_restoreOriginXY:function(c){if(this._previousOriginX&&this._previousOriginY){var b=c.translateToOriginPoint(c.getCenterPoint(),this._previousOriginX,this._previousOriginY);c.originX=this._previousOriginX;c.originY=this._previousOriginY;c.left=b.x;c.top=b.y;this._previousOriginY=this._previousOriginX=null}},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0;this.discardActiveObject(c).renderAll();this.clipTo&&fabric.util.clipContext(this,this.contextTop);
var b=this.getPointer(c);this.freeDrawingBrush.onMouseDown(b);this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var b=this.getPointer(c);this.freeDrawingBrush.onMouseMove(b)}this.setCursor(this.freeDrawingCursor);this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){this._isCurrentlyDrawing=!1;this.clipTo&&this.contextTop.restore();this.freeDrawingBrush.onMouseUp();this._handleEvent(c,"up")},__onMouseDown:function(c){var b=this.findTarget(c),
d=this.getPointer(c,!0);if("which"in c?3===c.which:2===c.button)this.fireRightClick&&this._handleEvent(c,"down",b?b:null);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(c);else if(!this._currentTransform){this._previousPointer=d;var a=this._shouldRender(b,d),e=this._shouldGroup(c,b);this._shouldClearSelection(c,b)?this._clearSelection(c,b,d):e&&(this._handleGrouping(c,b),b=this.getActiveGroup());b&&(!b.selectable||!b.__corner&&e||(this._beforeTransform(c,b),this._setupCurrentTransform(c,
b)),b!==this.getActiveGroup()&&b!==this.getActiveObject()&&(this.deactivateAll(),b.selectable&&this.setActiveObject(b,c)));this._handleEvent(c,"down",b?b:null);a&&this.renderAll()}},_beforeTransform:function(c,b){this.stateful&&b.saveState();if(b._findTargetCorner(this.getPointer(c)))this.onBeforeScaleRotate(b)},_clearSelection:function(c,b,h){this.deactivateAllWithDispatch(c);b&&b.selectable?this.setActiveObject(b,c):this.selection&&(this._groupSelector={ex:h.x,ey:h.y,top:0,left:0})},_setOriginToCenter:function(c){this._previousOriginX=
this._currentTransform.target.originX;this._previousOriginY=this._currentTransform.target.originY;var b=c.getCenterPoint();c.originX="center";c.originY="center";c.left=b.x;c.top=b.y;this._currentTransform.left=c.left;this._currentTransform.top=c.top},_setCenterToOrigin:function(c){var b=c.translateToOriginPoint(c.getCenterPoint(),this._previousOriginX,this._previousOriginY);c.originX=this._previousOriginX;c.originY=this._previousOriginY;c.left=b.x;c.top=b.y;this._previousOriginY=this._previousOriginX=
null},__onMouseMove:function(c){var b,d;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(c);else if(!("undefined"!==typeof c.touches&&1<c.touches.length)){var a=this._groupSelector;a?(d=this.getPointer(c,!0),a.left=d.x-a.ex,a.top=d.y-a.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(b=this.findTarget(c),this._setCursorFromEvent(c,b));this._handleEvent(c,"move",b?b:null)}},__onMouseWheel:function(c){this.fire("mouse:wheel",{e:c})},_transformObject:function(c){var b=this.getPointer(c),
d=this._currentTransform;d.reset=!1;d.target.isMoving=!0;d.shiftKey=c.shiftKey;d.altKey=c[this.centeredKey];this._beforeScaleTransform(c,d);this._performTransformAction(c,d,b);d.actionPerformed&&this.renderAll()},_performTransformAction:function(c,b,h){var a=h.x,e=h.y;h=b.target;var d=b.action;if("rotate"===d)(a=this._rotateObject(a,e))&&this._fire("rotating",h,c);else if("scale"===d)(a=this._onScale(c,b,a,e))&&this._fire("scaling",h,c);else if("scaleX"===d)(a=this._scaleObject(a,e,"x"))&&this._fire("scaling",
h,c);else if("scaleY"===d)(a=this._scaleObject(a,e,"y"))&&this._fire("scaling",h,c);else if("skewX"===d)(a=this._skewObject(a,e,"x"))&&this._fire("skewing",h,c);else if("skewY"===d)(a=this._skewObject(a,e,"y"))&&this._fire("skewing",h,c);else if(a=this._translateObject(a,e))this._fire("moving",h,c),this.setCursor(h.moveCursor||this.moveCursor);b.actionPerformed=a},_fire:function(c,b,h){this.fire("object:"+c,{target:b,e:h});b.fire(c,{e:h})},_beforeScaleTransform:function(c,b){if("scale"===b.action||
"scaleX"===b.action||"scaleY"===b.action)if((c=this._shouldCenterTransform(b.target))&&("center"!==b.originX||"center"!==b.originY)||!c&&"center"===b.originX&&"center"===b.originY)this._resetCurrentTransform(),b.reset=!0},_onScale:function(c,b,h,a){if(!c[this.uniScaleKey]&&!this.uniScaleTransform||b.target.get("lockUniScaling"))return b.reset||"scale"!==b.currentAction||this._resetCurrentTransform(),b.currentAction="scaleEqually",this._scaleObject(h,a,"equally");b.currentAction="scale";return this._scaleObject(h,
a)},_setCursorFromEvent:function(c,b){if(!b)return this.setCursor(this.defaultCursor),!1;var d=b.hoverCursor||this.hoverCursor;if(b.selectable){var a=this.getActiveGroup();(a=b._findTargetCorner&&(!a||!a.contains(b))&&b._findTargetCorner(this.getPointer(c,!0)))?this._setCornerCursor(a,b,c):this.setCursor(d)}else this.setCursor(d);return!0},_setCornerCursor:function(c,b,h){if(c in f)this.setCursor(this._getRotatedCornerCursor(c,b,h));else if("mtr"===c&&b.hasRotatingPoint)this.setCursor(this.rotationCursor);
else return this.setCursor(this.defaultCursor),!1},_getRotatedCornerCursor:function(c,b,h){b=Math.round(b.getAngle()%360/45);0>b&&(b+=8);b+=f[c];h[this.altActionKey]&&0===f[c]%2&&(b+=2);return this.cursorMap[b%8]}})})();
(function(){var f=Math.min,c=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(c,d){var b=this.getActiveObject();return c[this.selectionKey]&&d&&d.selectable&&(this.getActiveGroup()||b&&b!==d)&&this.selection},_handleGrouping:function(c,d){var b=this.getActiveGroup();if(d===b&&(d=this.findTarget(c,!0),!d))return;b?this._updateActiveGroup(d,c):this._createActiveGroup(d,c);this._activeGroup&&this._activeGroup.saveCoords()},_updateActiveGroup:function(c,d){var b=this.getActiveGroup();
if(b.contains(c)){if(b.removeWithUpdate(c),c.set("active",!1),1===b.size()){this.discardActiveGroup(d);this.setActiveObject(b.item(0));return}}else b.addWithUpdate(c);this.fire("selection:created",{target:b,e:d});b.set("active",!0)},_createActiveGroup:function(c,d){if(this._activeObject&&c!==this._activeObject){var b=this._createGroup(c);b.addWithUpdate();this.setActiveGroup(b);this._activeObject=null;this.fire("selection:created",{target:b,e:d})}c.set("active",!0)},_createGroup:function(c){var d=
this.getObjects();c=d.indexOf(this._activeObject)<d.indexOf(c)?[this._activeObject,c]:[c,this._activeObject];this._activeObject.isEditing&&this._activeObject.exitEditing();return new fabric.Group(c,{canvas:this})},_groupSelectedObjects:function(c){var d=this._collectObjects();1===d.length?this.setActiveObject(d[0],c):1<d.length&&(d=new fabric.Group(d.reverse(),{canvas:this}),d.addWithUpdate(),this.setActiveGroup(d,c),d.saveCoords(),this.fire("selection:created",{target:d}),this.renderAll())},_collectObjects:function(){var g=
[],d;d=this._groupSelector.ex;for(var b=this._groupSelector.ey,h=d+this._groupSelector.left,a=b+this._groupSelector.top,e=new fabric.Point(f(d,h),f(b,a)),l=new fabric.Point(c(d,h),c(b,a)),b=d===h&&b===a,h=this._objects.length;h--&&!((d=this._objects[h])&&d.selectable&&d.visible&&(d.intersectsWithRect(e,l)||d.isContainedWithinRect(e,l)||d.containsPoint(e)||d.containsPoint(l))&&(d.set("active",!0),g.push(d),b)););return g},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c);
if(c=this.getActiveGroup())c.setObjectsCoords().setCoords(),c.isMoving=!1,this.setCursor(this.defaultCursor);this._currentTransform=this._groupSelector=null}})})();
(function(){var f=fabric.StaticCanvas.supports("toDataURLWithQuality");fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});return this.__toDataURLWithMultiplier(c.format||"png",c.quality||1,{left:c.left||0,top:c.top||0,width:c.width||0,height:c.height||0},c.multiplier||1)},__toDataURLWithMultiplier:function(c,g,d,b){var h=this.getWidth(),a=this.getHeight(),e=(d.width||this.getWidth())*b,f=(d.height||this.getHeight())*b,n=this.getZoom()*b,m=this.viewportTransform,
p=this.interactive;this.viewportTransform=[n,0,0,n,(m[4]-d.left)*b,(m[5]-d.top)*b];this.interactive&&(this.interactive=!1);h!==e||a!==f?this.setDimensions({width:e,height:f}):this.renderAll();c=this.__toDataURL(c,g,d);p&&(this.interactive=p);this.viewportTransform=m;this.setDimensions({width:h,height:a});return c},__toDataURL:function(c,g){var d=this.contextContainer.canvas;"jpg"===c&&(c="jpeg");return f?d.toDataURL("image/"+c,g):d.toDataURL("image/"+c)},toDataURLWithMultiplier:function(c,g,d){return this.toDataURL({format:c,
multiplier:g,quality:d})}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(f,c,g){return this.loadFromJSON(f,c,g)},loadFromJSON:function(f,c,g){if(f){var d="string"===typeof f?JSON.parse(f):fabric.util.object.clone(f);this.clear();var b=this;this._enlivenObjects(d.objects,function(){b._setBgOverlay(d,function(){delete d.objects;delete d.backgroundImage;delete d.overlayImage;delete d.background;delete d.overlay;for(var h in d)b[h]=d[h];c&&c()})},g);return this}},_setBgOverlay:function(f,
c){var g=this,d={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(f.backgroundImage||f.overlayImage||f.background||f.overlay){var b=function(){d.backgroundImage&&d.overlayImage&&d.backgroundColor&&d.overlayColor&&(g.renderAll(),c&&c())};this.__setBgOverlay("backgroundImage",f.backgroundImage,d,b);this.__setBgOverlay("overlayImage",f.overlayImage,d,b);this.__setBgOverlay("backgroundColor",f.background,d,b);this.__setBgOverlay("overlayColor",f.overlay,d,b);b()}else c&&c()},
__setBgOverlay:function(f,c,g,d){var b=this;if(c)if("backgroundImage"===f||"overlayImage"===f)fabric.Image.fromObject(c,function(c){b[f]=c;g[f]=!0;d&&d()});else this["set"+fabric.util.string.capitalize(f,!0)](c,function(){g[f]=!0;d&&d()});else g[f]=!0},_enlivenObjects:function(f,c,g){var d=this;if(f&&0!==f.length){var b=this.renderOnAddRemove;this.renderOnAddRemove=!1;fabric.util.enlivenObjects(f,function(h){h.forEach(function(a,b){d.insertAt(a,b)});d.renderOnAddRemove=b;c&&c()},null,g)}else c&&c()},
_toDataURL:function(f,c){this.clone(function(g){c(g.toDataURL(f))})},_toDataURLWithMultiplier:function(f,c,g){this.clone(function(d){g(d.toDataURLWithMultiplier(f,c))})},clone:function(f,c){var g=JSON.stringify(this.toJSON(c));this.cloneWithoutData(function(c){c.loadFromJSON(g,function(){f&&f(c)})})},cloneWithoutData:function(f){var c=fabric.document.createElement("canvas");c.width=this.getWidth();c.height=this.getHeight();var g=new fabric.Canvas(c);g.clipTo=this.clipTo;this.backgroundImage?(g.setBackgroundImage(this.backgroundImage.src,
function(){g.renderAll();f&&f(g)}),g.backgroundImageOpacity=this.backgroundImageOpacity,g.backgroundImageStretch=this.backgroundImageStretch):f&&f(g)}});
(function(f){var c=f.fabric||(f.fabric={});f=c.util.object.extend;var g=c.util.toFixed,d=c.util.string.capitalize,b=c.util.degreesToRadians,h=c.StaticCanvas.supports("setLineDash");c.Object||(c.Object=c.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,
cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,
hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!c.isLikelyNode,statefullCache:!1,noScaleCache:!0,dirty:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY".split(" "),
cacheProperties:"fill stroke strokeWidth strokeDashArray width height stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit fillRule backgroundColor".split(" "),initialize:function(a){a=a||{};this.setOptions(a);this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},_createCacheCanvas:function(){this._cacheCanvas=c.document.createElement("canvas");this._cacheContext=this._cacheCanvas.getContext("2d");this._updateCacheCanvas()},_updateCacheCanvas:function(){if(this.noScaleCache&&
this.canvas&&this.canvas._currentTransform&&"scale"===this.canvas._currentTransform.action.slice(0,5))return!1;var a=this.getViewportTransform()[0],b=this.getObjectScaling(),d=this._getNonTransformedDimensions(),h=this.canvas&&this.canvas._isRetinaScaling()?c.devicePixelRatio:1,g=b.scaleX*a*h,a=b.scaleY*a*h,b=d.x*g,d=d.y*a;return b!==this.cacheWidth||d!==this.cacheHeight?(this._cacheCanvas.width=b,this._cacheCanvas.height=d,this._cacheContext.translate(b/2,d/2),this._cacheContext.scale(g,a),this.cacheWidth=
b,this.cacheHeight=d,this.zoomX=g,this.zoomY=a,!0):!1},_initGradient:function(a){!a.fill||!a.fill.colorStops||a.fill instanceof c.Gradient||this.set("fill",new c.Gradient(a.fill));!a.stroke||!a.stroke.colorStops||a.stroke instanceof c.Gradient||this.set("stroke",new c.Gradient(a.stroke))},_initPattern:function(a){!a.fill||!a.fill.source||a.fill instanceof c.Pattern||this.set("fill",new c.Pattern(a.fill));!a.stroke||!a.stroke.source||a.stroke instanceof c.Pattern||this.set("stroke",new c.Pattern(a.stroke))},
_initClipping:function(a){a.clipTo&&"string"===typeof a.clipTo&&(a=c.util.getFunctionBody(a.clipTo),"undefined"!==typeof a&&(this.clipTo=new Function("ctx",a)))},setOptions:function(a){for(var b in a)this.set(b,a[b]);this._initGradient(a);this._initPattern(a);this._initClipping(a)},transform:function(a,c){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(a);c=c?this._getLeftTopCoords():this.getCenterPoint();a.translate(c.x,c.y);a.rotate(b(this.angle));
a.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1));a.transform(1,0,Math.tan(b(this.skewX)),1,0,0);a.transform(1,Math.tan(b(this.skewY)),0,1,0,0)},toObject:function(a){var b=c.Object.NUM_FRACTION_DIGITS,b={type:this.type,originX:this.originX,originY:this.originY,left:g(this.left,b),top:g(this.top,b),width:g(this.width,b),height:g(this.height,b),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,
strokeWidth:g(this.strokeWidth,b),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:g(this.strokeMiterLimit,b),scaleX:g(this.scaleX,b),scaleY:g(this.scaleY,b),angle:g(this.getAngle(),b),flipX:this.flipX,flipY:this.flipY,opacity:g(this.opacity,b),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),
backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():this.transformMatrix,skewX:g(this.skewX,b),skewY:g(this.skewY,b)};c.util.populateWithProperties(this,b,a);this.includeDefaultValues||(b=this._removeDefaultValues(b));return b},toDatalessObject:function(a){return this.toObject(a)},_removeDefaultValues:function(a){var b=c.util.getKlass(a.type).prototype;b.stateProperties.forEach(function(c){a[c]===
b[c]&&delete a[c];"[object Array]"===Object.prototype.toString.call(a[c])&&"[object Array]"===Object.prototype.toString.call(b[c])&&0===a[c].length&&0===b[c].length&&delete a[c]});return a},toString:function(){return"#\x3cfabric."+d(this.type)+"\x3e"},get:function(a){return this[a]},getObjectScaling:function(){var a=this.scaleX,b=this.scaleY;if(this.group)var c=this.group.getObjectScaling(),a=a*c.scaleX,b=b*c.scaleY;return{scaleX:a,scaleY:b}},_setObject:function(a){for(var b in a)this._set(b,a[b])},
set:function(a,b){"object"===typeof a?this._setObject(a):"function"===typeof b&&"clipTo"!==a?this._set(a,b(this.get(a))):this._set(a,b);return this},_set:function(a,b){if("scaleX"===a||"scaleY"===a)b=this._constrainScale(b);"scaleX"===a&&0>b?(this.flipX=!this.flipX,b*=-1):"scaleY"===a&&0>b?(this.flipY=!this.flipY,b*=-1):"shadow"!==a||!b||b instanceof c.Shadow||(b=new c.Shadow(b));this[a]=b;-1<this.cacheProperties.indexOf(a)&&(this.dirty=!0);if("width"===a||"height"===a)this.minScaleLimit=Math.min(.1,
1/Math.max(this.width,this.height));return this},setOnGroup:function(){},toggle:function(a){var b=this.get(a);"boolean"===typeof b&&this.set(a,!b);return this},setSourcePath:function(a){this.sourcePath=a;return this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(a,b){0===this.width&&0===this.height||!this.visible||(a.save(),this._setupCompositeOperation(a),this.drawSelectionBackground(a),b||this.transform(a),
this._setOpacity(a),this._setShadow(a),this.transformMatrix&&a.transform.apply(a,this.transformMatrix),this.clipTo&&c.util.clipContext(this,a),this.objectCaching&&!this.group?(this.isCacheDirty(b)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,b),this.dirty=!1),this.drawCacheOnCanvas(a)):(this.drawObject(a,b),b&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&a.restore(),a.restore())},
drawObject:function(a,b){this._renderBackground(a);this._setStrokeStyles(a);this._setFillStyles(a);this._render(a,b)},drawCacheOnCanvas:function(a){a.scale(1/this.zoomX,1/this.zoomY);a.drawImage(this._cacheCanvas,-this.cacheWidth/2,-this.cacheHeight/2)},isCacheDirty:function(a){return!a&&this._updateCacheCanvas()?!0:this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")?(a||(a=this._getNonTransformedDimensions(),this._cacheContext.clearRect(-a.x/2,-a.y/2,a.x,a.y)),!0):!1},_renderBackground:function(a){if(this.backgroundColor){var b=
this._getNonTransformedDimensions();a.fillStyle=this.backgroundColor;a.fillRect(-b.x/2,-b.y/2,b.x,b.y);this._removeShadow(a)}},_setOpacity:function(a){a.globalAlpha*=this.opacity},_setStrokeStyles:function(a){this.stroke&&(a.lineWidth=this.strokeWidth,a.lineCap=this.strokeLineCap,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a,this):this.stroke)},_setFillStyles:function(a){this.fill&&(a.fillStyle=this.fill.toLive?this.fill.toLive(a,
this):this.fill)},_setLineDash:function(a,b,c){b&&(1&b.length&&b.push.apply(b,b),h?a.setLineDash(b):c&&c(a))},_renderControls:function(a,e){if(!(!this.active||e||this.group&&this.group!==this.canvas.getActiveGroup())){e=this.getViewportTransform();var d=this.calcTransformMatrix(),d=c.util.multiplyTransformMatrices(e,d);e=c.util.qrDecompose(d);a.save();a.translate(e.translateX,e.translateY);a.lineWidth=1*this.borderScaleFactor;this.group||(a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1);
this.group&&this.group===this.canvas.getActiveGroup()?(a.rotate(b(e.angle)),this.drawBordersInGroup(a,e)):(a.rotate(b(this.angle)),this.drawBorders(a));this.drawControls(a);a.restore()}},_setShadow:function(a){if(this.shadow){var b=this.canvas&&this.canvas.viewportTransform[0]||1,d=this.canvas&&this.canvas.viewportTransform[3]||1,h=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(b*=c.devicePixelRatio,d*=c.devicePixelRatio);a.shadowColor=this.shadow.color;a.shadowBlur=this.shadow.blur*
(b+d)*(h.scaleX+h.scaleY)/4;a.shadowOffsetX=this.shadow.offsetX*b*h.scaleX;a.shadowOffsetY=this.shadow.offsetY*d*h.scaleY}},_removeShadow:function(a){this.shadow&&(a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0)},_renderFill:function(a){this.fill&&(a.save(),this.fill.gradientTransform&&a.transform.apply(a,this.fill.gradientTransform),this.fill.toLive&&a.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0),"evenodd"===this.fillRule?a.fill("evenodd"):a.fill(),
a.restore())},_renderStroke:function(a){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray,this._renderDashedStroke),this.stroke.gradientTransform&&a.transform.apply(a,this.stroke.gradientTransform),this.stroke.toLive&&a.translate(-this.width/2+this.stroke.offsetX||0,-this.height/2+this.stroke.offsetY||0),a.stroke(),a.restore())},clone:function(a,b){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(b),
a):new c.Object(this.toObject(b))},cloneAsImage:function(a,b){b=this.toDataURL(b);c.util.loadImage(b,function(b){a&&a(new c.Image(b))});return this},toDataURL:function(a){a||(a={});var b=c.util.createCanvasElement(),d=this.getBoundingRect();b.width=d.width;b.height=d.height;c.util.wrapElement(b,"div");b=new c.StaticCanvas(b,{enableRetinaScaling:a.enableRetinaScaling});"jpg"===a.format&&(a.format="jpeg");"jpeg"===a.format&&(b.backgroundColor="#fff");d={active:this.get("active"),left:this.getLeft(),
top:this.getTop()};this.set("active",!1);this.setPositionByOrigin(new c.Point(b.getWidth()/2,b.getHeight()/2),"center","center");var h=this.canvas;b.add(this);a=b.toDataURL(a);this.set(d).setCoords();this.canvas=h;b.dispose();return a},isType:function(a){return this.type===a},complexity:function(){return 0},toJSON:function(a){return this.toObject(a)},setGradient:function(a,b){b||(b={});var e={colorStops:[]};e.type=b.type||(b.r1||b.r2?"radial":"linear");e.coords={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2};if(b.r1||
b.r2)e.coords.r1=b.r1,e.coords.r2=b.r2;b.gradientTransform&&(e.gradientTransform=b.gradientTransform);for(var d in b.colorStops){var h=new c.Color(b.colorStops[d]);e.colorStops.push({offset:d,color:h.toRgb(),opacity:h.getAlpha()})}return this.set(a,c.Gradient.forObject(this,e))},setPatternFill:function(a){return this.set("fill",new c.Pattern(a))},setShadow:function(a){return this.set("shadow",a?new c.Shadow(a):null)},setColor:function(a){this.set("fill",a);return this},setAngle:function(a){var b=
("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;b&&this._setOriginToCenter();this.set("angle",a);b&&this._resetOrigin();return this},centerH:function(){this.canvas&&this.canvas.centerObjectH(this);return this},viewportCenterH:function(){this.canvas&&this.canvas.viewportCenterObjectH(this);return this},centerV:function(){this.canvas&&this.canvas.centerObjectV(this);return this},viewportCenterV:function(){this.canvas&&this.canvas.viewportCenterObjectV(this);return this},center:function(){this.canvas&&
this.canvas.centerObject(this);return this},viewportCenter:function(){this.canvas&&this.canvas.viewportCenterObject(this);return this},remove:function(){this.canvas&&this.canvas.remove(this);return this},getLocalPointer:function(a,b){b=b||this.canvas.getPointer(a);a=new c.Point(b.x,b.y);b=this._getLeftTopCoords();this.angle&&(a=c.util.rotatePoint(a,b,c.util.degreesToRadians(-this.angle)));return{x:a.x-b.x,y:a.y-b.y}},_setupCompositeOperation:function(a){this.globalCompositeOperation&&(a.globalCompositeOperation=
this.globalCompositeOperation)}}),c.util.createAccessors(c.Object),c.Object.prototype.rotate=c.Object.prototype.setAngle,f(c.Object.prototype,c.Observable),c.Object.NUM_FRACTION_DIGITS=2,c.Object.__uid=0)})("undefined"!==typeof exports?exports:this);
(function(){var f=fabric.util.degreesToRadians,c={left:-.5,center:0,right:.5},g={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(d,b,h,a,e){var f=d.x,n=d.y;b="string"===typeof b?c[b]:b-.5;a="string"===typeof a?c[a]:a-.5;b=a-b;h="string"===typeof h?g[h]:h-.5;e="string"===typeof e?g[e]:e-.5;h=e-h;if(b||h)n=this._getTransformedDimensions(),f=d.x+b*n.x,n=d.y+h*n.y;return new fabric.Point(f,n)},translateToCenterPoint:function(c,b,h){b=this.translateToGivenOrigin(c,
b,h,"center","center");return this.angle?fabric.util.rotatePoint(b,c,f(this.angle)):b},translateToOriginPoint:function(c,b,h){b=this.translateToGivenOrigin(c,"center","center",b,h);return this.angle?fabric.util.rotatePoint(b,c,f(this.angle)):b},getCenterPoint:function(){var c=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(c,this.originX,this.originY)},getPointByOrigin:function(c,b){var d=this.getCenterPoint();return this.translateToOriginPoint(d,c,b)},toLocalPoint:function(c,
b,h){var a=this.getCenterPoint();b="undefined"!==typeof b&&"undefined"!==typeof h?this.translateToGivenOrigin(a,"center","center",b,h):new fabric.Point(this.left,this.top);c=new fabric.Point(c.x,c.y);this.angle&&(c=fabric.util.rotatePoint(c,a,-f(this.angle)));return c.subtractEquals(b)},setPositionByOrigin:function(c,b,h){c=this.translateToCenterPoint(c,b,h);c=this.translateToOriginPoint(c,this.originX,this.originY);this.set("left",c.x);this.set("top",c.y)},adjustPosition:function(d){var b=f(this.angle),
h=this.getWidth(),a=Math.cos(b)*h,b=Math.sin(b)*h,e,h="string"===typeof this.originX?c[this.originX]:this.originX-.5;e="string"===typeof d?c[d]:d-.5;this.left+=a*(e-h);this.top+=b*(e-h);this.setCoords();this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX;this._originalOriginY=this.originY;var c=this.getCenterPoint();this.originY=this.originX="center";this.left=c.x;this.top=c.y},_resetOrigin:function(){var c=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,
this._originalOriginY);this.originX=this._originalOriginX;this.originY=this._originalOriginY;this.left=c.x;this.top=c.y;this._originalOriginY=this._originalOriginX=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})})();
(function(){function f(c){return[new fabric.Point(c.tl.x,c.tl.y),new fabric.Point(c.tr.x,c.tr.y),new fabric.Point(c.br.x,c.br.y),new fabric.Point(c.bl.x,c.bl.y)]}var c=fabric.util.degreesToRadians,g=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(c,b){var d=f(this.oCoords);return"Intersection"===fabric.Intersection.intersectPolygonRectangle(d,c,b).status},intersectsWithObject:function(c){return"Intersection"===fabric.Intersection.intersectPolygonPolygon(f(this.oCoords),
f(c.oCoords)).status||c.isContainedWithinObject(this)||this.isContainedWithinObject(c)},isContainedWithinObject:function(c){for(var b=f(this.oCoords),d=0;4>d;d++)if(!c.containsPoint(b[d]))return!1;return!0},isContainedWithinRect:function(c,b){var d=this.getBoundingRect();return d.left>=c.x&&d.left+d.width<=b.x&&d.top>=c.y&&d.top+d.height<=b.y},containsPoint:function(c){this.oCoords||this.setCoords();var b=this._getImageLines(this.oCoords);c=this._findCrossPoints(c,b);return 0!==c&&1===c%2},_getImageLines:function(c){return{topline:{o:c.tl,
d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}}},_findCrossPoints:function(c,b){var d,a,e,g=0,f;for(f in b)if(e=b[f],!(e.o.y<c.y&&e.d.y<c.y||e.o.y>=c.y&&e.d.y>=c.y)&&(e.o.x===e.d.x&&e.o.x>=c.x?d=e.o.x:(d=(e.d.y-e.o.y)/(e.d.x-e.o.x),a=c.y-0*c.x,e=e.o.y-d*e.o.x,d=-(a-e)/(0-d)),d>=c.x&&(g+=1),2===g))break;return g},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(c){c=
this.calcCoords(c);return fabric.util.makeBoundingBoxFromPoints([c.tl,c.tr,c.br,c.bl])},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?0>c?-this.minScaleLimit:this.minScaleLimit:c},scale:function(c){c=this._constrainScale(c);0>c&&(this.flipX=!this.flipX,this.flipY=!this.flipY,c*=-1);this.scaleY=this.scaleX=c;return this.setCoords()},scaleToWidth:function(c){var b=
this.getBoundingRect().width/this.getWidth();return this.scale(c/this.width/b)},scaleToHeight:function(c){var b=this.getBoundingRect().height/this.getHeight();return this.scale(c/this.height/b)},calcCoords:function(d){var b=c(this.angle),h=this.getViewportTransform(),a=d?this._getTransformedDimensions():this._calculateCurrentDimensions(),e=a.x,g=a.y,a=Math.sin(b),f=Math.cos(b),m=0<e?Math.atan(g/e):0,p=e/Math.cos(m)/2,q=Math.cos(m+b)*p,b=Math.sin(m+b)*p,m=this.getCenterPoint(),h=d?m:fabric.util.transformPoint(m,
h);d=new fabric.Point(h.x-q,h.y-b);e=new fabric.Point(d.x+e*f,d.y+e*a);g=new fabric.Point(d.x-g*a,d.y+g*f);q=new fabric.Point(h.x+q,h.y+b);h=new fabric.Point((d.x+g.x)/2,(d.y+g.y)/2);b=new fabric.Point((e.x+d.x)/2,(e.y+d.y)/2);m=new fabric.Point((q.x+e.x)/2,(q.y+e.y)/2);p=new fabric.Point((q.x+g.x)/2,(q.y+g.y)/2);a=new fabric.Point(b.x+a*this.rotatingPointOffset,b.y-f*this.rotatingPointOffset);return{tl:d,tr:e,br:q,bl:g,ml:h,mt:b,mr:m,mb:p,mtr:a}},setCoords:function(c){this.oCoords=this.calcCoords(c);
c||this._setCornerCoords&&this._setCornerCoords();return this},_calcRotateMatrix:function(){if(this.angle){var d=c(this.angle),b=Math.cos(d),d=Math.sin(d);return[b,d,-d,b,0,0]}return[1,0,0,1,0,0]},calcTransformMatrix:function(){var c=this.getCenterPoint(),c=[1,0,0,1,c.x,c.y],b=this._calcRotateMatrix(),h=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0),a=this.group?this.group.calcTransformMatrix():[1,0,0,1,0,0],a=g(a,c),a=g(a,b);return a=g(a,h)},_calcDimensionsTransformMatrix:function(d,
b,h){d=[1,0,Math.tan(c(d)),1];b=[1,Math.tan(c(b)),0,1];h=g([this.scaleX*(h&&this.flipX?-1:1),0,0,this.scaleY*(h&&this.flipY?-1:1)],d,!0);return g(h,b,!0)}})})();
fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this);return this},bringToFront:function(){this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this);return this},sendBackwards:function(f){this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,f):this.canvas.sendBackwards(this,f);return this},bringForward:function(f){this.group?
fabric.StaticCanvas.prototype.bringForward.call(this.group,this,f):this.canvas.bringForward(this,f);return this},moveTo:function(f){this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,f):this.canvas.moveTo(this,f);return this}});
(function(){function f(c,g){if(g){if(g.toLive)return c+": url(#SVGID_"+g.id+"); ";var d=new fabric.Color(g);g=c+": "+d.toRgb()+"; ";d=d.getAlpha();1!==d&&(g+=c+"-opacity: "+d.toString()+"; ");return g}return c+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(c){var g=this.fillRule,d=this.strokeWidth?this.strokeWidth:"0",b=this.strokeDashArray?this.strokeDashArray.join(" "):"none",h=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:
"miter",e=this.strokeMiterLimit?this.strokeMiterLimit:"4",l="undefined"!==typeof this.opacity?this.opacity:"1",n=this.visible?"":" visibility: hidden;";c=c?"":this.getSvgFilter();var m=f("fill",this.fill);return[f("stroke",this.stroke),"stroke-width: ",d,"; stroke-dasharray: ",b,"; stroke-linecap: ",h,"; stroke-linejoin: ",a,"; stroke-miterlimit: ",e,"; ",m,"fill-rule: ",g,"; opacity: ",l,";",c,n].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?
'id\x3d"'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var c=fabric.util.toFixed,g=this.getAngle(),d=this.getSkewX()%360,b=this.getSkewY()%360,h=this.getCenterPoint(),a=fabric.Object.NUM_FRACTION_DIGITS,h="path-group"===this.type?"":"translate("+c(h.x,a)+" "+c(h.y,a)+")",g=0!==g?" rotate("+c(g,a)+")":"",e=1===this.scaleX&&1===this.scaleY?"":" scale("+c(this.scaleX,a)+" "+c(this.scaleY,a)+")",d=0!==d?" skewX("+c(d,a)+")":"",c=0!==b?" skewY("+c(b,
a)+")":"",b="path-group"===this.type?this.width:0,a="path-group"===this.type?this.height:0;return[h,g,e,this.flipX?" matrix(-1 0 0 1 "+b+" 0) ":"",this.flipY?" matrix(1 0 0 -1 0 "+a+")":"",d,c].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var c=[];this.fill&&this.fill.toLive&&c.push(this.fill.toSVG(this,!1));this.stroke&&this.stroke.toLive&&c.push(this.stroke.toSVG(this,!1));this.shadow&&c.push(this.shadow.toSVG(this));
return c}})})();
(function(){function f(c,b,h){var a={};h.forEach(function(b){a[b]=c[b]});g(c[b],a,!0)}function c(d,b,h){if(!fabric.isLikelyNode&&d instanceof Element)return d===b;if(d instanceof Array){if(d.length!==b.length)return!1;h=0;for(var a=d.length;h<a;h++)if(d[h]!==b[h])return!1;return!0}if(d&&"object"===typeof d){if(!h&&Object.keys(d).length!==Object.keys(b).length)return!1;for(a in d)if(!c(d[a],b[a]))return!1;return!0}return d===b}var g=fabric.util.object.extend;fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(d){return!c(this["_"+
(d||"stateProperties")],this,!0)},saveState:function(c){var b=c&&c.propertySet||"stateProperties",d="_"+b;f(this,d,this[b]);c&&c.stateProperties&&f(this,d,c.stateProperties);return this},setupState:function(c){c=c||{};var b=c.propertySet||"stateProperties";c.propertySet=b;this["_"+b]={};this.saveState(c);return this}})})();
(function(){var f=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(c){if(!this.hasControls||!this.active)return!1;var g=c.x;c=c.y;var d;this.__corner=0;for(var b in this.oCoords)if(this.isControlVisible(b)&&("mtr"!==b||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==b&&"mr"!==b&&"mb"!==b&&"ml"!==b)&&(d=this._getImageLines(this.oCoords[b].corner),d=this._findCrossPoints({x:g,y:c},d),0!==d&&1===d%2))return this.__corner=
b;return!1},_setCornerCoords:function(){var c=this.oCoords,g=f(45-this.angle),d=.707106*this.cornerSize,b=d*Math.cos(g),g=d*Math.sin(g),h,a;for(a in c)d=c[a].x,h=c[a].y,c[a].corner={tl:{x:d-g,y:h-b},tr:{x:d+b,y:h-g},bl:{x:d-b,y:h+g},br:{x:d+g,y:h+b}}},_getNonTransformedDimensions:function(){var c=this.strokeWidth;return{x:this.width+c,y:this.height+c}},_getTransformedDimensions:function(c,g){"undefined"===typeof c&&(c=this.skewX);"undefined"===typeof g&&(g=this.skewY);var d=this._getNonTransformedDimensions(),
b=d.x/2,d=d.y/2,b=[{x:-b,y:-d},{x:b,y:-d},{x:-b,y:d},{x:b,y:d}];g=this._calcDimensionsTransformMatrix(c,g,!1);for(c=0;c<b.length;c++)b[c]=fabric.util.transformPoint(b[c],g);c=fabric.util.makeBoundingBoxFromPoints(b);return{x:c.width,y:c.height}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),g=this._getTransformedDimensions();return fabric.util.transformPoint(g,c,!0).scalarAdd(2*this.padding)},drawSelectionBackground:function(c){if(!this.selectionBackgroundColor||this.group||
!this.active)return this;c.save();var g=this.getCenterPoint(),d=this._calculateCurrentDimensions(),b=this.canvas.viewportTransform;c.translate(g.x,g.y);c.scale(1/b[0],1/b[3]);c.rotate(f(this.angle));c.fillStyle=this.selectionBackgroundColor;c.fillRect(-d.x/2,-d.y/2,d.x,d.y);c.restore();return this},drawBorders:function(c){if(!this.hasBorders)return this;var g=this._calculateCurrentDimensions(),d=1/this.borderScaleFactor,b=g.x+d,g=g.y+d;c.save();c.strokeStyle=this.borderColor;this._setLineDash(c,this.borderDashArray,
null);c.strokeRect(-b/2,-g/2,b,g);this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls&&(b=-g/2,c.beginPath(),c.moveTo(0,b),c.lineTo(0,b-this.rotatingPointOffset),c.closePath(),c.stroke());c.restore();return this},drawBordersInGroup:function(c,g){if(!this.hasBorders)return this;var d=this._getNonTransformedDimensions();g=fabric.util.customTransformMatrix(g.scaleX,g.scaleY,g.skewX);g=fabric.util.transformPoint(d,g);var b=1/this.borderScaleFactor,d=g.x+b;
g=g.y+b;c.save();this._setLineDash(c,this.borderDashArray,null);c.strokeStyle=this.borderColor;c.strokeRect(-d/2,-g/2,d,g);c.restore();return this},drawControls:function(c){if(!this.hasControls)return this;var g=this._calculateCurrentDimensions(),d=g.x,g=g.y,b=this.cornerSize,h=-(d+b)/2,b=-(g+b)/2,a=this.transparentCorners?"stroke":"fill";c.save();c.strokeStyle=c.fillStyle=this.cornerColor;this.transparentCorners||(c.strokeStyle=this.cornerStrokeColor);this._setLineDash(c,this.cornerDashArray,null);
this._drawControl("tl",c,a,h,b);this._drawControl("tr",c,a,h+d,b);this._drawControl("bl",c,a,h,b+g);this._drawControl("br",c,a,h+d,b+g);this.get("lockUniScaling")||(this._drawControl("mt",c,a,h+d/2,b),this._drawControl("mb",c,a,h+d/2,b+g),this._drawControl("mr",c,a,h+d,b+g/2),this._drawControl("ml",c,a,h,b+g/2));this.hasRotatingPoint&&this._drawControl("mtr",c,a,h+d/2,b-this.rotatingPointOffset);c.restore();return this},_drawControl:function(c,g,d,b,h){if(this.isControlVisible(c)){c=this.cornerSize;
var a=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case "circle":g.beginPath();g.arc(b+c/2,h+c/2,c/2,0,2*Math.PI,!1);g[d]();a&&g.stroke();break;default:"undefined"!==typeof G_vmlCanvasManager||this.transparentCorners||g.clearRect(b,h,c,c),g[d+"Rect"](b,h,c,c),a&&g.strokeRect(b,h,c,c)}}},isControlVisible:function(c){return this._getControlsVisibility()[c]},setControlVisible:function(c,g){this._getControlsVisibility()[c]=g;return this},setControlsVisibility:function(c){c||
(c={});for(var g in c)this.setControlVisible(g,c[g]);return this},_getControlsVisibility:function(){this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0});return this._controlsVisibility}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(f,c){c=c||{};var g=function(){},d=c.onComplete||g,b=c.onChange||g,h=this;fabric.util.animate({startValue:f.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(a){f.set("left",a);h.renderAll();b()},onComplete:function(){f.setCoords();d()}});return this},fxCenterObjectV:function(f,c){c=c||{};var g=function(){},d=c.onComplete||g,b=c.onChange||g,h=this;fabric.util.animate({startValue:f.get("top"),
endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(a){f.set("top",a);h.renderAll();b()},onComplete:function(){f.setCoords();d()}});return this},fxRemove:function(f,c){c=c||{};var g=function(){},d=c.onComplete||g,b=c.onChange||g,h=this;fabric.util.animate({startValue:f.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){f.set("active",!1)},onChange:function(a){f.set("opacity",a);h.renderAll();b()},onComplete:function(){h.remove(f);d()}});return this}});
fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var f=[],c,g;for(c in arguments[0])f.push(c);for(var d=0,b=f.length;d<b;d++)c=f[d],g=d!==b-1,this._animate(c,arguments[0][c],arguments[1],g)}else this._animate.apply(this,arguments);return this},_animate:function(f,c,g,d){var b=this,h;c=c.toString();g=g?fabric.util.object.clone(g):{};~f.indexOf(".")&&(h=f.split("."));var a=h?this.get(h[0])[h[1]]:this.get(f);"from"in g||(g.from=a);
c=~c.indexOf("\x3d")?a+parseFloat(c.replace("\x3d","")):parseFloat(c);fabric.util.animate({startValue:g.from,endValue:c,byValue:g.by,easing:g.easing,duration:g.duration,abort:g.abort&&function(){return g.abort.call(b)},onChange:function(a){h?b[h[0]][h[1]]=a:b.set(f,a);d||g.onChange&&g.onChange()},onComplete:function(){d||(b.setCoords(),g.onComplete&&g.onComplete())}})}});
(function(f){function c(a,b){var c=a.origin,e=a.axis1,d=a.axis2,h=a.dimension,g=b.nearest,f=b.center,u=b.farthest;return function(){switch(this.get(c)){case g:return Math.min(this.get(e),this.get(d));case f:return Math.min(this.get(e),this.get(d))+.5*this.get(h);case u:return Math.max(this.get(e),this.get(d))}}}var g=f.fabric||(f.fabric={}),d=g.util.object.extend,b={x1:1,x2:1,y1:1,y2:1},h=g.StaticCanvas.supports("setLineDash");g.Line?g.warn("fabric.Line is already defined"):(f=g.Object.prototype.cacheProperties.concat(),
f.push("x1","x2","y1","y2"),g.Line=g.util.createClass(g.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:f,initialize:function(a,b){a||(a=[0,0,0,0]);this.callSuper("initialize",b);this.set("x1",a[0]);this.set("y1",a[1]);this.set("x2",a[2]);this.set("y2",a[3]);this._setWidthHeight(b)},_setWidthHeight:function(a){a||(a={});this.width=Math.abs(this.x2-this.x1);this.height=Math.abs(this.y2-this.y1);this.left="left"in a?a.left:this._getLeftToOriginX();this.top="top"in a?a.top:this._getTopToOriginY()},
_set:function(a,c){this.callSuper("_set",a,c);"undefined"!==typeof b[a]&&this._setWidthHeight();return this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a,b){a.beginPath();b&&(b=this.getCenterPoint(),a.translate(b.x-this.strokeWidth/2,b.y-this.strokeWidth/2));if(!this.strokeDashArray||
this.strokeDashArray&&h)b=this.calcLinePoints(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2);a.lineWidth=this.strokeWidth;b=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle;this.stroke&&this._renderStroke(a);a.strokeStyle=b},_renderDashedStroke:function(a){var b=this.calcLinePoints();a.beginPath();g.util.drawDashedLine(a,b.x1,b.y1,b.x2,b.y2,this.strokeDashArray);a.closePath()},toObject:function(a){return d(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=
this.callSuper("_getNonTransformedDimensions");"butt"===this.strokeLineCap&&(0===a.x&&(a.y-=this.strokeWidth),0===a.y&&(a.x-=this.strokeWidth));return a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,b=this.y1<=this.y2?-1:1;return{x1:a*this.width*.5,x2:a*this.width*-.5,y1:b*this.height*.5,y2:b*this.height*-.5}},toSVG:function(a){var b=this._createBaseSVGMarkup(),c={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};this.group&&"path-group"===this.group.type||(c=this.calcLinePoints());b.push("\x3cline ",
this.getSvgId(),'x1\x3d"',c.x1,'" y1\x3d"',c.y1,'" x2\x3d"',c.x2,'" y2\x3d"',c.y2,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/\x3e\n');return a?a(b.join("")):b.join("")},complexity:function(){return 1}}),g.Line.ATTRIBUTE_NAMES=g.SHARED_ATTRIBUTES.concat(["x1","y1","x2","y2"]),g.Line.fromElement=function(a,b){a=g.parseAttributes(a,g.Line.ATTRIBUTE_NAMES);return new g.Line([a.x1||0,a.y1||0,a.x2||0,a.y2||0],d(a,b))},g.Line.fromObject=function(a,
b){a=new g.Line([a.x1,a.y1,a.x2,a.y2],a);b&&b(a);return a})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=Math.PI,d=c.util.object.extend;c.Circle?c.warn("fabric.Circle is already defined."):(f=c.Object.prototype.cacheProperties.concat(),f.push("radius"),c.Circle=c.util.createClass(c.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*g,cacheProperties:f,initialize:function(b){this.callSuper("initialize",b);this.set("radius",b&&b.radius||0)},_set:function(b,c){this.callSuper("_set",b,c);"radius"===b&&this.setRadius(c);return this},toObject:function(b){return this.callSuper("toObject",
["radius","startAngle","endAngle"].concat(b))},toSVG:function(b){var c=this._createBaseSVGMarkup(),a=0,e=0,d=(this.endAngle-this.startAngle)%(2*g);0===d?(this.group&&"path-group"===this.group.type&&(a=this.left+this.radius,e=this.top+this.radius),c.push("\x3ccircle ",this.getSvgId(),'cx\x3d"'+a+'" cy\x3d"'+e+'" ','r\x3d"',this.radius,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/\x3e\n')):c.push('\x3cpath d\x3d"M '+Math.cos(this.startAngle)*
this.radius+" "+Math.sin(this.startAngle)*this.radius," A "+this.radius+" "+this.radius," 0 ",+(d>g?1:0)+" 1"," "+Math.cos(this.endAngle)*this.radius+" "+Math.sin(this.endAngle)*this.radius,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/\x3e\n');return b?b(c.join("")):c.join("")},_render:function(b,c){b.beginPath();b.arc(c?this.left+this.radius:0,c?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1);this._renderFill(b);
this._renderStroke(b)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(b){this.radius=b;return this.set("width",2*b).set("height",2*b)},complexity:function(){return 1}}),c.Circle.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["cx","cy","r"]),c.Circle.fromElement=function(b,h){h||(h={});b=c.parseAttributes(b,c.Circle.ATTRIBUTE_NAMES);if(!("radius"in b&&0<=b.radius))throw Error("value of `r` attribute is required and can not be negative");
b.left=b.left||0;b.top=b.top||0;h=new c.Circle(d(b,h));h.left-=h.radius;h.top-=h.radius;return h},c.Circle.fromObject=function(b,d){b=new c.Circle(b);d&&d(b);return b})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={});c.Triangle?c.warn("fabric.Triangle is already defined"):(c.Triangle=c.util.createClass(c.Object,{type:"triangle",initialize:function(c){this.callSuper("initialize",c);this.set("width",c&&c.width||100).set("height",c&&c.height||100)},_render:function(c){var d=this.width/2,b=this.height/2;c.beginPath();c.moveTo(-d,b);c.lineTo(0,-b);c.lineTo(d,b);c.closePath();this._renderFill(c);this._renderStroke(c)},_renderDashedStroke:function(g){var d=this.width/2,b=this.height/
2;g.beginPath();c.util.drawDashedLine(g,-d,b,0,-b,this.strokeDashArray);c.util.drawDashedLine(g,0,-b,d,b,this.strokeDashArray);c.util.drawDashedLine(g,d,b,-d,b,this.strokeDashArray);g.closePath()},toSVG:function(c){var d=this._createBaseSVGMarkup(),b=this.width/2,h=this.height/2,b=[-b+" "+h,"0 "+-h,b+" "+h].join();d.push("\x3cpolygon ",this.getSvgId(),'points\x3d"',b,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),'"/\x3e');return c?c(d.join("")):d.join("")},complexity:function(){return 1}}),
c.Triangle.fromObject=function(g,d){g=new c.Triangle(g);d&&d(g);return g})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=2*Math.PI,d=c.util.object.extend;c.Ellipse?c.warn("fabric.Ellipse is already defined."):(f=c.Object.prototype.cacheProperties.concat(),f.push("rx","ry"),c.Ellipse=c.util.createClass(c.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:f,initialize:function(b){this.callSuper("initialize",b);this.set("rx",b&&b.rx||0);this.set("ry",b&&b.ry||0)},_set:function(b,c){this.callSuper("_set",b,c);switch(b){case "rx":this.rx=c;this.set("width",2*c);break;case "ry":this.ry=
c,this.set("height",2*c)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(b){return this.callSuper("toObject",["rx","ry"].concat(b))},toSVG:function(b){var c=this._createBaseSVGMarkup(),a=0,e=0;this.group&&"path-group"===this.group.type&&(a=this.left+this.rx,e=this.top+this.ry);c.push("\x3cellipse ",this.getSvgId(),'cx\x3d"',a,'" cy\x3d"',e,'" ','rx\x3d"',this.rx,'" ry\x3d"',this.ry,'" style\x3d"',
this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/\x3e\n');return b?b(c.join("")):c.join("")},_render:function(b,c){b.beginPath();b.save();b.transform(1,0,0,this.ry/this.rx,0,0);b.arc(c?this.left+this.rx:0,c?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,g,!1);b.restore();this._renderFill(b);this._renderStroke(b)},complexity:function(){return 1}}),c.Ellipse.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["cx","cy","rx","ry"]),c.Ellipse.fromElement=function(b,
h){h||(h={});b=c.parseAttributes(b,c.Ellipse.ATTRIBUTE_NAMES);b.left=b.left||0;b.top=b.top||0;h=new c.Ellipse(d(b,h));h.top-=h.ry;h.left-=h.rx;return h},c.Ellipse.fromObject=function(b,d){b=new c.Ellipse(b);d&&d(b);return b})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;c.Rect?c.warn("fabric.Rect is already defined"):(f=c.Object.prototype.stateProperties.concat(),f.push("rx","ry"),c.Rect=c.util.createClass(c.Object,{stateProperties:f,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(c){this.callSuper("initialize",c);this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(c,b){if(1===this.width&&1===this.height)c.fillRect(-.5,
-.5,1,1);else{var d=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,e=this.width,g=this.height,f=b?this.left:-this.width/2;b=b?this.top:-this.height/2;var m=0!==d||0!==a;c.beginPath();c.moveTo(f+d,b);c.lineTo(f+e-d,b);m&&c.bezierCurveTo(f+e-.4477152502*d,b,f+e,b+.4477152502*a,f+e,b+a);c.lineTo(f+e,b+g-a);m&&c.bezierCurveTo(f+e,b+g-.4477152502*a,f+e-.4477152502*d,b+g,f+e-d,b+g);c.lineTo(f+d,b+g);m&&c.bezierCurveTo(f+.4477152502*d,b+g,f,b+g-.4477152502*a,f,b+g-a);
c.lineTo(f,b+a);m&&c.bezierCurveTo(f,b+.4477152502*a,f+.4477152502*d,b,f+d,b);c.closePath();this._renderFill(c);this._renderStroke(c)}},_renderDashedStroke:function(d){var b=-this.width/2,h=-this.height/2,a=this.width,e=this.height;d.beginPath();c.util.drawDashedLine(d,b,h,b+a,h,this.strokeDashArray);c.util.drawDashedLine(d,b+a,h,b+a,h+e,this.strokeDashArray);c.util.drawDashedLine(d,b+a,h+e,b,h+e,this.strokeDashArray);c.util.drawDashedLine(d,b,h+e,b,h,this.strokeDashArray);d.closePath()},toObject:function(c){return this.callSuper("toObject",
["rx","ry"].concat(c))},toSVG:function(c){var b=this._createBaseSVGMarkup(),d=this.left,a=this.top;this.group&&"path-group"===this.group.type||(d=-this.width/2,a=-this.height/2);b.push("\x3crect ",this.getSvgId(),'x\x3d"',d,'" y\x3d"',a,'" rx\x3d"',this.get("rx"),'" ry\x3d"',this.get("ry"),'" width\x3d"',this.width,'" height\x3d"',this.height,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/\x3e\n');return c?c(b.join("")):b.join("")},complexity:function(){return 1}}),
c.Rect.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),c.Rect.fromElement=function(d,b){if(!d)return null;b=b||{};d=c.parseAttributes(d,c.Rect.ATTRIBUTE_NAMES);d.left=d.left||0;d.top=d.top||0;b=new c.Rect(g(b?c.util.object.clone(b):{},d));b.visible=b.visible&&0<b.width&&0<b.height;return b},c.Rect.fromObject=function(d,b){d=new c.Rect(d);b&&b(d);return d})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={});c.Polyline?c.warn("fabric.Polyline is already defined"):(f=c.Object.prototype.cacheProperties.concat(),f.push("points"),c.Polyline=c.util.createClass(c.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:f,initialize:function(g,d){return c.Polygon.prototype.initialize.call(this,g,d)},_calcDimensions:function(){return c.Polygon.prototype._calcDimensions.call(this)},toObject:function(g){return c.Polygon.prototype.toObject.call(this,g)},toSVG:function(g){return c.Polygon.prototype.toSVG.call(this,
g)},_render:function(g,d){c.Polygon.prototype.commonRender.call(this,g,d)&&(this._renderFill(g),this._renderStroke(g))},_renderDashedStroke:function(g){var d,b;g.beginPath();for(var h=0,a=this.points.length;h<a;h++)d=this.points[h],b=this.points[h+1]||d,c.util.drawDashedLine(g,d.x,d.y,b.x,b.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),c.Polyline.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(),c.Polyline.fromElement=function(g,d){if(!g)return null;d||(d={});var b=
c.parsePointsAttribute(g.getAttribute("points"));g=c.parseAttributes(g,c.Polyline.ATTRIBUTE_NAMES);return new c.Polyline(b,c.util.object.extend(g,d))},c.Polyline.fromObject=function(g,d){g=new c.Polyline(g.points,g);d&&d(g);return g})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend,d=c.util.array.min,b=c.util.array.max,h=c.util.toFixed;c.Polygon?c.warn("fabric.Polygon is already defined"):(f=c.Object.prototype.cacheProperties.concat(),f.push("points"),c.Polygon=c.util.createClass(c.Object,{type:"polygon",points:null,minX:0,minY:0,cacheProperties:f,initialize:function(a,b){b=b||{};this.points=a||[];this.callSuper("initialize",b);this._calcDimensions();"top"in b||(this.top=this.minY);"left"in b||(this.left=this.minX);
this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var a=this.points,c=d(a,"x"),h=d(a,"y"),g=b(a,"x"),a=b(a,"y");this.width=g-c||0;this.height=a-h||0;this.minX=c||0;this.minY=h||0},toObject:function(a){return g(this.callSuper("toObject",a),{points:this.points.concat()})},toSVG:function(a){for(var b=[],c,d=this._createBaseSVGMarkup(),g=0,f=this.points.length;g<f;g++)b.push(h(this.points[g].x,2),",",h(this.points[g].y,2)," ");this.group&&"path-group"===
this.group.type||(c=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ");d.push("\x3c",this.type," ",this.getSvgId(),'points\x3d"',b.join(""),'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),c," ",this.getSvgTransformMatrix(),'"/\x3e\n');return a?a(d.join("")):d.join("")},_render:function(a,b){this.commonRender(a,b)&&(this._renderFill(a),this.stroke||this.strokeDashArray)&&(a.closePath(),this._renderStroke(a))},commonRender:function(a,b){var c=this.points.length,
e=b?0:this.pathOffset.x,d=b?0:this.pathOffset.y;if(!c||isNaN(this.points[c-1].y))return!1;a.beginPath();a.moveTo(this.points[0].x-e,this.points[0].y-d);for(var h=0;h<c;h++)b=this.points[h],a.lineTo(b.x-e,b.y-d);return!0},_renderDashedStroke:function(a){c.Polyline.prototype._renderDashedStroke.call(this,a);a.closePath()},complexity:function(){return this.points.length}}),c.Polygon.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(),c.Polygon.fromElement=function(a,b){if(!a)return null;b||(b={});var e=c.parsePointsAttribute(a.getAttribute("points"));
a=c.parseAttributes(a,c.Polygon.ATTRIBUTE_NAMES);return new c.Polygon(e,g(a,b))},c.Polygon.fromObject=function(a,b){a=new c.Polygon(a.points,a);b&&b(a);return a})})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.array.min,d=c.util.array.max,b=c.util.object.extend,h=Object.prototype.toString,a=c.util.drawArc,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};c.Path?c.warn("fabric.Path is already defined"):(f=c.Object.prototype.cacheProperties.concat(),f.push("path"),c.Path=c.util.createClass(c.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:f,initialize:function(a,b){b=b||{};this.setOptions(b);a||(a=[]);var c="[object Array]"===h.call(a);
if(this.path=c?a:a.match&&a.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi))c||(this.path=this._parsePath()),this._setPositionDimensions(b),b.sourcePath&&this.setSourcePath(b.sourcePath),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},_setPositionDimensions:function(a){var b=this._parseDimensions();this.minX=b.left;this.minY=b.top;this.width=b.width;this.height=b.height;"undefined"===typeof a.left&&(this.left=b.left+("center"===this.originX?this.width/2:"right"===
this.originX?this.width:0));"undefined"===typeof a.top&&(this.top=b.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0));this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(b){var c,e=null,d=0,h=0,g=0,f=0,l=0,n=0,B,A,C=-this.pathOffset.x,y=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(y=C=0);b.beginPath();for(var I=0,z=this.path.length;I<z;++I){c=this.path[I];switch(c[0]){case "l":g+=c[1];
f+=c[2];b.lineTo(g+C,f+y);break;case "L":g=c[1];f=c[2];b.lineTo(g+C,f+y);break;case "h":g+=c[1];b.lineTo(g+C,f+y);break;case "H":g=c[1];b.lineTo(g+C,f+y);break;case "v":f+=c[1];b.lineTo(g+C,f+y);break;case "V":f=c[1];b.lineTo(g+C,f+y);break;case "m":g+=c[1];f+=c[2];d=g;h=f;b.moveTo(g+C,f+y);break;case "M":g=c[1];f=c[2];d=g;h=f;b.moveTo(g+C,f+y);break;case "c":B=g+c[5];A=f+c[6];l=g+c[3];n=f+c[4];b.bezierCurveTo(g+c[1]+C,f+c[2]+y,l+C,n+y,B+C,A+y);g=B;f=A;break;case "C":g=c[5];f=c[6];l=c[3];n=c[4];b.bezierCurveTo(c[1]+
C,c[2]+y,l+C,n+y,g+C,f+y);break;case "s":B=g+c[3];A=f+c[4];null===e[0].match(/[CcSs]/)?(l=g,n=f):(l=2*g-l,n=2*f-n);b.bezierCurveTo(l+C,n+y,g+c[1]+C,f+c[2]+y,B+C,A+y);l=g+c[1];n=f+c[2];g=B;f=A;break;case "S":B=c[3];A=c[4];null===e[0].match(/[CcSs]/)?(l=g,n=f):(l=2*g-l,n=2*f-n);b.bezierCurveTo(l+C,n+y,c[1]+C,c[2]+y,B+C,A+y);g=B;f=A;l=c[1];n=c[2];break;case "q":B=g+c[3];A=f+c[4];l=g+c[1];n=f+c[2];b.quadraticCurveTo(l+C,n+y,B+C,A+y);g=B;f=A;break;case "Q":B=c[3];A=c[4];b.quadraticCurveTo(c[1]+C,c[2]+
y,B+C,A+y);g=B;f=A;l=c[1];n=c[2];break;case "t":B=g+c[1];A=f+c[2];null===e[0].match(/[QqTt]/)?(l=g,n=f):(l=2*g-l,n=2*f-n);b.quadraticCurveTo(l+C,n+y,B+C,A+y);g=B;f=A;break;case "T":B=c[1];A=c[2];null===e[0].match(/[QqTt]/)?(l=g,n=f):(l=2*g-l,n=2*f-n);b.quadraticCurveTo(l+C,n+y,B+C,A+y);g=B;f=A;break;case "a":a(b,g+C,f+y,[c[1],c[2],c[3],c[4],c[5],c[6]+g+C,c[7]+f+y]);g+=c[6];f+=c[7];break;case "A":a(b,g+C,f+y,[c[1],c[2],c[3],c[4],c[5],c[6]+C,c[7]+y]);g=c[6];f=c[7];break;case "z":case "Z":g=d,f=h,b.closePath()}e=
c}},_render:function(a){this._renderPathCommands(a);this._renderFill(a);this._renderStroke(a)},toString:function(){return"#\x3cfabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }\x3e"},toObject:function(a){return b(this.callSuper("toObject",["sourcePath","pathOffset"].concat(a)),{path:this.path.map(function(a){return a.slice()})})},toDatalessObject:function(a){a=this.toObject(a);this.sourcePath&&(a.path=this.sourcePath);delete a.sourcePath;return a},toSVG:function(a){for(var b=
[],c=this._createBaseSVGMarkup(),e="",d=0,g=this.path.length;d<g;d++)b.push(this.path[d].join(" "));b=b.join(" ");this.group&&"path-group"===this.group.type||(e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ");c.push("\x3cpath ",this.getSvgId(),'d\x3d"',b,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),e,this.getSvgTransformMatrix(),'" stroke-linecap\x3d"round" ',"/\x3e\n");return a?a(c.join("")):c.join("")},complexity:function(){return this.path.length},
_parsePath:function(){for(var a=[],b=[],c,d,g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/ig,h,f=0,x=this.path.length;f<x;f++){c=this.path[f];h=c.slice(1).trim();for(b.length=0;d=g.exec(h);)b.push(d[0]);c=[c.charAt(0)];h=0;for(var w=b.length;h<w;h++)d=parseFloat(b[h]),isNaN(d)||c.push(d);d=c[0];h=e[d.toLowerCase()];w=l[d]||d;if(c.length-1>h)for(var B=1,A=c.length;B<A;B+=h)a.push([d].concat(c.slice(B,B+h))),d=w;else a.push(c)}return a},_parseDimensions:function(){for(var a=[],b=[],e,h=null,
f=0,l=0,v=0,x=0,w=0,B=0,A,C,y,I=0,z=this.path.length;I<z;++I){e=this.path[I];switch(e[0]){case "l":v+=e[1];x+=e[2];y=[];break;case "L":v=e[1];x=e[2];y=[];break;case "h":v+=e[1];y=[];break;case "H":v=e[1];y=[];break;case "v":x+=e[1];y=[];break;case "V":x=e[1];y=[];break;case "m":v+=e[1];x+=e[2];f=v;l=x;y=[];break;case "M":v=e[1];x=e[2];f=v;l=x;y=[];break;case "c":A=v+e[5];C=x+e[6];w=v+e[3];B=x+e[4];y=c.util.getBoundsOfCurve(v,x,v+e[1],x+e[2],w,B,A,C);v=A;x=C;break;case "C":v=e[5];x=e[6];w=e[3];B=e[4];
y=c.util.getBoundsOfCurve(v,x,e[1],e[2],w,B,v,x);break;case "s":A=v+e[3];C=x+e[4];null===h[0].match(/[CcSs]/)?(w=v,B=x):(w=2*v-w,B=2*x-B);y=c.util.getBoundsOfCurve(v,x,w,B,v+e[1],x+e[2],A,C);w=v+e[1];B=x+e[2];v=A;x=C;break;case "S":A=e[3];C=e[4];null===h[0].match(/[CcSs]/)?(w=v,B=x):(w=2*v-w,B=2*x-B);y=c.util.getBoundsOfCurve(v,x,w,B,e[1],e[2],A,C);v=A;x=C;w=e[1];B=e[2];break;case "q":A=v+e[3];C=x+e[4];w=v+e[1];B=x+e[2];y=c.util.getBoundsOfCurve(v,x,w,B,w,B,A,C);v=A;x=C;break;case "Q":w=e[1];B=e[2];
y=c.util.getBoundsOfCurve(v,x,w,B,w,B,e[3],e[4]);v=e[3];x=e[4];break;case "t":A=v+e[1];C=x+e[2];null===h[0].match(/[QqTt]/)?(w=v,B=x):(w=2*v-w,B=2*x-B);y=c.util.getBoundsOfCurve(v,x,w,B,w,B,A,C);v=A;x=C;break;case "T":A=e[1];C=e[2];null===h[0].match(/[QqTt]/)?(w=v,B=x):(w=2*v-w,B=2*x-B);y=c.util.getBoundsOfCurve(v,x,w,B,w,B,A,C);v=A;x=C;break;case "a":y=c.util.getBoundsOfArc(v,x,e[1],e[2],e[3],e[4],e[5],e[6]+v,e[7]+x);v+=e[6];x+=e[7];break;case "A":y=c.util.getBoundsOfArc(v,x,e[1],e[2],e[3],e[4],
e[5],e[6],e[7]);v=e[6];x=e[7];break;case "z":case "Z":v=f,x=l}h=e;y.forEach(function(c){a.push(c.x);b.push(c.y)});a.push(v);b.push(x)}e=g(a)||0;h=g(b)||0;f=d(a)||0;l=d(b)||0;return{left:e,top:h,width:f-e,height:l-h}}}),c.Path.fromObject=function(a,b){var e;if("string"===typeof a.path)c.loadSVGFromURL(a.path,function(d){var h=a.path;e=d[0];delete a.path;c.util.object.extend(e,a);e.setSourcePath(h);b&&b(e)});else return e=new c.Path(a.path,a),b&&b(e),e},c.Path.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["d"]),
c.Path.fromElement=function(a,e,d){a=c.parseAttributes(a,c.Path.ATTRIBUTE_NAMES);e&&e(new c.Path(a.d,b(a,d)))},c.Path.async=!0)})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend,d=c.util.array.invoke,b=c.Object.prototype.toObject;c.PathGroup?c.warn("fabric.PathGroup is already defined"):(c.PathGroup=c.util.createClass(c.Object,{type:"path-group",fill:"",initialize:function(b,a){a=a||{};this.paths=b||[];for(b=this.paths.length;b--;)this.paths[b].group=this;a.toBeParsed&&(this.parseDimensionsFromPaths(a),delete a.toBeParsed);this.setOptions(a);this.setCoords();a.sourcePath&&this.setSourcePath(a.sourcePath);this.objectCaching&&
(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},parseDimensionsFromPaths:function(b){for(var a,e,d=[],h=[],g,f=this.paths.length;f--;){a=this.paths[f];e=a.height+a.strokeWidth;g=a.width+a.strokeWidth;a=[{x:a.left,y:a.top},{x:a.left+g,y:a.top},{x:a.left,y:a.top+e},{x:a.left+g,y:a.top+e}];g=this.paths[f].transformMatrix;for(var q=0;q<a.length;q++)e=a[q],g&&(e=c.util.transformPoint(e,g,!1)),d.push(e.x),h.push(e.y)}b.width=Math.max.apply(null,d);b.height=Math.max.apply(null,
h)},drawObject:function(b){b.save();b.translate(-this.width/2,-this.height/2);for(var a=0,c=this.paths.length;a<c;++a)this.paths[a].render(b,!0);b.restore()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var b=0,a=this.paths.length;b<a;b++)if(this.paths[b].isCacheDirty(!0))return b=this._getNonTransformedDimensions(),this._cacheContext.clearRect(-b.x/2,-b.y/2,b.x,b.y),!0;return!1},_set:function(b,a){if("fill"===b&&a&&this.isSameColor())for(var c=
this.paths.length;c--;)this.paths[c]._set(b,a);return this.callSuper("_set",b,a)},toObject:function(c){return g(b.call(this,["sourcePath"].concat(c)),{paths:d(this.getObjects(),"toObject",c)})},toDatalessObject:function(b){b=this.toObject(b);this.sourcePath&&(b.paths=this.sourcePath);return b},toSVG:function(b){var a=this.getObjects(),c=this.getPointByOrigin("left","top"),d="translate("+c.x+" "+c.y+")",c=this._createBaseSVGMarkup();c.push("\x3cg ",this.getSvgId(),'style\x3d"',this.getSvgStyles(),
'" ','transform\x3d"',this.getSvgTransformMatrix(),d,this.getSvgTransform(),'" ',"\x3e\n");for(var d=0,g=a.length;d<g;d++)c.push("\t",a[d].toSVG(b));c.push("\x3c/g\x3e\n");return b?b(c.join("")):c.join("")},toString:function(){return"#\x3cfabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }\x3e"},isSameColor:function(){var b=this.getObjects()[0].get("fill")||"";if("string"!==typeof b)return!1;b=b.toLowerCase();return this.getObjects().every(function(a){a=a.get("fill")||
"";return"string"===typeof a&&a.toLowerCase()===b})},complexity:function(){return this.paths.reduce(function(b,a){return b+(a&&a.complexity?a.complexity():0)},0)},getObjects:function(){return this.paths}}),c.PathGroup.fromObject=function(b,a){"string"===typeof b.paths?c.loadSVGFromURL(b.paths,function(e){var d=b.paths;delete b.paths;e=c.util.groupSVGElements(e,b,d);a(e)}):c.util.enlivenObjects(b.paths,function(e){delete b.paths;a(new c.PathGroup(e,b))})},c.PathGroup.async=!0)})("undefined"!==typeof exports?
exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend,d=c.util.array.min,b=c.util.array.max,h=c.util.array.invoke;if(!c.Group){var a={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};c.Group=c.util.createClass(c.Object,c.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,initialize:function(a,b,c){b=b||{};this._objects=[];c&&this.callSuper("initialize",b);this._objects=a||[];for(a=this._objects.length;a--;)this._objects[a].group=this;
this.originalState={};b.originX&&(this.originX=b.originX);b.originY&&(this.originY=b.originY);c?this._updateObjectsCoords(!0):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",b));this.setCoords();this.saveCoords()},_updateObjectsCoords:function(a){for(var b=this.getCenterPoint(),c=this._objects.length;c--;)this._updateObjectCoords(this._objects[c],b,a)},_updateObjectCoords:function(a,b,c){a.__origHasControls=a.hasControls;a.hasControls=!1;if(!c){c=a.getLeft();var e=a.getTop();
a.set({originalLeft:c,originalTop:e,left:c-b.x,top:e-b.y});a.setCoords(!0)}},toString:function(){return"#\x3cfabric.Group: ("+this.complexity()+")\x3e"},addWithUpdate:function(a){this._restoreObjectsState();c.util.resetObjectTransform(this);a&&(this._objects.push(a),a.group=this,a._set("canvas",this.canvas));this.forEachObject(this._setObjectActive,this);this._calcBounds();this._updateObjectsCoords();this.dirty=!0;return this},_setObjectActive:function(a){a.set("active",!0);a.group=this},removeWithUpdate:function(a){this._restoreObjectsState();
c.util.resetObjectTransform(this);this.forEachObject(this._setObjectActive,this);this.remove(a);this._calcBounds();this._updateObjectsCoords();this.dirty=!0;return this},_onObjectAdded:function(a){this.dirty=!0;a.group=this;a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0;delete a.group;a.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},
_set:function(a,b){var c=this._objects.length;if(this.delegatedProperties[a]||"canvas"===a)for(;c--;)this._objects[c].set(a,b);else for(;c--;)this._objects[c].setOnGroup(a,b);this.callSuper("_set",a,b)},toObject:function(a){return g(this.callSuper("toObject",a),{objects:h(this._objects,"toObject",a)})},render:function(a){this._transformDone=!0;this.callSuper("render",a);this._transformDone=!1},drawObject:function(a){for(var b=0,c=this._objects.length;b<c;b++)this._renderObject(this._objects[b],a)},
isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var a=0,b=this._objects.length;a<b;a++)if(this._objects[a].isCacheDirty(!0))return a=this._getNonTransformedDimensions(),this._cacheContext.clearRect(-a.x/2,-a.y/2,a.x,a.y),!0;return!1},_renderControls:function(a,b){a.save();a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;this.callSuper("_renderControls",a,b);b=0;for(var c=this._objects.length;b<c;b++)this._objects[b]._renderControls(a);
a.restore()},_renderObject:function(a,b){if(a.visible){var c=a.hasRotatingPoint;a.hasRotatingPoint=!1;a.render(b);a.hasRotatingPoint=c}},_restoreObjectsState:function(){this._objects.forEach(this._restoreObjectState,this);return this},realizeTransform:function(a){var b=a.calcTransformMatrix(),b=c.util.qrDecompose(b),e=new c.Point(b.translateX,b.translateY);a.flipX=!1;a.flipY=!1;a.set("scaleX",b.scaleX);a.set("scaleY",b.scaleY);a.skewX=b.skewX;a.skewY=b.skewY;a.angle=b.angle;a.setPositionByOrigin(e,
"center","center");return a},_restoreObjectState:function(a){this.realizeTransform(a);a.setCoords();a.hasControls=a.__origHasControls;delete a.__origHasControls;a.set("active",!1);delete a.group;return this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){this._originalLeft=this.get("left");this._originalTop=this.get("top");return this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){this.forEachObject(function(a){a.setCoords(!0)});
return this},_calcBounds:function(a){for(var b=[],c=[],e,d,g=["tr","br","bl","tl"],h=0,f=this._objects.length,v,x=g.length;h<f;++h)for(e=this._objects[h],e.setCoords(!0),v=0;v<x;v++)d=g[v],b.push(e.oCoords[d].x),c.push(e.oCoords[d].y);this.set(this._getBounds(b,c,a))},_getBounds:function(a,g,h){var e=new c.Point(d(a),d(g));a=new c.Point(b(a),b(g));a={width:a.x-e.x||0,height:a.y-e.y||0};h||(a.left=e.x||0,a.top=e.y||0,"center"===this.originX&&(a.left+=a.width/2),"right"===this.originX&&(a.left+=a.width),
"center"===this.originY&&(a.top+=a.height/2),"bottom"===this.originY&&(a.top+=a.height));return a},toSVG:function(a){var b=this._createBaseSVGMarkup();b.push("\x3cg ",this.getSvgId(),'transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style\x3d"',this.getSvgFilter(),'"\x3e\n');for(var c=0,e=this._objects.length;c<e;c++)b.push("\t",this._objects[c].toSVG(a));b.push("\x3c/g\x3e\n");return a?a(b.join("")):b.join("")},get:function(b){if(b in a){if(this[b])return this[b];for(var c=
0,e=this._objects.length;c<e;c++)if(this._objects[c][b])return!0;return!1}return b in this.delegatedProperties?this._objects[0]&&this._objects[0].get(b):this[b]}});c.Group.fromObject=function(a,b){c.util.enlivenObjects(a.objects,function(e){delete a.objects;b&&b(new c.Group(e,a,!0))})};c.Group.async=!0}})("undefined"!==typeof exports?exports:this);
(function(f){var c=fabric.util.object.extend;f.fabric||(f.fabric={});f.fabric.Image?fabric.warn("fabric.Image is already defined."):(f=fabric.Object.prototype.stateProperties.concat(),f.push("alignX","alignY","meetOrSlice"),fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:f,objectCaching:!1,initialize:function(c,d,b){d||(d={});this.filters=
[];this.resizeFilters=[];this.callSuper("initialize",d);this._initElement(c,d,b)},getElement:function(){return this._element},setElement:function(c,d,b){var g;this._originalElement=this._element=c;this._initConfig(b);0===this.resizeFilters.length?c=d:(g=this,c=function(){g.applyFilters(d,g.resizeFilters,g._filteredEl||g._originalElement,!0)});0!==this.filters.length?this.applyFilters(c):c&&c(this);return this},setCrossOrigin:function(c){this.crossOrigin=c;this._element.crossOrigin=c;return this},
getOriginalSize:function(){var c=this.getElement();return{width:c.width,height:c.height}},_stroke:function(c){if(this.stroke&&0!==this.strokeWidth){var d=this.width/2,b=this.height/2;c.beginPath();c.moveTo(-d,-b);c.lineTo(d,-b);c.lineTo(d,b);c.lineTo(-d,b);c.lineTo(-d,-b);c.closePath()}},_renderDashedStroke:function(c){var d=-this.width/2,b=-this.height/2,g=this.width,a=this.height;c.save();this._setStrokeStyles(c);c.beginPath();fabric.util.drawDashedLine(c,d,b,d+g,b,this.strokeDashArray);fabric.util.drawDashedLine(c,
d+g,b,d+g,b+a,this.strokeDashArray);fabric.util.drawDashedLine(c,d+g,b+a,d,b+a,this.strokeDashArray);fabric.util.drawDashedLine(c,d,b+a,d,b,this.strokeDashArray);c.closePath();c.restore()},toObject:function(g){var d=[],b=[],h=1,a=1;this.filters.forEach(function(b){b&&("Resize"===b.type&&(h*=b.scaleX,a*=b.scaleY),d.push(b.toObject()))});this.resizeFilters.forEach(function(a){a&&b.push(a.toObject())});g=c(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(g)),{src:this.getSrc(),
filters:d,resizeFilters:b});g.width/=h;g.height/=a;return g},toSVG:function(c){var d=this._createBaseSVGMarkup(),b=-this.width/2,g=-this.height/2,a="none";this.group&&"path-group"===this.group.type&&(b=this.left,g=this.top);"none"!==this.alignX&&"none"!==this.alignY&&(a="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice);d.push('\x3cg transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"\x3e\n',"\x3cimage ",this.getSvgId(),'xlink:href\x3d"',this.getSvgSrc(!0),'" x\x3d"',b,'" y\x3d"',
g,'" style\x3d"',this.getSvgStyles(),'" width\x3d"',this.width,'" height\x3d"',this.height,'" preserveAspectRatio\x3d"',a,'"',"\x3e\x3c/image\x3e\n");if(this.stroke||this.strokeDashArray)a=this.fill,this.fill=null,d.push("\x3crect ",'x\x3d"',b,'" y\x3d"',g,'" width\x3d"',this.width,'" height\x3d"',this.height,'" style\x3d"',this.getSvgStyles(),'"/\x3e\n'),this.fill=a;d.push("\x3c/g\x3e\n");return c?c(d.join("")):d.join("")},getSrc:function(c){return(c=c?this._element:this._originalElement)?fabric.isLikelyNode?
c._src:c.src:this.src||""},setSrc:function(c,d,b){fabric.util.loadImage(c,function(c){return this.setElement(c,d,b)},this,b&&b.crossOrigin)},toString:function(){return'#\x3cfabric.Image: { src: "'+this.getSrc()+'" }\x3e'},applyFilters:function(c,d,b,h){d=d||this.filters;if(b=b||this._originalElement){var a=fabric.util.createImage(),e=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,g=this.minimumScaleTrigger/e,f=this,m,p;if(0===d.length)return this._element=b,c&&c(this),b;var q=
fabric.util.createCanvasElement();q.width=b.width;q.height=b.height;q.getContext("2d").drawImage(b,0,0,b.width,b.height);d.forEach(function(a){a&&(h?(m=f.scaleX<g?f.scaleX:1,p=f.scaleY<g?f.scaleY:1,1>m*e&&(m*=e),1>p*e&&(p*=e)):(m=a.scaleX,p=a.scaleY),a.applyTo(q,m,p),h||"Resize"!==a.type||(f.width*=a.scaleX,f.height*=a.scaleY))});a.width=q.width;a.height=q.height;fabric.isLikelyNode?(a.src=q.toBuffer(void 0,fabric.Image.pngCompression),f._element=a,!h&&(f._filteredEl=a),c&&c(f)):(a.onload=function(){f._element=
a;!h&&(f._filteredEl=a);c&&c(f);a.onload=q=null},a.src=q.toDataURL("image/png"));return q}},_render:function(c,d){var b,g=this._findMargins(),a;b=d?this.left:-this.width/2;d=d?this.top:-this.height/2;"slice"===this.meetOrSlice&&(c.beginPath(),c.rect(b,d,this.width,this.height),c.clip());!1===this.isMoving&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,a=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):
a=this._element;a&&c.drawImage(a,b+g.marginX,d+g.marginY,g.width,g.height);this._stroke(c);this._renderStroke(c)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var c=this.width,d=this.height,b=0,h=0;if("none"!==this.alignX||"none"!==this.alignY)c=[this.width/this._element.width,this.height/this._element.height],d="meet"===this.meetOrSlice?Math.min.apply(null,c):Math.max.apply(null,c),c=this._element.width*d,d*=this._element.height,
"Mid"===this.alignX&&(b=(this.width-c)/2),"Max"===this.alignX&&(b=this.width-c),"Mid"===this.alignY&&(h=(this.height-d)/2),"Max"===this.alignY&&(h=this.height-d);return{width:c,height:d,marginX:b,marginY:h}},_resetWidthHeight:function(){var c=this.getElement();this.set("width",c.width);this.set("height",c.height)},_initElement:function(c,d,b){this.setElement(fabric.util.getById(c),b,d);fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={});this.setOptions(c);
this._setWidthHeight(c);this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(c,d){c&&c.length?fabric.util.enlivenObjects(c,function(b){d&&d(b)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(c){this.width="width"in c?c.width:this.getElement()?this.getElement().width||0:0;this.height="height"in c?c.height:this.getElement()?this.getElement().height||0:0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=
fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(c,d){fabric.util.loadImage(c.src,function(b){fabric.Image.prototype._initFilters.call(c,c.filters,function(h){c.filters=h||[];fabric.Image.prototype._initFilters.call(c,c.resizeFilters,function(a){c.resizeFilters=a||[];return new fabric.Image(b,c,d)})})},null,c.crossOrigin)},fabric.Image.fromURL=function(c,d,b){fabric.util.loadImage(c,function(c){d&&d(new fabric.Image(c,b))},null,b&&b.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),
fabric.Image.fromElement=function(g,d,b){g=fabric.parseAttributes(g,fabric.Image.ATTRIBUTE_NAMES);var h;g.preserveAspectRatio&&(h=fabric.util.parsePreserveAspectRatioAttribute(g.preserveAspectRatio),c(g,h));fabric.Image.fromURL(g["xlink:href"],d,c(b?fabric.util.object.clone(b):{},g))},fabric.Image.async=!0,fabric.Image.pngCompression=1)})("undefined"!==typeof exports?exports:this);
fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var f=this.getAngle()%360;return 0<f?90*Math.round((f-1)/90):90*Math.round(f/90)},straighten:function(){this.setAngle(this._getAngleValueForStraighten());return this},fxStraighten:function(f){f=f||{};var c=function(){},g=f.onComplete||c,d=f.onChange||c,b=this;fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){b.setAngle(c);
d()},onComplete:function(){b.setCoords();g()},onStart:function(){b.set("active",!1)}});return this}});fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(f){f.straighten();this.renderAll();return this},fxStraightenObject:function(f){f.fxStraighten({onChange:this.renderAll.bind(this)});return this}});fabric.Image.filters=fabric.Image.filters||{};
fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(f){f&&this.setOptions(f)},setOptions:function(f){for(var c in f)this[c]=f[c]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}});
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Brightness=d(f.BaseFilter,{type:"Brightness",initialize:function(b){b=b||{};this.brightness=b.brightness||0},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);for(var a=b.data,e=this.brightness,d=0,g=a.length;d<g;d+=4)a[d]+=e,a[d+1]+=e,a[d+2]+=e;c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{brightness:this.brightness})}});
c.Image.filters.Brightness.fromObject=function(b){return new c.Image.filters.Brightness(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Convolute=d(f.BaseFilter,{type:"Convolute",initialize:function(b){b=b||{};this.opaque=b.opaque;this.matrix=b.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(b){var c=this.matrix,a=b.getContext("2d"),e=a.getImageData(0,0,b.width,b.height);b=Math.round(Math.sqrt(c.length));for(var d=Math.floor(b/2),g=e.data,f=e.width,e=e.height,p=a.createImageData(f,e),q=p.data,t=this.opaque?1:0,u,v,x,w,B,A,
C,y=0;y<e;y++)for(var I=0;I<f;I++){B=4*(y*f+I);for(var z=w=x=v=u=0;z<b;z++)for(var D=0;D<b;D++)C=y+z-d,A=I+D-d,0>C||C>e||0>A||A>f||(A=4*(C*f+A),C=c[z*b+D],u+=g[A]*C,v+=g[A+1]*C,x+=g[A+2]*C,w+=g[A+3]*C);q[B]=u;q[B+1]=v;q[B+2]=x;q[B+3]=w+t*(255-w)}a.putImageData(p,0,0)},toObject:function(){return g(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}});c.Image.filters.Convolute.fromObject=function(b){return new c.Image.filters.Convolute(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.GradientTransparency=d(f.BaseFilter,{type:"GradientTransparency",initialize:function(b){b=b||{};this.threshold=b.threshold||100},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);for(var a=b.data,e=this.threshold,d=a.length,g=0,f=a.length;g<f;g+=4)a[g+3]=e+255*(d-g)/d;c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{threshold:this.threshold})}});
c.Image.filters.GradientTransparency.fromObject=function(b){return new c.Image.filters.GradientTransparency(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={});f=c.Image.filters;var g=c.util.createClass;f.Grayscale=g(f.BaseFilter,{type:"Grayscale",applyTo:function(c){var b=c.getContext("2d");c=b.getImageData(0,0,c.width,c.height);for(var d=c.data,a=c.width*c.height*4,e=0,g;e<a;)g=(d[e]+d[e+1]+d[e+2])/3,d[e]=g,d[e+1]=g,d[e+2]=g,e+=4;b.putImageData(c,0,0)}});c.Image.filters.Grayscale.fromObject=function(){return new c.Image.filters.Grayscale}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={});f=c.Image.filters;var g=c.util.createClass;f.Invert=g(f.BaseFilter,{type:"Invert",applyTo:function(c){var b=c.getContext("2d");c=b.getImageData(0,0,c.width,c.height);var d=c.data,a=d.length,e;for(e=0;e<a;e+=4)d[e]=255-d[e],d[e+1]=255-d[e+1],d[e+2]=255-d[e+2];b.putImageData(c,0,0)}});c.Image.filters.Invert.fromObject=function(){return new c.Image.filters.Invert}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Mask=d(f.BaseFilter,{type:"Mask",initialize:function(b){b=b||{};this.mask=b.mask;this.channel=-1<[0,1,2,3].indexOf(b.channel)?b.channel:0},applyTo:function(b){if(this.mask){var d=b.getContext("2d"),a=d.getImageData(0,0,b.width,b.height),e=a.data,g=this.mask.getElement(),f=c.util.createCanvasElement(),m=this.channel,p=a.width*a.height*4;f.width=b.width;f.height=b.height;f.getContext("2d").drawImage(g,
0,0,b.width,b.height);g=f.getContext("2d").getImageData(0,0,b.width,b.height).data;for(b=0;b<p;b+=4)e[b+3]=g[b+m];d.putImageData(a,0,0)}},toObject:function(){return g(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}});c.Image.filters.Mask.fromObject=function(b,d){c.util.loadImage(b.mask.src,function(a){b.mask=new c.Image(a,b.mask);d&&d(new c.Image.filters.Mask(b))})};c.Image.filters.Mask.async=!0})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Noise=d(f.BaseFilter,{type:"Noise",initialize:function(b){b=b||{};this.noise=b.noise||0},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);for(var a=b.data,e=this.noise,d,g=0,f=a.length;g<f;g+=4)d=(.5-Math.random())*e,a[g]+=d,a[g+1]+=d,a[g+2]+=d;c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{noise:this.noise})}});c.Image.filters.Noise.fromObject=
function(b){return new c.Image.filters.Noise(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Pixelate=d(f.BaseFilter,{type:"Pixelate",initialize:function(b){b=b||{};this.blocksize=b.blocksize||4},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);var a=b.data,e=b.height,d=b.width,g,f,p,q,t,u,v;for(f=0;f<e;f+=this.blocksize)for(p=0;p<d;p+=this.blocksize){g=4*f*d+4*p;q=a[g];t=a[g+1];u=a[g+2];v=a[g+3];for(var x=f,w=f+this.blocksize;x<w;x++)for(var B=
p,A=p+this.blocksize;B<A;B++)g=4*x*d+4*B,a[g]=q,a[g+1]=t,a[g+2]=u,a[g+3]=v}c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{blocksize:this.blocksize})}});c.Image.filters.Pixelate.fromObject=function(b){return new c.Image.filters.Pixelate(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.RemoveWhite=d(f.BaseFilter,{type:"RemoveWhite",initialize:function(b){b=b||{};this.threshold=b.threshold||30;this.distance=b.distance||20},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);for(var a=b.data,e=this.distance,d=255-this.threshold,g=Math.abs,f,p,q,t=0,u=a.length;t<u;t+=4)f=a[t],p=a[t+1],q=a[t+2],f>d&&p>d&&q>d&&g(f-p)<e&&g(f-q)<e&&g(p-q)<e&&(a[t+
3]=0);c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}});c.Image.filters.RemoveWhite.fromObject=function(b){return new c.Image.filters.RemoveWhite(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={});f=c.Image.filters;var g=c.util.createClass;f.Sepia=g(f.BaseFilter,{type:"Sepia",applyTo:function(c){var b=c.getContext("2d");c=b.getImageData(0,0,c.width,c.height);var d=c.data,a=d.length,e,g;for(e=0;e<a;e+=4)g=.3*d[e]+.59*d[e+1]+.11*d[e+2],d[e]=g+100,d[e+1]=g+50,d[e+2]=g+255;b.putImageData(c,0,0)}});c.Image.filters.Sepia.fromObject=function(){return new c.Image.filters.Sepia}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={});f=c.Image.filters;var g=c.util.createClass;f.Sepia2=g(f.BaseFilter,{type:"Sepia2",applyTo:function(c){var b=c.getContext("2d");c=b.getImageData(0,0,c.width,c.height);var d=c.data,a=d.length,e,g,f,m;for(e=0;e<a;e+=4)g=d[e],f=d[e+1],m=d[e+2],d[e]=(.393*g+.769*f+.189*m)/1.351,d[e+1]=(.349*g+.686*f+.168*m)/1.203,d[e+2]=(.272*g+.534*f+.131*m)/2.14;b.putImageData(c,0,0)}});c.Image.filters.Sepia2.fromObject=function(){return new c.Image.filters.Sepia2}})("undefined"!==
typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Tint=d(f.BaseFilter,{type:"Tint",initialize:function(b){b=b||{};this.color=b.color||"#000000";this.opacity="undefined"!==typeof b.opacity?b.opacity:(new c.Color(this.color)).getAlpha()},applyTo:function(b){var d=b.getContext("2d");b=d.getImageData(0,0,b.width,b.height);var a=b.data,e=a.length,g,f,m,p,q,t,u,v;g=(new c.Color(this.color)).getSource();f=g[0]*this.opacity;m=g[1]*this.opacity;
p=g[2]*this.opacity;v=1-this.opacity;for(g=0;g<e;g+=4)q=a[g],t=a[g+1],u=a[g+2],a[g]=f+q*v,a[g+1]=m+t*v,a[g+2]=p+u*v;d.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}});c.Image.filters.Tint.fromObject=function(b){return new c.Image.filters.Tint(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Multiply=d(f.BaseFilter,{type:"Multiply",initialize:function(b){b=b||{};this.color=b.color||"#000000"},applyTo:function(b){var d=b.getContext("2d");b=d.getImageData(0,0,b.width,b.height);var a=b.data,e=a.length,g,f;f=(new c.Color(this.color)).getSource();for(g=0;g<e;g+=4)a[g]*=f[0]/255,a[g+1]*=f[1]/255,a[g+2]*=f[2]/255;d.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),
{color:this.color})}});c.Image.filters.Multiply.fromObject=function(b){return new c.Image.filters.Multiply(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric;f=c.Image.filters;var g=c.util.createClass;f.Blend=g(f.BaseFilter,{type:"Blend",initialize:function(c){c=c||{};this.color=c.color||"#000";this.image=c.image||!1;this.mode=c.mode||"multiply";this.alpha=c.alpha||1},applyTo:function(d){var b=d.getContext("2d");d=b.getImageData(0,0,d.width,d.height);var g=d.data,a,e,f,n,m,p,q,t=!1;this.image?(t=!0,q=c.util.createCanvasElement(),q.width=this.image.width,q.height=this.image.height,q=new c.StaticCanvas(q),q.add(this.image),q=
q.getContext("2d").getImageData(0,0,q.width,q.height).data):(q=(new c.Color(this.color)).getSource(),a=q[0]*this.alpha,e=q[1]*this.alpha,f=q[2]*this.alpha);for(var u=0,v=g.length;u<v;u+=4)switch(n=g[u],m=g[u+1],p=g[u+2],t&&(a=q[u]*this.alpha,e=q[u+1]*this.alpha,f=q[u+2]*this.alpha),this.mode){case "multiply":g[u]=n*a/255;g[u+1]=m*e/255;g[u+2]=p*f/255;break;case "screen":g[u]=1-(1-n)*(1-a);g[u+1]=1-(1-m)*(1-e);g[u+2]=1-(1-p)*(1-f);break;case "add":g[u]=Math.min(255,n+a);g[u+1]=Math.min(255,m+e);g[u+
2]=Math.min(255,p+f);break;case "diff":case "difference":g[u]=Math.abs(n-a);g[u+1]=Math.abs(m-e);g[u+2]=Math.abs(p-f);break;case "subtract":n-=a;m-=e;p-=f;g[u]=0>n?0:n;g[u+1]=0>m?0:m;g[u+2]=0>p?0:p;break;case "darken":g[u]=Math.min(n,a);g[u+1]=Math.min(m,e);g[u+2]=Math.min(p,f);break;case "lighten":g[u]=Math.max(n,a),g[u+1]=Math.max(m,e),g[u+2]=Math.max(p,f)}b.putImageData(d,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}});c.Image.filters.Blend.fromObject=
function(d){return new c.Image.filters.Blend(d)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=Math.pow,d=Math.floor,b=Math.sqrt,h=Math.abs,a=Math.max,e=Math.round,l=Math.sin,n=Math.ceil;f=c.Image.filters;var m=c.util.createClass;f.Resize=m(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(a,b,c){if(1!==b||1!==c){this.rcpScaleX=1/b;this.rcpScaleY=1/c;var d=a.width,g=a.height;b=e(d*b);c=e(g*c);var f;"sliceHack"===this.resizeType&&(f=this.sliceByTwo(a,d,g,b,c));"hermite"===this.resizeType&&(f=this.hermiteFastResize(a,
d,g,b,c));"bilinear"===this.resizeType&&(f=this.bilinearFiltering(a,d,g,b,c));"lanczos"===this.resizeType&&(f=this.lanczosResize(a,d,g,b,c));a.width=b;a.height=c;a.getContext("2d").putImageData(f,0,0)}},sliceByTwo:function(b,e,g,f,h){var l=b.getContext("2d"),n,m=.5,p=.5,q=1,t=1,u=!1,v=!1,D=e,K=g,F=c.util.createCanvasElement(),O=F.getContext("2d");f=d(f);h=d(h);F.width=a(f,e);F.height=a(h,g);f>e&&(m=2,q=-1);h>g&&(p=2,t=-1);n=l.getImageData(0,0,e,g);b.width=a(f,e);b.height=a(h,g);for(l.putImageData(n,
0,0);!u||!v;)e=D,g=K,f*q<d(D*m*q)?D=d(D*m):(D=f,u=!0),h*t<d(K*p*t)?K=d(K*p):(K=h,v=!0),n=l.getImageData(0,0,e,g),O.putImageData(n,0,0),l.clearRect(0,0,D,K),l.drawImage(F,0,0,e,g,0,0,D,K);return l.getImageData(0,0,f,h)},lanczosResize:function(a,c,e,f,m){var p,q,t,u;function v(a){var l,n,x,w,y,C,A,B,T,ca;t=(a+.5)*F;p=d(t);for(l=0;l<m;l++){u=(l+.5)*O;q=d(u);T=B=A=C=y=0;for(n=p-Q;n<=p+Q;n++)if(!(0>n||n>=c)){ca=d(1E3*h(n-t));S[ca]||(S[ca]={});for(var da=q-R;da<=q+R;da++)0>da||da>=e||(x=d(1E3*h(da-u)),
S[ca][x]||(S[ca][x]=K(b(g(ca*L,2)+g(x*J,2))/1E3)),x=S[ca][x],0<x&&(w=4*(da*c+n),y+=x,C+=x*z[w],A+=x*z[w+1],B+=x*z[w+2],T+=x*z[w+3]))}w=4*(l*f+a);D[w]=C/y;D[w+1]=A/y;D[w+2]=B/y;D[w+3]=T/y}return++a<f?v(a):I}a=a.getContext("2d");var y=a.getImageData(0,0,c,e),I=a.getImageData(0,0,f,m),z=y.data,D=I.data,K=function(a){return function(b){if(b>a)return 0;b*=Math.PI;if(1e-16>h(b))return 1;var c=b/a;return l(b)*l(c)/b/c}}(this.lanczosLobes),F=this.rcpScaleX,O=this.rcpScaleY,L=2/this.rcpScaleX,J=2/this.rcpScaleY,
Q=n(F*this.lanczosLobes/2),R=n(O*this.lanczosLobes/2),S={};q=p=u=t=void 0;return v(0)},bilinearFiltering:function(a,b,c,e,g){var f,h,l,n,m,p,q,t,u,v,F=0,O=this.rcpScaleX,L=this.rcpScaleY;q=a.getContext("2d");a=4*(b-1);c=q.getImageData(0,0,b,c).data;var J=q.getImageData(0,0,e,g),Q=J.data;for(q=0;q<g;q++)for(t=0;t<e;t++)for(m=d(O*t),p=d(L*q),u=O*t-m,v=L*q-p,p=4*(p*b+m),m=0;4>m;m++)f=c[p+m],h=c[p+4+m],l=c[p+a+m],n=c[p+a+4+m],f=f*(1-u)*(1-v)+h*u*(1-v)+l*v*(1-u)+n*u*v,Q[F++]=f;return J},hermiteFastResize:function(a,
c,e,g,f){var l=this.rcpScaleX,m=this.rcpScaleY,p=n(l/2),q=n(m/2);a=a.getContext("2d");e=a.getImageData(0,0,c,e).data;a=a.getImageData(0,0,g,f);for(var t=a.data,u=0;u<f;u++)for(var v=0;v<g;v++){for(var z=4*(v+u*g),D,K=0,F=0,O=0,L=0,J=0,Q=0,R=(u+.5)*m,S=d(u*m);S<(u+1)*m;S++)for(var T=h(R-(S+.5))/q,X=(v+.5)*l,T=T*T,Z=d(v*l);Z<(v+1)*l;Z++){var M=h(X-(Z+.5))/p;D=b(T+M*M);1<D&&-1>D||(D=2*D*D*D-3*D*D+1,0<D&&(M=4*(Z+S*c),Q+=D*e[M+3],F+=D,255>e[M+3]&&(D=D*e[M+3]/250),O+=D*e[M],L+=D*e[M+1],J+=D*e[M+2],K+=D))}t[z]=
O/K;t[z+1]=L/K;t[z+2]=J/K;t[z+3]=Q/F}return a},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}});c.Image.filters.Resize.fromObject=function(a){return new c.Image.filters.Resize(a)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.ColorMatrix=d(f.BaseFilter,{type:"ColorMatrix",initialize:function(b){b||(b={});this.matrix=b.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);var a=b.data,e=a.length,d,g,f,p,q,t=this.matrix;for(d=0;d<e;d+=4)g=a[d],f=a[d+1],p=a[d+2],q=a[d+3],a[d]=g*t[0]+f*t[1]+p*t[2]+q*t[3]+t[4],a[d+1]=g*t[5]+f*t[6]+p*t[7]+
q*t[8]+t[9],a[d+2]=g*t[10]+f*t[11]+p*t[12]+q*t[13]+t[14],a[d+3]=g*t[15]+f*t[16]+p*t[17]+q*t[18]+t[19];c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}});c.Image.filters.ColorMatrix.fromObject=function(b){return new c.Image.filters.ColorMatrix(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Contrast=d(f.BaseFilter,{type:"Contrast",initialize:function(b){b=b||{};this.contrast=b.contrast||0},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);for(var a=b.data,e=259*(this.contrast+255)/(255*(259-this.contrast)),d=0,g=a.length;d<g;d+=4)a[d]=e*(a[d]-128)+128,a[d+1]=e*(a[d+1]-128)+128,a[d+2]=e*(a[d+2]-128)+128;c.putImageData(b,0,0)},toObject:function(){return g(this.callSuper("toObject"),
{contrast:this.contrast})}});c.Image.filters.Contrast.fromObject=function(b){return new c.Image.filters.Contrast(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.extend;f=c.Image.filters;var d=c.util.createClass;f.Saturate=d(f.BaseFilter,{type:"Saturate",initialize:function(b){b=b||{};this.saturate=b.saturate||0},applyTo:function(b){var c=b.getContext("2d");b=c.getImageData(0,0,b.width,b.height);for(var a=b.data,d,g=.01*-this.saturate,f=0,m=a.length;f<m;f+=4)d=Math.max(a[f],a[f+1],a[f+2]),a[f]+=d!==a[f]?(d-a[f])*g:0,a[f+1]+=d!==a[f+1]?(d-a[f+1])*g:0,a[f+2]+=d!==a[f+2]?(d-a[f+2])*g:0;c.putImageData(b,
0,0)},toObject:function(){return g(this.callSuper("toObject"),{saturate:this.saturate})}});c.Image.filters.Saturate.fromObject=function(b){return new c.Image.filters.Saturate(b)}})("undefined"!==typeof exports?exports:this);
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.clone,d=c.util.toFixed,b=c.Object.NUM_FRACTION_DIGITS;if(c.Text)c.warn("fabric.Text is already defined");else{f=c.Object.prototype.stateProperties.concat();f.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing");var h=c.Object.prototype.cacheProperties.concat();h.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight",
"textBackgroundColor","charSpacing","styles");c.Text=c.util.createClass(c.Object,{_dimensionAffectingProps:"fontSize fontWeight fontFamily fontStyle lineHeight text charSpacing textAlign".split(" "),_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:f,cacheProperties:h,stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,
charSpacing:0,initialize:function(a,b){b=b||{};this.text=a;this.__skipDimension=!0;this.callSuper("initialize",b);this.__skipDimension=!1;this._initDimensions();this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(a){this.__skipDimension||(a||(a=c.util.createCanvasElement().getContext("2d"),this._setTextStyles(a)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(a)||this.cursorWidth||2,this.height=this._getTextHeight(a))},toString:function(){return"#\x3cfabric.Text ("+
this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }\x3e'},_render:function(a){this._setTextStyles(a);this.group&&"path-group"===this.group.type&&a.translate(this.left,this.top);this._renderTextLinesBackground(a);this._renderText(a);this._renderTextDecoration(a)},_renderText:function(a){this._renderTextFill(a);this._renderTextStroke(a)},_setTextStyles:function(a){a.textBaseline="alphabetic";a.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+
(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(a){for(var b=this._getLineWidth(a,0),c=1,d=this._textLines.length;c<d;c++){var g=this._getLineWidth(a,c);g>b&&(b=g)}return b},_renderChars:function(a,b,c,d,g){var e=a.slice(0,-4),f,h;this[e].toLive&&(f=-this.width/2+this[e].offsetX||0,h=-this.height/2+this[e].offsetY||0,b.save(),b.translate(f,h),d-=f,g-=h);if(0!==this.charSpacing){var l=this._getWidthOfCharSpacing();c=c.split("");for(var m=0,n=c.length;m<n;m++)f=c[m],h=b.measureText(f).width+
l,b[a](f,d,g),d+=0<h?h:0}else b[a](c,d,g);this[e].toLive&&b.restore()},_renderTextLine:function(a,b,c,d,g,f){g-=this.fontSize*this._fontSizeFraction;var e=this._getLineWidth(b,f);if("justify"!==this.textAlign||this.width<e)this._renderChars(a,b,c,d,g,f);else for(var e=c.split(/\s+/),h=0,l=this._getWidthOfWords(b,e.join(" "),f,0),l=this.width-l,m=e.length-1,l=0<m?l/m:0,m=0,n,p=0,B=e.length;p<B;p++){for(;" "===c[h]&&h<c.length;)h++;n=e[p];this._renderChars(a,b,n,d+m,g,f,h);m+=this._getWidthOfWords(b,
n,f,h)+l;h+=n.length}},_getWidthOfWords:function(a,b){a=a.measureText(b).width;0!==this.charSpacing&&(b=b.split("").length,b*=this._getWidthOfCharSpacing(),a+=b);return 0<a?a:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(a,b){for(var c=0,d=this._getLeftOffset(),e=this._getTopOffset(),g=0,f=this._textLines.length;g<f;g++){var h=this._getHeightOfLine(a,g),u=h/this.lineHeight,v=this._getLineWidth(a,
g),v=this._getLineLeftOffset(v);this._renderTextLine(b,a,this._textLines[g],d+v,e+c+u,g);c+=h}},_renderTextFill:function(a){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){if(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore()},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*
this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(a){if(this.textBackgroundColor){var b=0,c,d,g,f=a.fillStyle;a.fillStyle=this.textBackgroundColor;for(var h=0,t=this._textLines.length;h<t;h++)c=this._getHeightOfLine(a,h),d=this._getLineWidth(a,h),0<d&&(g=this._getLineLeftOffset(d),a.fillRect(this._getLeftOffset()+g,this._getTopOffset()+b,d,c/this.lineHeight)),b+=c;a.fillStyle=f;this._removeShadow(a)}},_getLineLeftOffset:function(a){return"center"===
this.textAlign?(this.width-a)/2:"right"===this.textAlign?this.width-a:0},_clearCache:function(){this.__lineWidths=[];this.__lineHeights=[]},_shouldClearDimensionCache:function(){var a;if(this._forceClearCache)return this._forceClearCache=!1,this.dirty=!0;if(a=this.hasStateChanged("_dimensionAffectingProps"))this.saveState({propertySet:"_dimensionAffectingProps"}),this.dirty=!0;return a},_getLineWidth:function(a,b){if(this.__lineWidths[b])return-1===this.__lineWidths[b]?this.width:this.__lineWidths[b];
var c;c=this._textLines[b];a=""===c?0:this._measureLine(a,b);(this.__lineWidths[b]=a)&&"justify"===this.textAlign&&(c=c.split(/\s+/),1<c.length&&(this.__lineWidths[b]=-1));return a},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1E3:0},_measureLine:function(a,b){b=this._textLines[b];a=a.measureText(b).width;var c=0;0!==this.charSpacing&&(b=b.split("").length,c=(b-1)*this._getWidthOfCharSpacing());b=a+c;return 0<b?b:0},_renderTextDecoration:function(a){if(this.textDecoration){var b=
this.height/2,c=[];-1<this.textDecoration.indexOf("underline")&&c.push(.85);-1<this.textDecoration.indexOf("line-through")&&c.push(.43);-1<this.textDecoration.indexOf("overline")&&c.push(-.12);if(0<c.length){var d,g=0,f,h,t,u,v,x;d=0;for(f=this._textLines.length;d<f;d++){u=this._getLineWidth(a,d);v=this._getLineLeftOffset(u);x=this._getHeightOfLine(a,d);h=0;for(t=c.length;h<t;h++)a.fillRect(this._getLeftOffset()+v,g+(this._fontSizeMult-1+c[h])*this.fontSize-b,u,this.fontSize/15);g+=x}}}},_getFontDeclaration:function(){return[c.isLikelyNode?
this.fontWeight:this.fontStyle,c.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",c.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(a,b){this.visible&&(this._shouldClearDimensionCache()&&(this._setTextStyles(a),this._initDimensions(a)),this.callSuper("render",a,b))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(a){a="text fontSize fontWeight fontFamily fontStyle lineHeight textDecoration textAlign textBackgroundColor charSpacing".split(" ").concat(a);
return this.callSuper("toObject",a)},toSVG:function(a){this.ctx||(this.ctx=c.util.createCanvasElement().getContext("2d"));var b=this._createBaseSVGMarkup(),d=this._getSVGLeftTopOffsets(this.ctx),d=this._getSVGTextAndBg(d.textTop,d.textLeft);this._wrapSVGTextAndBg(b,d);return a?a(b.join("")):b.join("")},_getSVGLeftTopOffsets:function(a){a=this._getHeightOfLine(a,0);return{textLeft:-this.width/2+(this.group&&"path-group"===this.group.type?this.left:0),textTop:0+(this.group&&"path-group"===this.group.type?
-this.top:0),lineTop:a}},_wrapSVGTextAndBg:function(a,b){var c=this.getSvgFilter(),c=""===c?"":' style\x3d"'+c+'"';a.push("\t\x3cg ",this.getSvgId(),'transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',c,"\x3e\n",b.textBgRects.join(""),"\t\t\x3ctext ",this.fontFamily?'font-family\x3d"'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size\x3d"'+this.fontSize+'" ':"",this.fontStyle?'font-style\x3d"'+this.fontStyle+'" ':"",this.fontWeight?'font-weight\x3d"'+this.fontWeight+
'" ':"",this.textDecoration?'text-decoration\x3d"'+this.textDecoration+'" ':"",'style\x3d"',this.getSvgStyles(!0),'" \x3e\n',b.textSpans.join(""),"\t\t\x3c/text\x3e\n","\t\x3c/g\x3e\n")},_getSVGTextAndBg:function(a,b){var c=[],d=[],e=0;this._setSVGBg(d);for(var g=0,f=this._textLines.length;g<f;g++)this.textBackgroundColor&&this._setSVGTextLineBg(d,g,b,a,e),this._setSVGTextLineText(g,c,e,b,a,d),e+=this._getHeightOfLine(this.ctx,g);return{textSpans:c,textBgRects:d}},_setSVGTextLineText:function(a,e,
g,f,h){g=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-h+g-this.height/2;"justify"===this.textAlign?this._setSVGTextLineJustifed(a,e,g,f):e.push('\t\t\t\x3ctspan x\x3d"',d(f+this._getLineLeftOffset(this._getLineWidth(this.ctx,a)),b),'" ','y\x3d"',d(g,b),'" ',this._getFillAttributes(this.fill),"\x3e",c.util.string.escapeXml(this._textLines[a]),"\x3c/tspan\x3e\n")},_setSVGTextLineJustifed:function(a,e,g,f){var h=c.util.createCanvasElement().getContext("2d");this._setTextStyles(h);var l=
this._textLines[a].split(/\s+/),n=this._getWidthOfWords(h,l.join("")),n=this.width-n,t=l.length-1,n=0<t?n/t:0,u=this._getFillAttributes(this.fill),v;f+=this._getLineLeftOffset(this._getLineWidth(h,a));a=0;for(v=l.length;a<v;a++)t=l[a],e.push('\t\t\t\x3ctspan x\x3d"',d(f,b),'" ','y\x3d"',d(g,b),'" ',u,"\x3e",c.util.string.escapeXml(t),"\x3c/tspan\x3e\n"),f+=this._getWidthOfWords(h,t)+n},_setSVGTextLineBg:function(a,c,g,f,h){a.push("\t\t\x3crect ",this._getFillAttributes(this.textBackgroundColor),' x\x3d"',
d(g+this._getLineLeftOffset(this._getLineWidth(this.ctx,c)),b),'" y\x3d"',d(h-this.height/2,b),'" width\x3d"',d(this._getLineWidth(this.ctx,c),b),'" height\x3d"',d(this._getHeightOfLine(this.ctx,c)/this.lineHeight,b),'"\x3e\x3c/rect\x3e\n')},_setSVGBg:function(a){this.backgroundColor&&a.push("\t\t\x3crect ",this._getFillAttributes(this.backgroundColor),' x\x3d"',d(-this.width/2,b),'" y\x3d"',d(-this.height/2,b),'" width\x3d"',d(this.width,b),'" height\x3d"',d(this.height,b),'"\x3e\x3c/rect\x3e\n')},
_getFillAttributes:function(a){var b=a&&"string"===typeof a?new c.Color(a):"";return b&&b.getSource()&&1!==b.getAlpha()?'opacity\x3d"'+b.getAlpha()+'" fill\x3d"'+b.setAlpha(1).toRgb()+'"':'fill\x3d"'+a+'"'},_set:function(a,b){this.callSuper("_set",a,b);-1<this._dimensionAffectingProps.indexOf(a)&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}});c.Text.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" "));
c.Text.DEFAULT_SVG_FONT_SIZE=16;c.Text.fromElement=function(a,b){if(!a)return null;var d=c.parseAttributes(a,c.Text.ATTRIBUTE_NAMES);b=c.util.object.extend(b?c.util.object.clone(b):{},d);b.top=b.top||0;b.left=b.left||0;"dx"in d&&(b.left+=d.dx);"dy"in d&&(b.top+=d.dy);"fontSize"in b||(b.fontSize=c.Text.DEFAULT_SVG_FONT_SIZE);b.originX||(b.originX="left");d="";"textContent"in a?d=a.textContent:"firstChild"in a&&null!==a.firstChild&&"data"in a.firstChild&&null!==a.firstChild.data&&(d=a.firstChild.data);
d=d.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");a=new c.Text(d,b);b=a.getHeight()/a.height;b*=(a.height+a.strokeWidth)*a.lineHeight-a.height;b=a.getHeight()+b;d=0;"left"===a.originX&&(d=a.getWidth()/2);"right"===a.originX&&(d=-a.getWidth()/2);a.set({left:a.getLeft()+d,top:a.getTop()-b/2+a.fontSize*(.18+a._fontSizeFraction)/a.lineHeight});return a};c.Text.fromObject=function(a,b){a=new c.Text(a.text,g(a));b&&b(a);return a};c.util.createAccessors(c.Text)}})("undefined"!==typeof exports?exports:
this);
(function(){var f=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1E3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(c,g){this.styles=g?
g.styles||{}:{};this.callSuper("initialize",c,g);this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache");this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var c=this.styles,g;for(g in c)for(var d in c[g])for(var b in c[g][d])return!1;return!0},setSelectionStart:function(c){c=Math.max(c,0);this._updateAndFire("selectionStart",c)},setSelectionEnd:function(c){c=Math.min(c,this.text.length);this._updateAndFire("selectionEnd",c)},_updateAndFire:function(c,g){this[c]!==
g&&(this._fireSelectionChanged(),this[c]=g);this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed");this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(c,g){if(2===arguments.length){for(var d=[],b=c;b<g;b++)d.push(this.getSelectionStyles(b));return d}d=this.get2DCursorLocation(c);return this._getStyleDeclaration(d.lineIndex,d.charIndex)||{}},setSelectionStyles:function(c){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,
c);else for(var g=this.selectionStart;g<this.selectionEnd;g++)this._extendStyles(g,c);this._forceClearCache=!0;return this},_extendStyles:function(c,g){c=this.get2DCursorLocation(c);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex,{});this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{});fabric.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),g)},_initDimensions:function(c){c||this.clearContextTop();this.callSuper("_initDimensions",
c)},render:function(c,g){this.clearContextTop();this.callSuper("render",c,g)},_render:function(c){this.callSuper("_render",c);this.ctx=c;this.cursorOffsetCache={};this.renderCursorOrSelection()},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var c=this.canvas.contextTop;c.save();c.transform.apply(c,this.canvas.viewportTransform);this.transform(c);this.transformMatrix&&c.transform.apply(c,this.transformMatrix);this._clearTextArea(c);c.restore()}},renderCursorOrSelection:function(){if(this.active&&
this.isEditing){var c=this.text.split(""),g,d;this.canvas&&this.canvas.contextTop?(d=this.canvas.contextTop,d.save(),d.transform.apply(d,this.canvas.viewportTransform),this.transform(d),this.transformMatrix&&d.transform.apply(d,this.transformMatrix),this._clearTextArea(d)):(d=this.ctx,d.save());this.selectionStart===this.selectionEnd?(g=this._getCursorBoundaries(c,"cursor"),this.renderCursor(g,d)):(g=this._getCursorBoundaries(c,"selection"),this.renderSelection(c,g,d));d.restore()}},_clearTextArea:function(c){var g=
this.width+4,d=this.height+4;c.clearRect(-g/2,-d/2,g,d)},get2DCursorLocation:function(c){"undefined"===typeof c&&(c=this.selectionStart);for(var g=this._textLines.length,d=0;d<g;d++){if(c<=this._textLines[d].length)return{lineIndex:d,charIndex:c};c-=this._textLines[d].length+1}return{lineIndex:d-1,charIndex:this._textLines[d-1].length<c?this._textLines[d-1].length:c}},getCurrentCharStyle:function(c,g){c=this._getStyleDeclaration(c,0===g?0:g-1);return{fontSize:c&&c.fontSize||this.fontSize,fill:c&&
c.fill||this.fill,textBackgroundColor:c&&c.textBackgroundColor||this.textBackgroundColor,textDecoration:c&&c.textDecoration||this.textDecoration,fontFamily:c&&c.fontFamily||this.fontFamily,fontWeight:c&&c.fontWeight||this.fontWeight,fontStyle:c&&c.fontStyle||this.fontStyle,stroke:c&&c.stroke||this.stroke,strokeWidth:c&&c.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(c,g){return(c=this._getStyleDeclaration(c,0===g?0:g-1))&&c.fontSize?c.fontSize:this.fontSize},getCurrentCharColor:function(c,
g){return(c=this._getStyleDeclaration(c,0===g?0:g-1))&&c.fill?c.fill:this.cursorColor},_getCursorBoundaries:function(c,g){var d=Math.round(this._getLeftOffset()),b=this._getTopOffset();c=this._getCursorBoundariesOffsets(c,g);return{left:d,top:b,leftOffset:c.left+c.lineLeft,topOffset:c.top}},_getCursorBoundariesOffsets:function(c,g){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var d=0,b=0,f=0,a=0,e=0,l=0;l<this.selectionStart;l++)"\n"===c[l]?(e=0,a+=this._getHeightOfLine(this.ctx,
b),b++,f=0):(e+=this._getWidthOfChar(this.ctx,c[l],b,f),f++),d=this._getLineLeftOffset(this._getLineWidth(this.ctx,b));"cursor"===g&&(a+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,b)/this.lineHeight-this.getCurrentCharFontSize(b,f)*(1-this._fontSizeFraction));0!==this.charSpacing&&f===this._textLines[b].length&&(e-=this._getWidthOfCharSpacing());return this.cursorOffsetCache={top:a,left:0<e?e:0,lineLeft:d}},renderCursor:function(c,g){var d=this.get2DCursorLocation(),b=d.lineIndex,d=
d.charIndex,f=this.getCurrentCharFontSize(b,d),a=0===b&&0===d?this._getLineLeftOffset(this._getLineWidth(g,b)):c.leftOffset,e=this.scaleX*this.canvas.getZoom(),e=this.cursorWidth/e;g.fillStyle=this.getCurrentCharColor(b,d);g.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity;g.fillRect(c.left+a-e/2,c.top+c.topOffset,e,f)},renderSelection:function(c,g,d){d.fillStyle=this.selectionColor;c=this.get2DCursorLocation(this.selectionStart);for(var b=this.get2DCursorLocation(this.selectionEnd),f=
c.lineIndex,a=b.lineIndex,e=f;e<=a;e++){var l=this._getLineLeftOffset(this._getLineWidth(d,e))||0,n=this._getHeightOfLine(this.ctx,e),m,p=0;m=this._textLines[e];if(e===f){for(var q=0,t=m.length;q<t;q++)q>=c.charIndex&&(e!==a||q<b.charIndex)&&(p+=this._getWidthOfChar(d,m[q],e,q)),q<c.charIndex&&(l+=this._getWidthOfChar(d,m[q],e,q));q===m.length&&(p-=this._getWidthOfCharSpacing())}else if(e>f&&e<a)p+=this._getLineWidth(d,e)||5;else if(e===a){q=0;for(t=b.charIndex;q<t;q++)p+=this._getWidthOfChar(d,m[q],
e,q);b.charIndex===m.length&&(p-=this._getWidthOfCharSpacing())}m=n;if(1>this.lineHeight||e===a&&1<this.lineHeight)n/=this.lineHeight;d.fillRect(g.left+l,g.top+g.topOffset,0<p?p:0,n);g.topOffset+=m}},_renderChars:function(c,g,d,b,f,a,e){if(this.isEmptyStyles())return this._renderCharsFast(c,g,d,b,f);e=e||0;var h=this._getHeightOfLine(g,a),n,m,p="";g.save();f-=h/this.lineHeight*this._fontSizeFraction;for(var q=e,t=d.length+e;q<=t;q++){n=n||this.getCurrentCharStyle(a,q);m=this.getCurrentCharStyle(a,
q+1);if(this._hasStyleChanged(n,m)||q===t)this._renderChar(c,g,a,q-1,p,b,f,h),p="",n=m;p+=d[q-e]}g.restore()},_renderCharsFast:function(c,g,d,b,f){"fillText"===c&&this.fill&&this.callSuper("_renderChars",c,g,d,b,f);"strokeText"===c&&(this.stroke&&0<this.strokeWidth||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",c,g,d,b,f)},_renderChar:function(c,g,d,b,f,a,e,l){var h,m,p,q=this._getStyleDeclaration(d,b),t,u;q?(h=this._getHeightOfChar(g,f,d,b),p=q.stroke,m=q.fill,t=q.textDecoration):h=this.fontSize;
p=(p||this.stroke)&&"strokeText"===c;m=(m||this.fill)&&"fillText"===c;q&&g.save();c=this._applyCharStylesGetWidth(g,f,d,b,q||null);t=t||this.textDecoration;q&&q.textBackgroundColor&&this._removeShadow(g);if(0!==this.charSpacing){d=this._getWidthOfCharSpacing();f=f.split("");b=c=0;for(var v=f.length;b<v;b++)u=f[b],m&&g.fillText(u,a+c,e),p&&g.strokeText(u,a+c,e),u=g.measureText(u).width+d,c+=0<u?u:0}else m&&g.fillText(f,a,e),p&&g.strokeText(f,a,e);if(t||""!==t)l=this._fontSizeFraction*l/this.lineHeight,
this._renderCharDecoration(g,t,a,e,l,c,h);q&&g.restore();g.translate(c,0)},_hasStyleChanged:function(c,g){return c.fill!==g.fill||c.fontSize!==g.fontSize||c.textBackgroundColor!==g.textBackgroundColor||c.textDecoration!==g.textDecoration||c.fontFamily!==g.fontFamily||c.fontWeight!==g.fontWeight||c.fontStyle!==g.fontStyle||c.stroke!==g.stroke||c.strokeWidth!==g.strokeWidth},_renderCharDecoration:function(c,g,d,b,f,a,e){if(g){f=e/15;b={underline:b+e/10,"line-through":b-e*(this._fontSizeFraction+this._fontSizeMult-
1)+f,overline:b-(this._fontSizeMult-this._fontSizeFraction)*e};e=["underline","line-through","overline"];var h,n;for(h=0;h<e.length;h++)n=e[h],-1<g.indexOf(n)&&c.fillRect(d,b[n],a,f)}},_renderTextLine:function(c,g,d,b,f,a){this.isEmptyStyles()||(f+=this.fontSize*(this._fontSizeFraction+.03));this.callSuper("_renderTextLine",c,g,d,b,f,a)},_renderTextDecoration:function(c){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",c)},_renderTextLinesBackground:function(c){this.callSuper("_renderTextLinesBackground",
c);var g=0,d,b,f=this._getLeftOffset(),a=this._getTopOffset(),e,l,n;c.save();for(var m=0,p=this._textLines.length;m<p;m++){d=this._getHeightOfLine(c,m);e=this._textLines[m];if(""!==e&&this.styles&&this._getLineStyle(m)){b=this._getLineWidth(c,m);b=this._getLineLeftOffset(b);for(var q=0,t=e.length;q<t;q++)(n=this._getStyleDeclaration(m,q))&&n.textBackgroundColor&&(l=e[q],c.fillStyle=n.textBackgroundColor,c.fillRect(f+b+this._getWidthOfCharsAt(c,m,q),a+g,this._getWidthOfChar(c,l,m,q),d/this.lineHeight))}g+=
d}c.restore()},_getCacheProp:function(c,g){return c+g.fontSize+g.fontWeight+g.fontStyle},_getFontCache:function(c){fabric.charWidthsCache[c]||(fabric.charWidthsCache[c]={});return fabric.charWidthsCache[c]},_applyCharStylesGetWidth:function(c,g,d,b,h){var a=h||this._getStyleDeclaration(d,b);h=f(a);this._applyFontStyles(h);b=this._getFontCache(h.fontFamily);d=this._getCacheProp(g,h);if(!a&&b[d]&&this.caching)return b[d];"string"===typeof h.shadow&&(h.shadow=new fabric.Shadow(h.shadow));a=h.fill||this.fill;
c.fillStyle=a.toLive?a.toLive(c,this):a;h.stroke&&(c.strokeStyle=h.stroke&&h.stroke.toLive?h.stroke.toLive(c,this):h.stroke);c.lineWidth=h.strokeWidth||this.strokeWidth;c.font=this._getFontDeclaration.call(h);h.shadow&&(h.scaleX=this.scaleX,h.scaleY=this.scaleY,h.canvas=this.canvas,h.getObjectScaling=this.getObjectScaling,this._setShadow.call(h,c));return this.caching&&b[d]?b[d]:(c=c.measureText(g).width,this.caching&&(b[d]=c),c)},_applyFontStyles:function(c){c.fontFamily||(c.fontFamily=this.fontFamily);
c.fontSize||(c.fontSize=this.fontSize);c.fontWeight||(c.fontWeight=this.fontWeight);c.fontStyle||(c.fontStyle=this.fontStyle)},_getStyleDeclaration:function(c,g,d){return d?this.styles[c]&&this.styles[c][g]?f(this.styles[c][g]):{}:this.styles[c]&&this.styles[c][g]?this.styles[c][g]:null},_setStyleDeclaration:function(c,g,d){this.styles[c][g]=d},_deleteStyleDeclaration:function(c,g){delete this.styles[c][g]},_getLineStyle:function(c){return this.styles[c]},_setLineStyle:function(c,g){this.styles[c]=
g},_deleteLineStyle:function(c){delete this.styles[c]},_getWidthOfChar:function(c,g,d,b){if(!this._isMeasuring&&"justify"===this.textAlign&&this._reSpacesAndTabs.test(g))return this._getWidthOfSpace(c,d);c.save();g=this._applyCharStylesGetWidth(c,g,d,b);0!==this.charSpacing&&(g+=this._getWidthOfCharSpacing());c.restore();return 0<g?g:0},_getHeightOfChar:function(c,g,d){return(c=this._getStyleDeclaration(g,d))&&c.fontSize?c.fontSize:this.fontSize},_getWidthOfCharsAt:function(c,g,d){var b=0,f,a;for(f=
0;f<d;f++)a=this._textLines[g][f],b+=this._getWidthOfChar(c,a,g,f);return b},_measureLine:function(c,g){this._isMeasuring=!0;c=this._getWidthOfCharsAt(c,g,this._textLines[g].length);0!==this.charSpacing&&(c-=this._getWidthOfCharSpacing());this._isMeasuring=!1;return 0<c?c:0},_getWidthOfSpace:function(c,g){if(this.__widthOfSpace[g])return this.__widthOfSpace[g];var d=this._textLines[g],b=this._getWidthOfWords(c,d,g,0),b=this.width-b,d=d.length-d.replace(this._reSpacesAndTabs,"").length;c=Math.max(b/
d,c.measureText(" ").width);return this.__widthOfSpace[g]=c},_getWidthOfWords:function(c,g,d,b){for(var f=0,a=0;a<g.length;a++){var e=g[a];e.match(/\s/)||(f+=this._getWidthOfChar(c,e,d,a+b))}return f},_getHeightOfLine:function(c,g){if(this.__lineHeights[g])return this.__lineHeights[g];for(var d=this._textLines[g],b=this._getHeightOfChar(c,g,0),f=1,d=d.length;f<d;f++){var a=this._getHeightOfChar(c,g,f);a>b&&(b=a)}this.__lineHeights[g]=b*this.lineHeight*this._fontSizeMult;return this.__lineHeights[g]},
_getTextHeight:function(c){for(var g,d=0,b=0,f=this._textLines.length;b<f;b++)g=this._getHeightOfLine(c,b),d+=b===f-1?g/this.lineHeight:g;return d},toObject:function(c){return fabric.util.object.extend(this.callSuper("toObject",c),{styles:f(this.styles,!0)})}});fabric.IText.fromObject=function(c,g){c=new fabric.IText(c.text,f(c));g&&g(c);return c}})();
(function(){var f=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler();this.initRemovedHandler();this.initCursorSelectionHandlers();this.initDoubleClickSimulation();this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},initSelectedHandler:function(){this.on("selected",function(){var c=this;setTimeout(function(){c.selected=!0},100)})},initAddedHandler:function(){var c=this;this.on("added",function(){var g=c.canvas;g&&(g._hasITextHandlers||
(g._hasITextHandlers=!0,c._initCanvasHandlers(g)),g._iTextInstances=g._iTextInstances||[],g._iTextInstances.push(c))})},initRemovedHandler:function(){var c=this;this.on("removed",function(){var g=c.canvas;g&&(g._iTextInstances=g._iTextInstances||[],fabric.util.removeFromArray(g._iTextInstances,c),0===g._iTextInstances.length&&(g._hasITextHandlers=!1,c._removeCanvasHandlers(g)))})},_initCanvasHandlers:function(c){c._canvasITextSelectionClearedHanlder=function(){fabric.IText.prototype.exitEditingOnOthers(c)}.bind(this);
c._mouseUpITextHandler=function(){c._iTextInstances&&c._iTextInstances.forEach(function(c){c.__isMousedown=!1})}.bind(this);c.on("selection:cleared",c._canvasITextSelectionClearedHanlder);c.on("object:selected",c._canvasITextSelectionClearedHanlder);c.on("mouse:up",c._mouseUpITextHandler)},_removeCanvasHandlers:function(c){c.off("selection:cleared",c._canvasITextSelectionClearedHanlder);c.off("object:selected",c._canvasITextSelectionClearedHanlder);c.off("mouse:up",c._mouseUpITextHandler)},_tick:function(){this._currentTickState=
this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(c,g,d,b){var f;f={isAborted:!1,abort:function(){this.isAborted=!0}};c.animate("_currentCursorOpacity",g,{duration:d,onComplete:function(){if(!f.isAborted)c[b]()},onChange:function(){c.canvas&&c.selectionStart===c.selectionEnd&&c.renderCursorOrSelection()},abort:function(){return f.isAborted}});return f},_onTickComplete:function(){var c=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1);this._cursorTimeout1=
setTimeout(function(){c._currentTickCompleteState=c._animateCursor(c,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(c){var g=this;c=c?0:this.cursorDelay;this.abortCursorAnimation();this._currentCursorOpacity=1;this._cursorTimeout2=setTimeout(function(){g._tick()},c)},abortCursorAnimation:function(){var c=this._currentTickState||this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort();this._currentTickCompleteState&&this._currentTickCompleteState.abort();
clearTimeout(this._cursorTimeout1);clearTimeout(this._cursorTimeout2);this._currentCursorOpacity=0;c&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.selectionStart=0;this.selectionEnd=this.text.length;this._fireSelectionChanged();this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(c){var g=0,d=c-1;if(this._reSpace.test(this.text.charAt(d)))for(;this._reSpace.test(this.text.charAt(d));)g++,
d--;for(;/\S/.test(this.text.charAt(d))&&-1<d;)g++,d--;return c-g},findWordBoundaryRight:function(c){var g=0,d=c;if(this._reSpace.test(this.text.charAt(d)))for(;this._reSpace.test(this.text.charAt(d));)g++,d++;for(;/\S/.test(this.text.charAt(d))&&d<this.text.length;)g++,d++;return c+g},findLineBoundaryLeft:function(c){for(var g=0,d=c-1;!/\n/.test(this.text.charAt(d))&&-1<d;)g++,d--;return c-g},findLineBoundaryRight:function(c){for(var g=0,d=c;!/\n/.test(this.text.charAt(d))&&d<this.text.length;)g++,
d++;return c+g},getNumNewLinesInSelectedText:function(){for(var c=this.getSelectedText(),g=0,d=0,b=c.length;d<b;d++)"\n"===c[d]&&g++;return g},searchWordBoundary:function(c,g){c=this._reSpace.test(this.text.charAt(c))?c-1:c;for(var d=this.text.charAt(c),b=/[ \n\.,;!\?\-]/;!b.test(d)&&0<c&&c<this.text.length;)c+=g,d=this.text.charAt(c);b.test(d)&&"\n"!==d&&(c+=1===g?0:1);return c},selectWord:function(c){c=c||this.selectionStart;var g=this.searchWordBoundary(c,-1);c=this.searchWordBoundary(c,1);this.selectionStart=
g;this.selectionEnd=c;this._fireSelectionChanged();this._updateTextarea();this.renderCursorOrSelection()},selectLine:function(c){c=c||this.selectionStart;var g=this.findLineBoundaryLeft(c);c=this.findLineBoundaryRight(c);this.selectionStart=g;this.selectionEnd=c;this._fireSelectionChanged();this._updateTextarea()},enterEditing:function(c){if(!this.isEditing&&this.editable){this.canvas&&this.exitEditingOnOthers(this.canvas);this.isEditing=!0;this.initHiddenTextarea(c);this.hiddenTextarea.focus();this._updateTextarea();
this._saveEditingProps();this._setEditingProps();this._textBeforeEdit=this.text;this._tick();this.fire("editing:entered");if(!this.canvas)return this;this.canvas.fire("text:editing:entered",{target:this});this.initMouseMoveHandler();this.canvas.renderAll();return this}},exitEditingOnOthers:function(c){c._iTextInstances&&c._iTextInstances.forEach(function(c){c.selected=!1;c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(c){if(this.__isMousedown&&
this.isEditing){c=this.getSelectionStartFromPointer(c.e);var g=this.selectionStart,d=this.selectionEnd;c!==this.__selectionStartOnMouseDown&&(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart!==g||this.selectionEnd!==d)&&(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection())}},_setEditingProps:function(){this.hoverCursor=
"text";this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text");this.borderColor=this.editingBorderColor;this.hasControls=this.selectable=!1;this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var c=this._calcTextareaPosition();
this.hiddenTextarea.style.left=c.left;this.hiddenTextarea.style.top=c.top;this.hiddenTextarea.style.fontSize=c.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var c=this.text.split(""),g=this._getCursorBoundaries(c,"cursor"),c=this.get2DCursorLocation(),d=c.lineIndex,b=c.charIndex,c=this.getCurrentCharFontSize(d,b),b=0===d&&0===b?this._getLineLeftOffset(this._getLineWidth(this.ctx,d)):g.leftOffset,d=this.calcTransformMatrix(),g={x:g.left+b,y:g.top+g.topOffset+c},f=this.canvas.upperCanvasEl,
b=f.width-c,f=f.height-c,g=fabric.util.transformPoint(g,d),g=fabric.util.transformPoint(g,this.canvas.viewportTransform);0>g.x&&(g.x=0);g.x>b&&(g.x=b);0>g.y&&(g.y=0);g.y>f&&(g.y=f);g.x+=this.canvas._offset.left;g.y+=this.canvas._offset.top;return{left:g.x+"px",top:g.y+"px",fontSize:c}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&
this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var c=
this._textBeforeEdit!==this.text;this.isEditing=this.selected=!1;this.selectable=!0;this.selectionEnd=this.selectionStart;this.hiddenTextarea.blur&&this.hiddenTextarea.blur();this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea);this.hiddenTextarea=null;this.abortCursorAnimation();this._restoreEditingProps();this._currentCursorOpacity=0;this.fire("editing:exited");c&&this.fire("modified");this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),
this.canvas.fire("text:editing:exited",{target:this}),c&&this.canvas.fire("object:modified",{target:this}));return this},_removeExtraneousStyles:function(){for(var c in this.styles)this._textLines[c]||delete this.styles[c]},_removeCharsFromTo:function(c,g){for(;g!==c;)this._removeSingleCharAndStyle(c+1),g--;this.selectionEnd=this.selectionStart=c},_removeSingleCharAndStyle:function(c){var g="\n"===this.text[c-1];this.removeStyleObject(g,g?c:c-1);this.text=this.text.slice(0,c-1)+this.text.slice(c);
this._textLines=this._splitTextIntoLines()},insertChars:function(c,g){var d;1<this.selectionEnd-this.selectionStart&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd);if(!g&&this.isEmptyStyles())this.insertChar(c,!1);else for(var b=0,f=c.length;b<f;b++)g&&(d=fabric.copiedTextStyle[b]),this.insertChar(c[b],b<f-1,d)},insertChar:function(c,g,d){var b="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+c+this.text.slice(this.selectionEnd);this._textLines=
this._splitTextIntoLines();this.insertStyleObjects(c,b,d);this.selectionEnd=this.selectionStart+=c.length;g||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this}),this.canvas&&this.canvas.renderAll())},insertNewlineStyleObject:function(c,g,d){this.shiftLineStyles(c,1);this.styles[c+1]||(this.styles[c+1]={});var b={},h={};this.styles[c]&&this.styles[c][g-1]&&(b=this.styles[c][g-1]);if(d)h[0]=f(b);else for(var a in this.styles[c])parseInt(a,
10)>=g&&(h[parseInt(a,10)-g]=this.styles[c][a],delete this.styles[c][a]);this.styles[c+1]=h;this._forceClearCache=!0},insertCharStyleObject:function(c,g,d){var b=this.styles[c],h=f(b);0!==g||d||(g=1);for(var a in h){var e=parseInt(a,10);e>=g&&(b[e+1]=h[e],h[e-1]||delete b[e])}this.styles[c][g]=d||f(b[g-1]);this._forceClearCache=!0},insertStyleObjects:function(c,g,d){var b=this.get2DCursorLocation(),f=b.lineIndex,b=b.charIndex;this._getLineStyle(f)||this._setLineStyle(f,{});"\n"===c?this.insertNewlineStyleObject(f,
b,g):this.insertCharStyleObject(f,b,d)},shiftLineStyles:function(c,g){var d=f(this.styles),b;for(b in this.styles){var h=parseInt(b,10);h>c&&(this.styles[h+g]=d[h],d[h-g]||delete this.styles[h])}},removeStyleObject:function(c,f){f=this.get2DCursorLocation(f);this._removeStyleObject(c,f,f.lineIndex,f.charIndex)},_getTextOnPreviousLine:function(c){return this._textLines[c-1]},_removeStyleObject:function(c,g,d,b){if(c){var h=this._getTextOnPreviousLine(g.lineIndex),h=h?h.length:0;this.styles[d-1]||(this.styles[d-
1]={});for(b in this.styles[d])this.styles[d-1][parseInt(b,10)+h]=this.styles[d][b];this.shiftLineStyles(g.lineIndex,-1)}else for(h in(g=this.styles[d])&&delete g[b],d=f(g),d)c=parseInt(h,10),c>=b&&0!==c&&(g[c-1]=d[c],delete g[c])},insertNewline:function(){this.insertChars("\n")},setSelectionStartEndWithShift:function(c,f,d){d<=c?(f===c?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=c),this.selectionStart=d):d>c&&d<f?"right"===
this._selectionDirection?this.selectionEnd=d:this.selectionStart=d:(f===c?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=d)},setSelectionInBoundaries:function(){var c=this.text.length;this.selectionStart>c?this.selectionStart=c:0>this.selectionStart&&(this.selectionStart=0);this.selectionEnd>c?this.selectionEnd=c:0>this.selectionEnd&&(this.selectionEnd=0)}})})();
fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date;this.__lastLastClickTime=+new Date;this.__lastPointer={};this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(f){this.__newClickTime=+new Date;var c=this.canvas.getPointer(f.e);this.isTripleClick(c)?(this.fire("tripleclick",f),this._stopEvent(f.e)):this.isDoubleClick(c)&&(this.fire("dblclick",f),this._stopEvent(f.e));this.__lastLastClickTime=this.__lastClickTime;
this.__lastClickTime=this.__newClickTime;this.__lastPointer=c;this.__lastIsEditing=this.isEditing;this.__lastSelected=this.selected},isDoubleClick:function(f){return 500>this.__newClickTime-this.__lastClickTime&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y&&this.__lastIsEditing},isTripleClick:function(f){return 500>this.__newClickTime-this.__lastClickTime&&500>this.__lastClickTime-this.__lastLastClickTime&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y},_stopEvent:function(f){f.preventDefault&&
f.preventDefault();f.stopPropagation&&f.stopPropagation()},initCursorSelectionHandlers:function(){this.initSelectedHandler();this.initMousedownHandler();this.initMouseupHandler();this.initClicks()},initClicks:function(){this.on("dblclick",function(f){this.selectWord(this.getSelectionStartFromPointer(f.e))});this.on("tripleclick",function(f){this.selectLine(this.getSelectionStartFromPointer(f.e))})},initMousedownHandler:function(){this.on("mousedown",function(f){if(this.editable){var c=this.canvas.getPointer(f.e);
this.__mousedownX=c.x;this.__mousedownY=c.y;this.__isMousedown=!0;this.selected&&this.setCursorByClick(f.e);this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}})},_isObjectMoved:function(f){f=this.canvas.getPointer(f);return this.__mousedownX!==f.x||this.__mousedownY!==f.y},initMouseupHandler:function(){this.on("mouseup",function(f){this.__isMousedown=!1;this.editable&&!this._isObjectMoved(f.e)&&
(this.__lastSelected&&!this.__corner&&(this.enterEditing(f.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)})},setCursorByClick:function(f){var c=this.getSelectionStartFromPointer(f),g=this.selectionStart,d=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(g,d,c):this.selectionEnd=this.selectionStart=c;this._fireSelectionChanged();this._updateTextarea()},getSelectionStartFromPointer:function(f){f=this.getLocalPointer(f);
for(var c=0,g,d=0,b=0,h,a=0,e=this._textLines.length;a<e;a++){h=this._textLines[a];d+=this._getHeightOfLine(this.ctx,a)*this.scaleY;g=this._getLineWidth(this.ctx,a);g=this._getLineLeftOffset(g)*this.scaleX;for(var l=0,n=h.length;l<n;l++)if(c=g,g+=this._getWidthOfChar(this.ctx,h[l],a,this.flipX?n-l:l)*this.scaleX,d<=f.y||g<=f.x)b++;else return this._getNewSelectionStartFromOffset(f,c,g,b+a,n);if(f.y<d)return this._getNewSelectionStartFromOffset(f,c,g,b+a-1,n)}return this.text.length},_getNewSelectionStartFromOffset:function(f,
c,g,d,b){f=d+(g-f.x>f.x-c?0:1);this.flipX&&(f=b-f);f>this.text.length&&(f=this.text.length);return f}});
fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea");this.hiddenTextarea.setAttribute("autocapitalize","off");var f=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+f.top+"; left: "+f.left+"; opacity: 0; width: 0px; height: 0px; z-index: -999;";fabric.document.body.appendChild(this.hiddenTextarea);fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this));
fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this));fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this));fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this));fabric.util.addListener(this.hiddenTextarea,"cut",this.cut.bind(this));fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this));fabric.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this));fabric.util.addListener(this.hiddenTextarea,
"compositionupdate",this.onCompositionUpdate.bind(this));fabric.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this));!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},_keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",
39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},_ctrlKeysMapUp:{67:"copy",88:"cut"},_ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(f){if(this.isEditing){if(f.keyCode in this._keysMap)this[this._keysMap[f.keyCode]](f);else if(f.keyCode in this._ctrlKeysMapDown&&(f.ctrlKey||f.metaKey))this[this._ctrlKeysMapDown[f.keyCode]](f);else return;f.stopImmediatePropagation();f.preventDefault();this.canvas&&this.canvas.renderAll()}},
onKeyUp:function(f){!this.isEditing||this._copyDone?this._copyDone=!1:f.keyCode in this._ctrlKeysMapUp&&(f.ctrlKey||f.metaKey)&&(this[this._ctrlKeysMapUp[f.keyCode]](f),f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.renderAll())},onInput:function(f){if(this.isEditing&&!this.inCompositionMode){var c=this.selectionStart||0,g=this.selectionEnd||0,d=this.text.length,b=this.hiddenTextarea.value.length;b>d?(c="left"===this._selectionDirection?g:c,d=this.hiddenTextarea.value.slice(c,
c+(b-d))):d=this.hiddenTextarea.value.slice(c,c+(b-d+g-c));this.insertChars(d);f.stopPropagation()}},onCompositionStart:function(){this.inCompositionMode=!0;this.prevCompositionLength=0;this.compositionStart=this.selectionStart},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(f){f=f.data;this.selectionStart=this.compositionStart;this.selectionEnd=this.selectionEnd===this.selectionStart?this.compositionStart+this.prevCompositionLength:this.selectionEnd;this.insertChars(f,
!1);this.prevCompositionLength=f.length},forwardDelete:function(f){if(this.selectionStart===this.selectionEnd){if(this.selectionStart===this.text.length)return;this.moveCursorRight(f)}this.removeChars(f)},copy:function(f){if(this.selectionStart!==this.selectionEnd){var c=this.getSelectedText(),g=this._getClipboardData(f);g&&g.setData("text",c);fabric.copiedText=c;fabric.copiedTextStyle=fabric.util.object.clone(this.getSelectionStyles(this.selectionStart,this.selectionEnd));f.stopImmediatePropagation();
f.preventDefault();this._copyDone=!0}},paste:function(f){var c;c=this._getClipboardData(f);var g=!0;c?(c=c.getData("text").replace(/\r/g,""),fabric.copiedTextStyle&&fabric.copiedText===c||(g=!1)):c=fabric.copiedText;c&&this.insertChars(c,g);f.stopImmediatePropagation();f.preventDefault()},cut:function(f){this.selectionStart!==this.selectionEnd&&(this.copy(f),this.removeChars(f))},_getClipboardData:function(f){return f&&f.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(f,
c){c=this._textLines[f].slice(0,c);for(var g=this._getLineWidth(this.ctx,f),g=this._getLineLeftOffset(g),d,b=0,h=c.length;b<h;b++)d=c[b],g+=this._getWidthOfChar(this.ctx,d,f,b);return g},getDownCursorOffset:function(f,c){var g=this._getSelectionForOffset(f,c),d=this.get2DCursorLocation(g);c=d.lineIndex;if(c===this._textLines.length-1||f.metaKey||34===f.keyCode)return this.text.length-g;f=d.charIndex;g=this._getWidthBeforeCursor(c,f);g=this._getIndexOnLine(c+1,g);return this._textLines[c].slice(f).length+
g+2},_getSelectionForOffset:function(f,c){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&c?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(f,c){var g=this._getSelectionForOffset(f,c),d=this.get2DCursorLocation(g);c=d.lineIndex;if(0===c||f.metaKey||33===f.keyCode)return-g;f=d.charIndex;g=this._getWidthBeforeCursor(c,f);g=this._getIndexOnLine(c-1,g);f=this._textLines[c].slice(0,f);return-this._textLines[c-1].length+g-f.length},_getIndexOnLine:function(f,c){for(var g=this._getLineWidth(this.ctx,
f),d=this._textLines[f],g=this._getLineLeftOffset(g),b=0,h,a=0,e=d.length;a<e;a++){var l=this._getWidthOfChar(this.ctx,d[a],f,a),g=g+l;if(g>c){h=!0;b=Math.abs(g-c)<Math.abs(g-l-c)?a:a-1;break}}h||(b=d.length-1);return b},moveCursorDown:function(f){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorUpOrDown("Down",f)},moveCursorUp:function(f){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",f)},_moveCursorUpOrDown:function(f,c){f=
this["get"+f+"CursorOffset"](c,"right"===this._selectionDirection);c.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f);0!==f&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(f){this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+f:this.selectionEnd+f);return 0!==
f},moveCursorWithoutShift:function(f){0>f?this.selectionEnd=this.selectionStart+=f:this.selectionStart=this.selectionEnd+=f;return 0!==f},moveCursorLeft:function(f){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",f)},_move:function(f,c,g){if(f.altKey)f=this["findWordBoundary"+g](this[c]);else if(f.metaKey||35===f.keyCode||36===f.keyCode)f=this["findLineBoundary"+g](this[c]);else return this[c]+="Left"===g?-1:1,!0;if(this[c]!==f)return this[c]=f,!0},_moveLeft:function(f,
c){return this._move(f,c,"Left")},_moveRight:function(f,c){return this._move(f,c,"Right")},moveCursorLeftWithoutShift:function(f){var c=!0;this._selectionDirection="left";this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(c=this._moveLeft(f,"selectionStart"));this.selectionEnd=this.selectionStart;return c},moveCursorLeftWithShift:function(f){if("right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd)return this._moveLeft(f,"selectionEnd");if(0!==this.selectionStart)return this._selectionDirection=
"left",this._moveLeft(f,"selectionStart")},moveCursorRight:function(f){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorLeftOrRight("Right",f)},_moveCursorLeftOrRight:function(f,c){f="moveCursor"+f+"With";this._currentCursorOpacity=1;f=c.shiftKey?f+"Shift":f+"outShift";this[f](c)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(f){if("left"===this._selectionDirection&&
this.selectionStart!==this.selectionEnd)return this._moveRight(f,"selectionStart");if(this.selectionEnd!==this.text.length)return this._selectionDirection="right",this._moveRight(f,"selectionEnd")},moveCursorRightWithoutShift:function(f){var c=!0;this._selectionDirection="right";this.selectionStart===this.selectionEnd?(c=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd;return c},removeChars:function(f){this.selectionStart===this.selectionEnd?
this._removeCharsNearCursor(f):this._removeCharsFromTo(this.selectionStart,this.selectionEnd);this.setSelectionEnd(this.selectionStart);this._removeExtraneousStyles();this.canvas&&this.canvas.renderAll();this.setCoords();this.fire("changed");this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(f){0!==this.selectionStart&&(f.metaKey?(f=this.findLineBoundaryLeft(this.selectionStart),this._removeCharsFromTo(f,this.selectionStart),this.setSelectionStart(f)):f.altKey?
(f=this.findWordBoundaryLeft(this.selectionStart),this._removeCharsFromTo(f,this.selectionStart),this.setSelectionStart(f)):(this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)))}});
(function(){var f=fabric.util.toFixed,c=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(c,d,b,f,a,e){this._getLineStyle(c)?this._setSVGTextLineChars(c,d,b,f,e):fabric.Text.prototype._setSVGTextLineText.call(this,c,d,b,f,a)},_setSVGTextLineChars:function(c,d,b,f,a){b=this._textLines[c];f=0;for(var e=this._getLineLeftOffset(this._getLineWidth(this.ctx,c))-this.width/2,g=this._getSVGLineTopOffset(c),h=this._getHeightOfLine(this.ctx,c),
m=0,p=b.length;m<p;m++){var q=this._getStyleDeclaration(c,m)||{};d.push(this._createTextCharSpan(b[m],q,e,g.lineTop+g.offset,f));var t=this._getWidthOfChar(this.ctx,b[m],c,m);q.textBackgroundColor&&a.push(this._createTextCharBg(q,e,g.lineTop,h,t,f));f+=t}},_getSVGLineTopOffset:function(c){for(var d=0,b=0;b<c;b++)d+=this._getHeightOfLine(this.ctx,b);c=this._getHeightOfLine(this.ctx,b);return{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*c/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(g,
d,b,h,a,e){return['\t\t\x3crect fill\x3d"',g.textBackgroundColor,'" x\x3d"',f(d+e,c),'" y\x3d"',f(b-this.height/2,c),'" width\x3d"',f(a,c),'" height\x3d"',f(h/this.lineHeight,c),'"\x3e\x3c/rect\x3e\n'].join("")},_createTextCharSpan:function(g,d,b,h,a){var e=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text",getSvgFilter:fabric.Object.prototype.getSvgFilter},d));return['\t\t\t\x3ctspan x\x3d"',f(b+a,c),'" y\x3d"',f(h-this.height/2,c),'" ',d.fontFamily?
'font-family\x3d"'+d.fontFamily.replace(/"/g,"'")+'" ':"",d.fontSize?'font-size\x3d"'+d.fontSize+'" ':"",d.fontStyle?'font-style\x3d"'+d.fontStyle+'" ':"",d.fontWeight?'font-weight\x3d"'+d.fontWeight+'" ':"",d.textDecoration?'text-decoration\x3d"'+d.textDecoration+'" ':"",'style\x3d"',e,'"\x3e',fabric.util.string.escapeXml(g),"\x3c/tspan\x3e\n"].join("")}})})();
(function(f){var c=f.fabric||(f.fabric={}),g=c.util.object.clone;c.Textbox=c.util.createClass(c.IText,c.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingY:!0,lockScalingFlip:!0,noScaleCache:!1,initialize:function(d,b){this.callSuper("initialize",d,b);this.setControlsVisibility(c.Textbox.getTextboxControlVisibility());this.ctx=this.objectCaching?this._cacheContext:c.util.createCanvasElement().getContext("2d");this._dimensionAffectingProps.push("width")},_initDimensions:function(d){this.__skipDimension||
(d||(d=c.util.createCanvasElement().getContext("2d"),this._setTextStyles(d),this.clearContextTop()),this.dynamicMinWidth=0,this._textLines=this._splitTextIntoLines(d),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this._clearCache(),this.height=this._getTextHeight(d))},_generateStyleMap:function(){for(var c=0,b=0,f=0,a={},e=0;e<this._textLines.length;e++)"\n"===this.text[f]&&0<e?(b=0,f++,c++):" "===this.text[f]&&0<e&&(b++,f++),a[e]={line:c,offset:b},f+=this._textLines[e].length,
b+=this._textLines[e].length;return a},_getStyleDeclaration:function(c,b,f){if(this._styleMap){var a=this._styleMap[c];if(!a)return f?{}:null;c=a.line;b=a.offset+b}return this.callSuper("_getStyleDeclaration",c,b,f)},_setStyleDeclaration:function(c,b,f){var a=this._styleMap[c];c=a.line;b=a.offset+b;this.styles[c][b]=f},_deleteStyleDeclaration:function(c,b){var d=this._styleMap[c];c=d.line;b=d.offset+b;delete this.styles[c][b]},_getLineStyle:function(c){return this.styles[this._styleMap[c].line]},
_setLineStyle:function(c,b){this.styles[this._styleMap[c].line]=b},_deleteLineStyle:function(c){delete this.styles[this._styleMap[c].line]},_wrapText:function(c,b){b=b.split(this._reNewline);var d=[],a;for(a=0;a<b.length;a++)d=d.concat(this._wrapLine(c,b[a],a));return d},_measureText:function(c,b,f,a){var d=0;a=a||0;for(var g=0,h=b.length;g<h;g++)d+=this._getWidthOfChar(c,b[g],f,g+a);return d},_wrapLine:function(c,b,f){var a=0,d=[],g="";b=b.split(" ");for(var h,m=0,p,q=0,t=0,u=!0,v=this._getWidthOfCharSpacing(),
x=0;x<b.length;x++)h=b[x],p=this._measureText(c,h,f,m),m+=h.length,a+=q+p-v,a>=this.width&&!u?(d.push(g),g="",a=p,u=!0):a+=v,u||(g+=" "),g+=h,q=this._measureText(c," ",f,m),m++,u=!1,p>t&&(t=p);x&&d.push(g);t>this.dynamicMinWidth&&(this.dynamicMinWidth=t-v);return d},_splitTextIntoLines:function(c){c=c||this.ctx;var b=this.textAlign;c.save();this._setTextStyles(c);this.textAlign="left";var d=this._wrapText(c,this.text);this.textAlign=b;c.restore();this._textLines=d;this._styleMap=this._generateStyleMap();
return d},setOnGroup:function(c,b){"scaleX"===c&&(this.set("scaleX",Math.abs(1/b)),this.set("width",this.get("width")*b/("undefined"===typeof this.__oldScaleX?1:this.__oldScaleX)),this.__oldScaleX=b)},get2DCursorLocation:function(c){"undefined"===typeof c&&(c=this.selectionStart);for(var b=this._textLines.length,d=0,a=0;a<b;a++){var e=this._textLines[a].length;if(c<=d+e)return{lineIndex:a,charIndex:c-d};d+=e;"\n"!==this.text[d]&&" "!==this.text[d]||d++}return{lineIndex:b-1,charIndex:this._textLines[b-
1].length}},_getCursorBoundariesOffsets:function(c,b){for(var d=c=0,a=this.get2DCursorLocation(),e=this._textLines[a.lineIndex].split(""),f=this._getLineLeftOffset(this._getLineWidth(this.ctx,a.lineIndex)),g=0;g<a.charIndex;g++)d+=this._getWidthOfChar(this.ctx,e[g],a.lineIndex,g);for(g=0;g<a.lineIndex;g++)c+=this._getHeightOfLine(this.ctx,g);"cursor"===b&&(c+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,a.lineIndex)/this.lineHeight-this.getCurrentCharFontSize(a.lineIndex,a.charIndex)*
(1-this._fontSizeFraction));return{top:c,left:d,lineLeft:f}},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(c){return this.callSuper("toObject",["minWidth"].concat(c))}});c.Textbox.fromObject=function(d,b){d=new c.Textbox(d.text,g(d));b&&b(d);return d};c.Textbox.getTextboxControlVisibility=function(){return{tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0}}})("undefined"!==typeof exports?exports:this);
(function(){var f=fabric.Canvas.prototype._setObjectScale;fabric.Canvas.prototype._setObjectScale=function(c,d,b,h,a,e,l){var g=d.target;if(g instanceof fabric.Textbox){if(c=c.x/d.scaleX/(g.width+g.strokeWidth)*g.width,c>=g.getMinWidth())return g.set("width",c),!0}else return f.call(fabric.Canvas.prototype,c,d,b,h,a,e,l)};fabric.Group.prototype._refreshControlsVisibility=function(){if("undefined"!==typeof fabric.Textbox)for(var c=this._objects.length;c--;)if(this._objects[c]instanceof fabric.Textbox){this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility());
break}};var c=fabric.util.object.clone;fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var c in this._styleMap)this._textLines[c]||delete this.styles[this._styleMap[c].line]},insertCharStyleObject:function(c,d,b){var f=this._styleMap[c];c=f.line;d=f.offset+d;fabric.IText.prototype.insertCharStyleObject.apply(this,[c,d,b])},insertNewlineStyleObject:function(c,d,b){var f=this._styleMap[c];c=f.line;d=f.offset+d;fabric.IText.prototype.insertNewlineStyleObject.apply(this,
[c,d,b])},shiftLineStyles:function(f,d){var b=c(this.styles);f=this._styleMap[f].line;for(var g in this.styles){var a=parseInt(g,10);a>f&&(this.styles[a+d]=b[a],b[a-d]||delete this.styles[a])}},_getTextOnPreviousLine:function(c){for(var d=this._textLines[c-1];this._styleMap[c-2]&&this._styleMap[c-2].line===this._styleMap[c-1].line;)d=this._textLines[c-2]+d,c--;return d},removeStyleObject:function(c,d){d=this.get2DCursorLocation(d);var b=this._styleMap[d.lineIndex];this._removeStyleObject(c,d,b.line,
b.offset+d.charIndex)}})})();(function(){var f=fabric.IText.prototype._getNewSelectionStartFromOffset;fabric.IText.prototype._getNewSelectionStartFromOffset=function(c,g,d,b,h){b=f.call(this,c,g,d,b,h);for(d=g=c=0;d<this._textLines.length;d++){c+=this._textLines[d].length;if(c+g>=b)break;"\n"!==this.text[c+g]&&" "!==this.text[c+g]||g++}return b-d+g}})();
(function(){function f(a,c,e){var f=d.parse(a);f.port||(f.port=0===f.protocol.indexOf("https:")?443:80);a=(0===f.protocol.indexOf("https:")?h:b).request({hostname:f.hostname,port:f.port,path:f.path,method:"GET"},function(a){var b="";c&&a.setEncoding(c);a.on("end",function(){e(b)});a.on("data",function(c){200===a.statusCode&&(b+=c)})});a.on("error",function(a){a.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+f.hostname+":"+f.port):fabric.log(a.message);e(null)});a.end()}
function c(a,b){require("fs").readFile(a,function(a,c){if(a)throw fabric.log(a),a;b(c)})}if("undefined"===typeof document||"undefined"===typeof window){var g=require("xmldom").DOMParser,d=require("url"),b=require("http"),h=require("https"),a=require("canvas"),e=require("canvas").Image;fabric.util.loadImage=function(a,b,d){function g(c){c?(h.src=new Buffer(c,"binary"),h._src=a,b&&b.call(d,h)):(h=null,b&&b.call(d,null,!0))}var h=new e;a&&(a instanceof Buffer||0===a.indexOf("data"))?(h.src=h._src=a,
b&&b.call(d,h)):a&&0!==a.indexOf("http")?c(a,g):a?f(a,"binary",g):b&&b.call(d,a)};fabric.loadSVGFromURL=function(a,b,d){a=a.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim();0!==a.indexOf("http")?c(a,function(a){fabric.loadSVGFromString(a.toString(),b,d)}):f(a,"",function(a){fabric.loadSVGFromString(a,b,d)})};fabric.loadSVGFromString=function(a,b,c){a=(new g).parseFromString(a);fabric.parseSVGDocument(a.documentElement,function(a,c){b&&b(a,c)},c)};fabric.util.getScript=function(a,b){f(a,"",function(a){eval(a);
b&&b()})};fabric.createCanvasForNode=function(b,c,d,e){e=e||d;var f=fabric.document.createElement("canvas"),g=new a(b||600,c||600,e);b=new a(b||600,c||600,e);f.style={};f.width=g.width;f.height=g.height;d=d||{};d.nodeCanvas=g;d.nodeCacheCanvas=b;d=new (fabric.Canvas||fabric.StaticCanvas)(f,d);d.nodeCanvas=g;d.nodeCacheCanvas=b;d.contextContainer=g.getContext("2d");d.contextCache=b.getContext("2d");d.Font=a.Font;return d};var l=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=
function(b,c){b=b||fabric.document.createElement("canvas");this.nodeCanvas=new a(b.width,b.height);this.nodeCacheCanvas=new a(b.width,b.height);l.call(this,b,c);this.contextContainer=this.nodeCanvas.getContext("2d");this.contextCache=this.nodeCacheCanvas.getContext("2d");this.Font=a.Font};fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()};fabric.StaticCanvas.prototype.createJPEGStream=function(a){return this.nodeCanvas.createJPEGStream(a)};fabric.StaticCanvas.prototype._initRetinaScaling=
function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this};fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);
var n=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(a,b){n.call(this,a,b);this.nodeCanvas[a]=b;return this};fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}})();
(function(f,c){function g(a){var b=f.URL||f.webkitURL,c=f.Blob,d=f.Worker;if(!(b&&c&&d&&a))return null;a=new c([a]);return new d(b.createObjectURL(a))}function d(a,b){if(A.enabled){var c=p(p({},A.opts),b);a.addEventListener("paste",function(a){for(var b=[],d=(a.clipboardData||{}).items||[],e=0;e<d.length;e++){var f=d[e].getAsFile();if(f){var g=/\/(.*)/.exec(f.type);!f.name&&g&&(f.name="clipboard"+e+"."+g[1]);b.push(f)}}b.length&&(l(a,b,c),a.preventDefault(),a.stopPropagation())},!1)}}function b(a,
b){if(A.enabled){var c=p(p({},A.opts),b);a.addEventListener("change",function(b){l(b,a.files,c)},!1);a.addEventListener("drop",function(a){a.stopPropagation();a.preventDefault();l(a,a.dataTransfer.files,c)},!1)}}function h(a,b){function d(a){return function(){g||a.apply(this,arguments)}}if(A.enabled){var e=p(p({},A.opts),b),f=e.dragClass,g=!1;a.addEventListener("dragenter",d(function(b){b.stopPropagation();b.preventDefault();f&&t(a,f)}),!1);a.addEventListener("dragleave",d(function(b){f&&u(a,f)}),
!1);a.addEventListener("dragover",d(function(b){b.stopPropagation();b.preventDefault();f&&t(a,f)}),!1);a.addEventListener("drop",d(function(b){b.stopPropagation();b.preventDefault();f&&u(a,f);l(b,b.dataTransfer.files,e)}),!1);c.body.addEventListener("dragstart",function(a){g=!0},!0);c.body.addEventListener("dragend",function(a){g=!1},!0);c.body.addEventListener("drop",function(a){a.dataTransfer.files&&a.dataTransfer.files.length&&(a.stopPropagation(),a.preventDefault())},!1)}}function a(a,b){for(var c=
0;c<a.length;c++){var d=a[c],e=d,f=d.name.substring(0,d.name.lastIndexOf(".")),g=d.name.substring(d.name.lastIndexOf(".")+1),h=c,l=y(),d=d.size,n=Math.floor(Math.log(d)/Math.log(1024)),d=(d/Math.pow(1024,Math.floor(n))).toFixed(2)+" "+"bytes kb MB GB TB PB".split(" ")[n];e.extra={nameNoExtension:f,extension:g,fileID:h,uniqueID:l,groupID:b,prettySize:d}}}function e(a,b,c){for(var d in b)if(a.match(new RegExp(d)))return"readAs"+b[d];return"readAs"+c}function l(b,c,d){function f(){n.ended=new Date;d.on.groupend(n)}
function h(){0===--l&&f()}var l=c.length,n={groupID:C(),files:c,started:new Date};A.output.push(n);a(c,n.groupID);d.on.groupstart(n);if(c.length){var m;B&&x&&(m=g("self.addEventListener('message', function(e) { var data\x3de.data; try { var reader \x3d new FileReaderSync; postMessage({ result: reader[data.readAs](data.file), extra: data.extra, file: data.file})} catch(e){ postMessage({ result:'error', extra:data.extra, file:data.file}); } }, false);"),m.onmessage=function(a){var b=a.data.file,c=a.data.result;
b.extra||(b.extra=a.data.extra);b.extra.ended=new Date;d.on["error"===c?"error":"load"]({target:{result:c}},b);h()});Array.prototype.forEach.call(c,function(a){a.extra.started=new Date;if(d.accept&&!a.type.match(new RegExp(d.accept)))d.on.skip(a),h();else if(!1===d.on.beforestart(a))d.on.skip(a),h();else{var c=e(a.type,d.readAsMap,d.readAsDefault);if(m)m.postMessage({file:a,extra:a.extra,readAs:c});else{var f=new v;f.originalEvent=b;w.forEach(function(b){f["on"+b]=function(c){if("load"==b||"error"==
b)a.extra.ended=new Date;d.on[b](c,a);"loadend"==b&&h()}});f[c](a)}}})}else f()}function n(){var a=g("onmessage \x3d function(e) { postMessage(!!FileReaderSync); };");a&&(a.onmessage=function(a){x=a.data},a.postMessage({}))}function m(){}function p(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):a[c]=b[c];return a}function q(a,b){return(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)")).test(a.className)}function t(a,b){q(a,b)||(a.className=
a.className?[a.className,b].join(" "):b)}function u(a,b){q(a,b)&&(a.className=a.className.replace(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""))}var v=f.FileReader,x=!1,w="loadstart progress load abort error loadend".split(" "),B=!1,A=f.FileReaderJS={enabled:!1,setupInput:b,setupDrop:h,setupClipboard:d,setSync:function(a){(B=a)&&!x&&n()},getSync:function(){return B&&x},output:[],opts:{dragClass:"drag",accept:!1,readAsDefault:"DataURL",readAsMap:{},on:{loadstart:m,
progress:m,load:m,abort:m,error:m,loadend:m,skip:m,groupstart:m,groupend:m,beforestart:m}}};"undefined"!==typeof jQuery&&(jQuery.fn.fileReaderJS=function(a){return this.each(function(){jQuery(this).is("input")?b(this,a):h(this,a)})},jQuery.fn.fileClipboard=function(a){return this.each(function(){d(this,a)})});if(v){var C=function(a){return function(){return a++}}(0),y=function(a){return function(){return a++}}(0);A.enabled=!0}})(this,document);
var ROOT_URL="http://localhost/budweiser_theremix/app/",PATH_DATA="js/data.json",COUNTDOWN_OPT=10,Model_Index=11,Frame_Index=0,base64="",hasCamera=!0,hasTag="#TEMTHIEUBAOTRAM",playerName="DUC VIET",zoom_canvs=.7,trackCamera=!1,Tool=function(f){this.name="budweiser theremix";this.version="1.0";this.canvas=new fabric.Canvas("canvas");this.max={width:$(window).width(),height:$(window).height()};this.ratioW=this.max.width/this.max.height;this.pictureFile={};this.imagesUp={};this.imagesUpNew={};this.typePicture=
{frame:0,model:1,file:2};this.typeVideo={model:0,capturing:1};this.renderCanvas(this.max.width)};Tool.prototype.renderCanvas=function(f){f=f||window.innerWidth;$("body").hasClass("fa")&&(f=810,this.max={width:1920,height:1080},this.ratioW=this.max.width/this.max.height);var c=f/this.ratioW;this.canvas.setWidth(f);this.canvas.setHeight(c);this.canvas.backgroundColor="#dfe7e9";this.canvas.renderAll()};
Tool.prototype.addVideo=function(f,c,g){var d=this;g=$(f).width()/$(f).height();var b=d.canvas.width;f=new fabric.Image(f,{top:0,left:0,width:b,height:b/g,flipX:!0});f.selectable=!1;d.canvas.insertAt(f,0);f.getElement().play();var h=!1;f.getElement().onended=function(){c&&"function"==typeof c&&(h=!0,c())};var a=function(){d.canvas.renderAll();1==h?fabric.util.cancelAnimationFrame(a):fabric.util.requestAnimFrame(a)};fabric.util.requestAnimFrame(a)};
Tool.prototype.snapCamera=function(f,c,g){var d=this,b=detectIE(),h=function(a){$(".up_file").addClass("ie");g(b)};if(0!=b)return g(b);navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;navigator.getUserMedia?navigator.getUserMedia({audio:!1,video:!0},function(a){var b=a.getTracks()[0];c&&"function"==typeof c&&c(b);var g=document.querySelector(f);g.src=window.URL.createObjectURL(a);g.onloadedmetadata=function(a){d.addVideo(g,
d.typeVideo.capturing)}},h):$(f).src=""};
Tool.prototype.addPicture=function(f,c,g){var d=this,b=d.canvas;fabric.Image.fromURL(f,function(f){if(c==d.typePicture.file){var a=d.canvas.width;f.set({width:a,height:a/(f.width/f.height),top:0,left:0,evented:!0,selectable:!0,centeredScaling:!0,opacity:0,cornerColor:"rgba(255,255,255,0)",hasBorders:!1});d.imagesUp=f;f.clone(function(a){a.set({opacity:1,evented:!1,selectable:!1});d.imagesUpNew=a;b.insertAt(a,0)});b.insertAt(f,0);f.on("moving",function(a){a=f.getTop();var b=f.getLeft(),c=f.getWidth(),
e=f.getHeight();d.resetObject(d.imagesUpNew,{top:a,left:b,width:c,height:e})});f.on("scaling",function(a){a=f.getTop();var b=f.getLeft(),c=f.getWidth(),e=f.getHeight();d.resetObject(d.imagesUpNew,{top:a,left:b,width:c,height:e})})}c==d.typePicture.model&&(a=d.canvas.width,f.set({width:a,height:a/(f.width/f.height),evented:!1,selectable:!1}),d.imagesframe=f,b.insertAt(f,0));c==d.typePicture.frame&&(f.width&&f.set({width:d.canvas.width,height:d.canvas.height,evented:!1,selectable:!1}),b.add(f),g&&"function"==
typeof g&&g());b.renderAll()})};Tool.prototype.fileRead=function(f,c,g){var d=this,b=new Image;window.File&&window.FileReader&&window.FileList&&window.Blob?(f=f.target.files[0],f.type.match("image")&&(c=new FileReader,c.addEventListener("load",function(c){c=c.target;b.onload=function(){d.canvas.remove(d.imagesUp);d.addPicture(d.pictureFile.src,2);"function"==typeof g&&g()};b.src=c.result;d.pictureFile.src=b.src}),c.readAsDataURL(f))):alert("Your browser does not support File API")};
Tool.prototype.fitImageOn=function(f,c,g){var d=f.width/f.height,b=c/g;d<b?(c=g,g=c/f.height*f.width):d>b?(g=c,c=g/f.width*f.height):c=g;return{width:g,height:c}};
Tool.prototype.addText=function(f,c){var g=30,d=20;1600<=this.max.width&&(g=50,d=30);1366>=this.max.width&&1280<=this.max.width&&(g=40,d=25);810>=this.max.width&&(g=34,d=17);g={fontFamily:"BudBold",fontSize:g,top:0,left:0,fill:"#ffffff",color:"blue",textAlign:"right",fontWeight:"bold",evented:!1,selectable:!1};f=new fabric.Text(f,{fontFamily:"BudBold",fontSize:d,top:0,left:0,fill:"#ffffff",color:"blue",textAlign:"right",evented:!1,selectable:!1,fontWeight:"bold"});c=new fabric.Text(c,g);this.canvas.add(c);
this.canvas.add(f);c.set({left:this.canvas.width-c.width-80,top:this.canvas.height-c.height-6});f.set({left:this.canvas.width-f.width-c.width-80-10,top:this.canvas.height-f.height-10});this.canvas.renderAll()};
Tool.prototype.zoomIt=function(f,c,g){f.setHeight(f.getHeight()*c);f.setWidth(f.getWidth()*c);if(f.backgroundImage){var d=f.backgroundImage;d.width*=c;d.height*=c}var d=f.getObjects(),b;for(b in d){var h=d[b].scaleY*c,a=d[b].left*c,e=d[b].top*c;d[b].scaleX*=c;d[b].scaleY=h;d[b].left=a;d[b].top=e;d[b].setCoords()}f.renderAll();f.calcOffset();g&&"function"==typeof g&&g()};Tool.prototype.resetObject=function(f,c){c&&"object"===typeof c&&f.set(c)};
var setCdOption=function(f){COUNTDOWN_OPT=3<=parseInt(f)?parseInt(f):0},getCdOption=function(){return COUNTDOWN_OPT},setTrackCamera=function(f){trackCamera=f},getTrackCamera=function(){return trackCamera};function isPortrait(f){return(f.naturalHeight||f.height)>(f.naturalWidth||f.width)}
var getBase64=function(f,c,g){var d=getCdOption();1==hasCamera&&$(".timeCoundow").show().text(d);var b=setInterval(function(){d--;if(0==d||0>d){$(".timeCoundow").addClass("disable");clearInterval(b);var h=f.toDataURL("image/jpeg",.5),a=function(){c();if(""!=h)return fabric.util.cancelAnimationFrame(a),g&&"function"==typeof g&&g(h),h};fabric.util.requestAnimFrame(a)}1==hasCamera&&$(".timeCoundow").show().text(d)},1E3)};
function ImgLoader(f,c,g){this.images={};var d=0,b=0;if(c||g)for(var h in f)b++;var a=this;for(h in f)this.images[h]=new Image,this.images[h].onload=function(){d++;c&&c(this,Math.floor(d/b*100));g&&d>=b&&g(a.images)},this.images[h].src=f[h]}function loadFont(f){fontLoader=new FontLoader(["BudBold"],{fontLoaded:function(c){},complete:function(c){null==c&&f&&"function"==typeof f&&f()}},3E3);fontLoader.loadFonts()}
function detectIE(){var f=window.navigator.userAgent,c=!1,g=-1<f.indexOf("Safari"),d=f.indexOf("MSIE "),b=-1<navigator.userAgent.indexOf("Chrome"),h=f.indexOf("Trident/"),a=f.indexOf("Edge/");!b&&g&&(c=!0);return 0<d||1==c||0<h||0<a?parseInt(f.substring(d+5,f.indexOf(".",d)),10):0<h?(c=f.indexOf("rv:"),parseInt(f.substring(c+3,f.indexOf(".",c)),10)):0<a?parseInt(f.substring(a+5,f.indexOf(".",a)),10):!1}
window.onload=function(){$(".wrapper.page-tool").length||$(".loadding-page").addClass("fade_out");BudWeiser.beforeStart();document.getElementById("video_frame");$.ajax({url:ROOT_URL+PATH_DATA,type:"post",async:!0,success:function(f){function c(){function c(){function a(a,b){g.imagesframe.scale((a-50)/100+b);g.imagesframe.center();a=g.canvas.getHeight()-g.imagesframe.getHeight();g.imagesframe.set({top:a});g.imagesframe.setCoords();g.canvas.renderAll()}$(".edit-controll").removeClass("disable");$("#slider-zoom").slider({orientation:"vertical",
value:50,slide:function(b,c){a(c.value,zoom_canvs)}});$(".zoom_in").on("click",function(){var b=$("#slider-zoom").slider("value");100==b?b=100:b++;$("#slider-zoom").slider("value",b);a(b,zoom_canvs)});$(".zoom_out").on("click",function(){var b=$("#slider-zoom").slider("value");0==b?b=0:b--;$("#slider-zoom").slider("value",b);a(b,zoom_canvs)});$(".confirm_edit").on("click",function(){$(".link-file, .edit-controll").addClass("disable");0==hasCamera?$(".link-snap").click():$(".link-snap").removeClass("disable")})}
function a(){BudWeiser.beforeGetBase64();getBase64(g.canvas,function(){$(".timeCoundow").removeClass("disable");$(".loadder").show()},function(a){$(".link-snap, .edit-controll, .timeCoundow").addClass("disable");var b=new Image;b.onload=function(){$(".image-output").html(b);e(b,function(a){setCdOption(0);f(a,function(){$(".loadder").hide();getTrackCamera().stop()})})};b.src=a})}function e(a,b){var c=document.getElementById("canvas_base"),d=c.getContext("2d");c.width=600;c.height=315;var e=new Image;
e.onload=function(){d.drawImage(e,0,0,600,315);b&&"function"==typeof b&&b(c)};e.src=a.src}function f(a,b){getBase64(a,function(){},function(a){base64=a;var c=new Image;c.onload=function(){$(".link-after").removeClass("disable");$(".image-facebook").attr("src",a);BudWeiser.afterGetBase64(a);b&&"function"===typeof b&&b()};c.src=a})}var g=new Tool({});(function(){var a=0,b=setInterval(function(){a++;2==a&&($("body").hasClass("fa"),zoom_canvs=1,g.zoomIt(g.canvas,zoom_canvs,function(){var a=33*g.canvas.height/
100;$("#slider-zoom").height(a)}),clearInterval(b))},0)})();g.addPicture(b,1);$(g.canvas.wrapperEl).on("mousewheel",function(a){var b=g.canvas.findTarget(a);a=a.originalEvent.wheelDelta/1E3;if(b&&b==g.imagesUp){b.scaleX+=a;b.scaleY+=a;.1>b.scaleX&&(b.scaleX=.1,b.scaleY=.1);10<b.scaleX&&(b.scaleX=10,b.scaleY=10);a=b.getTop();var c=b.getLeft(),d=b.getWidth(),e=b.getHeight();g.resetObject(g.imagesUpNew,{top:a,left:c,width:d,height:e});g.imagesUpNew.center();b.center();b.setCoords();g.canvas.renderAll();
return!1}});var m=function(a){hasCamera=!1;0==a&&$(".btn-form.link-file").addClass("no_ie");$(".link-snap").addClass("disable");$(".link-file").removeClass("disable")},p=function(a){setTrackCamera(a);hasCamera=!0;c();$(".btn-form.link-file").addClass("no_ie");$(".link-file").addClass("disable")};g.snapCamera("#capturing",p,m);g.addPicture(d,0,function(){g.addText(hasTag,playerName)});$("#file_upload").on("change",function(a){BudWeiser.beforeUploadFile();g.fileRead(a,{top:0,left:0},function(){$(".link-file span").text("\u0110\u1ed5i \u1ea3nh");
$(".link-file .up_file").attr("change_src");$(".snap_file").removeClass("disable");$(".link-file, .up_file").addClass("disable");c()})});$(".img-link.snap_file").on("click",function(){$(".snap_file").addClass("disable");$(".link-snap").click()});$(".link-snap-prev").on("click",function(){$(".timeCoundow").hide();$(".image-output").html("");$(".link-after").addClass("disable");1==hasCamera?($(".link-snap, .edit-controll").removeClass("disable"),$(".link-snap").addClass("disable"),g.snapCamera("#capturing",
p,m)):(document.getElementById("change_img").reset(),$(".link-file, .up_file").removeClass("disable"),$(".snap_file").addClass("disable"),g.canvas.remove(g.imagesUp,g.imagesUpNew))});$(".link-snap").on("click",function(){$(".link-snap, .edit-controll").addClass("disable");0==hasCamera?($(".time_option").addClass("disable"),$(".loadder").show(),setCdOption(0),a()):$(".time_option").removeClass("disable")});$(".icon_time").on("click",function(){BudWeiser.beforeCounTime();$(".time_option").addClass("disable");
$(".timeCoundow").removeClass("disable");var b=$(this).attr("option_time");setCdOption(parseInt(b));a()})}f="string"==typeof f?JSON.parse(f):f;BudWeiser.getDataBeforeAjax(f.models);var g=f.frame[Frame_Index],d=g.image;f=f.models[Model_Index];var b=f.image;new ImgLoader({img1:g.image,img2:f.image},function(b,a){},function(b){loadFont(function(){$(".loadder").hide();$(".loadding-page").addClass("fade_out");c()})})}})};